!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AzureSTTPluginSDK=t():e.AzureSTTPluginSDK=t()}(self,(()=>(()=>{var e={19755:function(e,t){var i;!function(t,i){"use strict";"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,(function(r,n){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,c=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},u=o.push,h=o.indexOf,p={},d=p.toString,f=p.hasOwnProperty,l=f.toString,v=l.call(Object),x={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},_=r.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function S(e,t,i){var r,n,o=(i=i||_).createElement("script");if(o.text=e,t)for(r in y)(n=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,n);i.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[d.call(e)]||"object":typeof e}var w="3.6.0",C=function(e,t){return new C.fn.init(e,t)};function T(e){var t=!!e&&"length"in e&&e.length,i=b(e);return!g(e)&&!m(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:w,constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var e,t,i,r,n,o,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(u&&r&&(C.isPlainObject(r)||(n=Array.isArray(r)))?(i=s[t],o=n&&!Array.isArray(i)?[]:n||C.isPlainObject(i)?i:{},n=!1,s[t]=C.extend(u,o,r)):void 0!==r&&(s[t]=r));return s},C.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==d.call(e))&&(!(t=s(e))||"function"==typeof(i=f.call(t,"constructor")&&t.constructor)&&l.call(i)===v)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){S(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,r=0;if(T(e))for(i=e.length;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var i=t||[];return null!=e&&(T(Object(e))?C.merge(i,"string"==typeof e?[e]:e):u.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:h.call(t,e,i)},merge:function(e,t){for(var i=+t.length,r=0,n=e.length;r<i;r++)e[n++]=t[r];return e.length=n,e},grep:function(e,t,i){for(var r=[],n=0,o=e.length,s=!i;n<o;n++)!t(e[n],n)!==s&&r.push(e[n]);return r},map:function(e,t,i){var r,n,o=0,s=[];if(T(e))for(r=e.length;o<r;o++)null!=(n=t(e[o],o,i))&&s.push(n);else for(o in e)null!=(n=t(e[o],o,i))&&s.push(n);return c(s)},guid:1,support:x}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){p["[object "+t+"]"]=t.toLowerCase()}));var R=function(e){var t,i,r,n,o,s,a,c,u,h,p,d,f,l,v,x,g,m,_,y="sizzle"+1*new Date,S=e.document,b=0,w=0,C=ce(),T=ce(),R=ce(),E=ce(),P=function(e,t){return e===t&&(p=!0),0},I={}.hasOwnProperty,A=[],D=A.pop,k=A.push,M=A.push,O=A.slice,L=function(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\[[\\x20\\t\\r\\n\\f]*("+B+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+N+"*\\]",F=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",j=new RegExp(N+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),K=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),U=new RegExp(N+"|>"),V=new RegExp(F),$=new RegExp("^"+B+"$"),J={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ie=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){d()},se=ye((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{M.apply(A=O.call(S.childNodes),S.childNodes),A[S.childNodes.length].nodeType}catch(e){M={apply:A.length?function(e,t){k.apply(e,O.call(t))}:function(e,t){for(var i=e.length,r=0;e[i++]=t[r++];);e.length=i-1}}}function ae(e,t,r,n){var o,a,u,h,p,l,g,m=t&&t.ownerDocument,S=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return r;if(!n&&(d(t),t=t||f,v)){if(11!==S&&(p=Z.exec(e)))if(o=p[1]){if(9===S){if(!(u=t.getElementById(o)))return r;if(u.id===o)return r.push(u),r}else if(m&&(u=m.getElementById(o))&&_(t,u)&&u.id===o)return r.push(u),r}else{if(p[2])return M.apply(r,t.getElementsByTagName(e)),r;if((o=p[3])&&i.getElementsByClassName&&t.getElementsByClassName)return M.apply(r,t.getElementsByClassName(o)),r}if(i.qsa&&!E[e+" "]&&(!x||!x.test(e))&&(1!==S||"object"!==t.nodeName.toLowerCase())){if(g=e,m=t,1===S&&(U.test(e)||K.test(e))){for((m=ee.test(e)&&ge(t.parentNode)||t)===t&&i.scope||((h=t.getAttribute("id"))?h=h.replace(re,ne):t.setAttribute("id",h=y)),a=(l=s(e)).length;a--;)l[a]=(h?"#"+h:":scope")+" "+_e(l[a]);g=l.join(",")}try{return M.apply(r,m.querySelectorAll(g)),r}catch(t){E(e,!0)}finally{h===y&&t.removeAttribute("id")}}}return c(e.replace(H,"$1"),t,r,n)}function ce(){var e=[];return function t(i,n){return e.push(i+" ")>r.cacheLength&&delete t[e.shift()],t[i+" "]=n}}function ue(e){return e[y]=!0,e}function he(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var i=e.split("|"),n=i.length;n--;)r.attrHandle[i[n]]=t}function de(e,t){var i=t&&e,r=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function le(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function ve(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function xe(e){return ue((function(t){return t=+t,ue((function(i,r){for(var n,o=e([],i.length,t),s=o.length;s--;)i[n=o[s]]&&(i[n]=!(r[n]=i[n]))}))}))}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=ae.support={},o=ae.isXML=function(e){var t=e&&e.namespaceURI,i=e&&(e.ownerDocument||e).documentElement;return!G.test(t||i&&i.nodeName||"HTML")},d=ae.setDocument=function(e){var t,n,s=e?e.ownerDocument||e:S;return s!=f&&9===s.nodeType&&s.documentElement?(l=(f=s).documentElement,v=!o(f),S!=f&&(n=f.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),i.scope=he((function(e){return l.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),i.attributes=he((function(e){return e.className="i",!e.getAttribute("className")})),i.getElementsByTagName=he((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),i.getElementsByClassName=Y.test(f.getElementsByClassName),i.getById=he((function(e){return l.appendChild(e).id=y,!f.getElementsByName||!f.getElementsByName(y).length})),i.getById?(r.filter.ID=function(e){var t=e.replace(te,ie);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var i=t.getElementById(e);return i?[i]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ie);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var i,r,n,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(n=t.getElementsByName(e),r=0;o=n[r++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),r.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,r=[],n=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[n++];)1===i.nodeType&&r.push(i);return r}return o},r.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},g=[],x=[],(i.qsa=Y.test(f.querySelectorAll))&&(he((function(e){var t;l.appendChild(e).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&x.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||x.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+z+")"),e.querySelectorAll("[id~="+y+"-]").length||x.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||x.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||x.push(":checked"),e.querySelectorAll("a#"+y+"+*").length||x.push(".#.+[+~]"),e.querySelectorAll("\\\f"),x.push("[\\r\\n\\f]")})),he((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&x.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&x.push(":enabled",":disabled"),l.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&x.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),x.push(",.*:")}))),(i.matchesSelector=Y.test(m=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector||l.msMatchesSelector))&&he((function(e){i.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),g.push("!=",F)})),x=x.length&&new RegExp(x.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(l.compareDocumentPosition),_=t||Y.test(l.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},P=t?function(e,t){if(e===t)return p=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===r?e==f||e.ownerDocument==S&&_(S,e)?-1:t==f||t.ownerDocument==S&&_(S,t)?1:h?L(h,e)-L(h,t):0:4&r?-1:1)}:function(e,t){if(e===t)return p=!0,0;var i,r=0,n=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!n||!o)return e==f?-1:t==f?1:n?-1:o?1:h?L(h,e)-L(h,t):0;if(n===o)return de(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[r]===a[r];)r++;return r?de(s[r],a[r]):s[r]==S?-1:a[r]==S?1:0},f):f},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(d(e),i.matchesSelector&&v&&!E[t+" "]&&(!g||!g.test(t))&&(!x||!x.test(t)))try{var r=m.call(e,t);if(r||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){E(t,!0)}return ae(t,f,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=f&&d(e),_(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=f&&d(e);var n=r.attrHandle[t.toLowerCase()],o=n&&I.call(r.attrHandle,t.toLowerCase())?n(e,t,!v):void 0;return void 0!==o?o:i.attributes||!v?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(re,ne)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],n=0,o=0;if(p=!i.detectDuplicates,h=!i.sortStable&&e.slice(0),e.sort(P),p){for(;t=e[o++];)t===e[o]&&(n=r.push(o));for(;n--;)e.splice(r[n],1)}return h=null,e},n=ae.getText=function(e){var t,i="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=n(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)i+=n(t);return i},r=ae.selectors={cacheLength:50,createPseudo:ue,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&V.test(i)&&(t=s(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+N+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(r){var n=ae.attr(r,e);return null==n?"!="===t:!t||(n+="","="===t?n===i:"!="===t?n!==i:"^="===t?i&&0===n.indexOf(i):"*="===t?i&&n.indexOf(i)>-1:"$="===t?i&&n.slice(-i.length)===i:"~="===t?(" "+n.replace(j," ")+" ").indexOf(i)>-1:"|="===t&&(n===i||n.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,r,n){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===n?function(e){return!!e.parentNode}:function(t,i,c){var u,h,p,d,f,l,v=o!==s?"nextSibling":"previousSibling",x=t.parentNode,g=a&&t.nodeName.toLowerCase(),m=!c&&!a,_=!1;if(x){if(o){for(;v;){for(d=t;d=d[v];)if(a?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;l=v="only"===e&&!l&&"nextSibling"}return!0}if(l=[s?x.firstChild:x.lastChild],s&&m){for(_=(f=(u=(h=(p=(d=x)[y]||(d[y]={}))[d.uniqueID]||(p[d.uniqueID]={}))[e]||[])[0]===b&&u[1])&&u[2],d=f&&x.childNodes[f];d=++f&&d&&d[v]||(_=f=0)||l.pop();)if(1===d.nodeType&&++_&&d===t){h[e]=[b,f,_];break}}else if(m&&(_=f=(u=(h=(p=(d=t)[y]||(d[y]={}))[d.uniqueID]||(p[d.uniqueID]={}))[e]||[])[0]===b&&u[1]),!1===_)for(;(d=++f&&d&&d[v]||(_=f=0)||l.pop())&&((a?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++_||(m&&((h=(p=d[y]||(d[y]={}))[d.uniqueID]||(p[d.uniqueID]={}))[e]=[b,_]),d!==t)););return(_-=n)===r||_%r==0&&_/r>=0}}},PSEUDO:function(e,t){var i,n=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return n[y]?n(t):n.length>1?(i=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,i){for(var r,o=n(e,t),s=o.length;s--;)e[r=L(e,o[s])]=!(i[r]=o[s])})):function(e){return n(e,0,i)}):n}},pseudos:{not:ue((function(e){var t=[],i=[],r=a(e.replace(H,"$1"));return r[y]?ue((function(e,t,i,n){for(var o,s=r(e,null,n,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,n,o){return t[0]=e,r(t,null,o,i),t[0]=null,!i.pop()}})),has:ue((function(e){return function(t){return ae(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ie),function(t){return(t.textContent||n(t)).indexOf(e)>-1}})),lang:ue((function(e){return $.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ie).toLowerCase(),function(t){var i;do{if(i=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===l},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ve(!1),disabled:ve(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:xe((function(){return[0]})),last:xe((function(e,t){return[t-1]})),eq:xe((function(e,t,i){return[i<0?i+t:i]})),even:xe((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:xe((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:xe((function(e,t,i){for(var r=i<0?i+t:i>t?t:i;--r>=0;)e.push(r);return e})),gt:xe((function(e,t,i){for(var r=i<0?i+t:i;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=le(t);function me(){}function _e(e){for(var t=0,i=e.length,r="";t<i;t++)r+=e[t].value;return r}function ye(e,t,i){var r=t.dir,n=t.next,o=n||r,s=i&&"parentNode"===o,a=w++;return t.first?function(t,i,n){for(;t=t[r];)if(1===t.nodeType||s)return e(t,i,n);return!1}:function(t,i,c){var u,h,p,d=[b,a];if(c){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,i,c))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(h=(p=t[y]||(t[y]={}))[t.uniqueID]||(p[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=h[o])&&u[0]===b&&u[1]===a)return d[2]=u[2];if(h[o]=d,d[2]=e(t,i,c))return!0}return!1}}function Se(e){return e.length>1?function(t,i,r){for(var n=e.length;n--;)if(!e[n](t,i,r))return!1;return!0}:e[0]}function be(e,t,i,r,n){for(var o,s=[],a=0,c=e.length,u=null!=t;a<c;a++)(o=e[a])&&(i&&!i(o,r,n)||(s.push(o),u&&t.push(a)));return s}function we(e,t,i,r,n,o){return r&&!r[y]&&(r=we(r)),n&&!n[y]&&(n=we(n,o)),ue((function(o,s,a,c){var u,h,p,d=[],f=[],l=s.length,v=o||function(e,t,i){for(var r=0,n=t.length;r<n;r++)ae(e,t[r],i);return i}(t||"*",a.nodeType?[a]:a,[]),x=!e||!o&&t?v:be(v,d,e,a,c),g=i?n||(o?e:l||r)?[]:s:x;if(i&&i(x,g,a,c),r)for(u=be(g,f),r(u,[],a,c),h=u.length;h--;)(p=u[h])&&(g[f[h]]=!(x[f[h]]=p));if(o){if(n||e){if(n){for(u=[],h=g.length;h--;)(p=g[h])&&u.push(x[h]=p);n(null,g=[],u,c)}for(h=g.length;h--;)(p=g[h])&&(u=n?L(o,p):d[h])>-1&&(o[u]=!(s[u]=p))}}else g=be(g===s?g.splice(l,g.length):g),n?n(null,s,g,c):M.apply(s,g)}))}function Ce(e){for(var t,i,n,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],c=s?1:0,h=ye((function(e){return e===t}),a,!0),p=ye((function(e){return L(t,e)>-1}),a,!0),d=[function(e,i,r){var n=!s&&(r||i!==u)||((t=i).nodeType?h(e,i,r):p(e,i,r));return t=null,n}];c<o;c++)if(i=r.relative[e[c].type])d=[ye(Se(d),i)];else{if((i=r.filter[e[c].type].apply(null,e[c].matches))[y]){for(n=++c;n<o&&!r.relative[e[n].type];n++);return we(c>1&&Se(d),c>1&&_e(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(H,"$1"),i,c<n&&Ce(e.slice(c,n)),n<o&&Ce(e=e.slice(n)),n<o&&_e(e))}d.push(i)}return Se(d)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,s=ae.tokenize=function(e,t){var i,n,o,s,a,c,u,h=T[e+" "];if(h)return t?0:h.slice(0);for(a=e,c=[],u=r.preFilter;a;){for(s in i&&!(n=W.exec(a))||(n&&(a=a.slice(n[0].length)||a),c.push(o=[])),i=!1,(n=K.exec(a))&&(i=n.shift(),o.push({value:i,type:n[0].replace(H," ")}),a=a.slice(i.length)),r.filter)!(n=J[s].exec(a))||u[s]&&!(n=u[s](n))||(i=n.shift(),o.push({value:i,type:s,matches:n}),a=a.slice(i.length));if(!i)break}return t?a.length:a?ae.error(e):T(e,c).slice(0)},a=ae.compile=function(e,t){var i,n=[],o=[],a=R[e+" "];if(!a){for(t||(t=s(e)),i=t.length;i--;)(a=Ce(t[i]))[y]?n.push(a):o.push(a);a=R(e,function(e,t){var i=t.length>0,n=e.length>0,o=function(o,s,a,c,h){var p,l,x,g=0,m="0",_=o&&[],y=[],S=u,w=o||n&&r.find.TAG("*",h),C=b+=null==S?1:Math.random()||.1,T=w.length;for(h&&(u=s==f||s||h);m!==T&&null!=(p=w[m]);m++){if(n&&p){for(l=0,s||p.ownerDocument==f||(d(p),a=!v);x=e[l++];)if(x(p,s||f,a)){c.push(p);break}h&&(b=C)}i&&((p=!x&&p)&&g--,o&&_.push(p))}if(g+=m,i&&m!==g){for(l=0;x=t[l++];)x(_,y,s,a);if(o){if(g>0)for(;m--;)_[m]||y[m]||(y[m]=D.call(c));y=be(y)}M.apply(c,y),h&&!o&&y.length>0&&g+t.length>1&&ae.uniqueSort(c)}return h&&(b=C,u=S),_};return i?ue(o):o}(o,n)),a.selector=e}return a},c=ae.select=function(e,t,i,n){var o,c,u,h,p,d="function"==typeof e&&e,f=!n&&s(e=d.selector||e);if(i=i||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&v&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ie),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(o=J.needsContext.test(e)?0:c.length;o--&&(u=c[o],!r.relative[h=u.type]);)if((p=r.find[h])&&(n=p(u.matches[0].replace(te,ie),ee.test(c[0].type)&&ge(t.parentNode)||t))){if(c.splice(o,1),!(e=n.length&&_e(c)))return M.apply(i,n),i;break}}return(d||a(e,f))(n,t,!v,i,!t||ee.test(e)&&ge(t.parentNode)||t),i},i.sortStable=y.split("").sort(P).join("")===y,i.detectDuplicates=!!p,d(),i.sortDetached=he((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),he((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||pe("type|href|height|width",(function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),i.attributes&&he((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||pe("value",(function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),he((function(e){return null==e.getAttribute("disabled")}))||pe(z,(function(e,t,i){var r;if(!i)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ae}(r);C.find=R,C.expr=R.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=R.uniqueSort,C.text=R.getText,C.isXMLDoc=R.isXML,C.contains=R.contains,C.escapeSelector=R.escape;var E=function(e,t,i){for(var r=[],n=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&C(e).is(i))break;r.push(e)}return r},P=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},I=C.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k(e,t,i){return g(t)?C.grep(e,(function(e,r){return!!t.call(e,r,e)!==i})):t.nodeType?C.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?C.grep(e,(function(e){return h.call(t,e)>-1!==i})):C.filter(t,e,i)}C.filter=function(e,t,i){var r=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,i,r=this.length,n=this;if("string"!=typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<r;t++)if(C.contains(n[t],this))return!0})));for(i=this.pushStack([]),t=0;t<r;t++)C.find(e,n[t],i);return r>1?C.uniqueSort(i):i},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&I.test(e)?C(e):e||[],!1).length}});var M,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,i){var r,n;if(!e)return this;if(i=i||M,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!r[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:_,!0)),D.test(r[1])&&C.isPlainObject(t))for(r in t)g(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(n=_.getElementById(r[2]))&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==i.ready?i.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,M=C(_);var L=/^(?:parents|prev(?:Until|All))/,z={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var i,r=0,n=this.length,o=[],s="string"!=typeof e&&C(e);if(!I.test(e))for(;r<n;r++)for(i=this[r];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&C.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(C(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,i){return E(e,"parentNode",i)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,i){return E(e,"nextSibling",i)},prevUntil:function(e,t,i){return E(e,"previousSibling",i)},siblings:function(e){return P((e.parentNode||{}).firstChild,e)},children:function(e){return P(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(i,r){var n=C.map(this,t,i);return"Until"!==e.slice(-5)&&(r=i),r&&"string"==typeof r&&(n=C.filter(r,n)),this.length>1&&(z[e]||C.uniqueSort(n),L.test(e)&&n.reverse()),this.pushStack(n)}}));var B=/[^\x20\t\r\n\f]+/g;function q(e){return e}function F(e){throw e}function j(e,t,i,r){var n;try{e&&g(n=e.promise)?n.call(e).done(t).fail(i):e&&g(n=e.then)?n.call(e,t,i):t.apply(void 0,[e].slice(r))}catch(e){i.apply(void 0,[e])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(B)||[],(function(e,i){t[i]=!0})),t}(e):C.extend({},e);var t,i,r,n,o=[],s=[],a=-1,c=function(){for(n=n||e.once,r=t=!0;s.length;a=-1)for(i=s.shift();++a<o.length;)!1===o[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=o.length,i=!1);e.memory||(i=!1),t=!1,n&&(o=i?[]:"")},u={add:function(){return o&&(i&&!t&&(a=o.length-1,s.push(i)),function t(i){C.each(i,(function(i,r){g(r)?e.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==b(r)&&t(r)}))}(arguments),i&&!t&&c()),this},remove:function(){return C.each(arguments,(function(e,t){for(var i;(i=C.inArray(t,o,i))>-1;)o.splice(i,1),i<=a&&a--})),this},has:function(e){return e?C.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return n=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return n=s=[],i||t||(o=i=""),this},locked:function(){return!!n},fireWith:function(e,i){return n||(i=[e,(i=i||[]).slice?i.slice():i],s.push(i),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(i){C.each(t,(function(t,r){var n=g(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=n&&n.apply(this,arguments);e&&g(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this,n?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,n){var o=0;function s(e,t,i,n){return function(){var a=this,c=arguments,u=function(){var r,u;if(!(e<o)){if((r=i.apply(a,c))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,g(u)?n?u.call(r,s(o,t,q,n),s(o,t,F,n)):(o++,u.call(r,s(o,t,q,n),s(o,t,F,n),s(o,t,q,t.notifyWith))):(i!==q&&(a=void 0,c=[r]),(n||t.resolveWith)(a,c))}},h=n?u:function(){try{u()}catch(r){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(r,h.stackTrace),e+1>=o&&(i!==F&&(a=void 0,c=[r]),t.rejectWith(a,c))}};e?h():(C.Deferred.getStackHook&&(h.stackTrace=C.Deferred.getStackHook()),r.setTimeout(h))}}return C.Deferred((function(r){t[0][3].add(s(0,r,g(n)?n:q,r.notifyWith)),t[1][3].add(s(0,r,g(e)?e:q)),t[2][3].add(s(0,r,g(i)?i:F))})).promise()},promise:function(e){return null!=e?C.extend(e,n):n}},o={};return C.each(t,(function(e,r){var s=r[2],a=r[5];n[r[1]]=s.add,a&&s.add((function(){i=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),n.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,i=t,r=Array(i),n=a.call(arguments),o=C.Deferred(),s=function(e){return function(i){r[e]=this,n[e]=arguments.length>1?a.call(arguments):i,--t||o.resolveWith(r,n)}};if(t<=1&&(j(e,o.done(s(i)).resolve,o.reject,!t),"pending"===o.state()||g(n[i]&&n[i].then)))return o.then();for(;i--;)j(n[i],s(i),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&H.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){r.setTimeout((function(){throw e}))};var W=C.Deferred();function K(){_.removeEventListener("DOMContentLoaded",K),r.removeEventListener("load",K),C.ready()}C.fn.ready=function(e){return W.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||W.resolveWith(_,[C]))}}),C.ready.then=W.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?r.setTimeout(C.ready):(_.addEventListener("DOMContentLoaded",K),r.addEventListener("load",K));var U=function(e,t,i,r,n,o,s){var a=0,c=e.length,u=null==i;if("object"===b(i))for(a in n=!0,i)U(e,t,a,i[a],!0,o,s);else if(void 0!==r&&(n=!0,g(r)||(s=!0),u&&(s?(t.call(e,r),t=null):(u=t,t=function(e,t,i){return u.call(C(e),i)})),t))for(;a<c;a++)t(e[a],i,s?r:r.call(e[a],a,t(e[a],i)));return n?e:u?t.call(e):c?t(e[0],i):o},V=/^-ms-/,$=/-([a-z])/g;function J(e,t){return t.toUpperCase()}function G(e){return e.replace(V,"ms-").replace($,J)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=C.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var r,n=this.cache(e);if("string"==typeof t)n[G(t)]=i;else for(r in t)n[G(r)]=t[r];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,r=e[this.expando];if(void 0!==r){if(void 0!==t){i=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(B)||[]).length;for(;i--;)delete r[t[i]]}(void 0===t||C.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var Y=new Q,Z=new Q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ie(e,t,i){var r;if(void 0===i&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(r))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(i)}catch(e){}Z.set(e,t,i)}else i=void 0;return i}C.extend({hasData:function(e){return Z.hasData(e)||Y.hasData(e)},data:function(e,t,i){return Z.access(e,t,i)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,i){return Y.access(e,t,i)},_removeData:function(e,t){Y.remove(e,t)}}),C.fn.extend({data:function(e,t){var i,r,n,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(n=Z.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(r=s[i].name).indexOf("data-")&&(r=G(r.slice(5)),ie(o,r,n[r]));Y.set(o,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each((function(){Z.set(this,e)})):U(this,(function(t){var i;if(o&&void 0===t)return void 0!==(i=Z.get(o,e))||void 0!==(i=ie(o,e))?i:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),C.extend({queue:function(e,t,i){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),i&&(!r||Array.isArray(i)?r=Y.access(e,t,C.makeArray(i)):r.push(i)),r||[]},dequeue:function(e,t){t=t||"fx";var i=C.queue(e,t),r=i.length,n=i.shift(),o=C._queueHooks(e,t);"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===t&&i.unshift("inprogress"),delete o.stop,n.call(e,(function(){C.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Y.get(e,i)||Y.access(e,i,{empty:C.Callbacks("once memory").add((function(){Y.remove(e,[t+"queue",i])}))})}}),C.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?C.queue(this[0],e):void 0===t?this:this.each((function(){var i=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,r=1,n=C.Deferred(),o=this,s=this.length,a=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=Y.get(o[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(a));return a(),n.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=_.documentElement,ae=function(e){return C.contains(e.ownerDocument,e)},ce={composed:!0};se.getRootNode&&(ae=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(ce)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===C.css(e,"display")};function he(e,t,i,r){var n,o,s=20,a=r?function(){return r.cur()}:function(){return C.css(e,t,"")},c=a(),u=i&&i[3]||(C.cssNumber[t]?"":"px"),h=e.nodeType&&(C.cssNumber[t]||"px"!==u&&+c)&&ne.exec(C.css(e,t));if(h&&h[3]!==u){for(c/=2,u=u||h[3],h=+c||1;s--;)C.style(e,t,h+u),(1-o)*(1-(o=a()/c||.5))<=0&&(s=0),h/=o;h*=2,C.style(e,t,h+u),i=i||[]}return i&&(h=+h||+c||0,n=i[1]?h+(i[1]+1)*i[2]:+i[2],r&&(r.unit=u,r.start=h,r.end=n)),n}var pe={};function de(e){var t,i=e.ownerDocument,r=e.nodeName,n=pe[r];return n||(t=i.body.appendChild(i.createElement(r)),n=C.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),pe[r]=n,n)}function fe(e,t){for(var i,r,n=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(i=r.style.display,t?("none"===i&&(n[o]=Y.get(r,"display")||null,n[o]||(r.style.display="")),""===r.style.display&&ue(r)&&(n[o]=de(r))):"none"!==i&&(n[o]="none",Y.set(r,"display",i)));for(o=0;o<s;o++)null!=n[o]&&(e[o].style.display=n[o]);return e}C.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?C(this).show():C(this).hide()}))}});var le,ve,xe=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i;le=_.createDocumentFragment().appendChild(_.createElement("div")),(ve=_.createElement("input")).setAttribute("type","radio"),ve.setAttribute("checked","checked"),ve.setAttribute("name","t"),le.appendChild(ve),x.checkClone=le.cloneNode(!0).cloneNode(!0).lastChild.checked,le.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!le.cloneNode(!0).lastChild.defaultValue,le.innerHTML="<option></option>",x.option=!!le.lastChild;var _e={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?C.merge([e],i):i}function Se(e,t){for(var i=0,r=e.length;i<r;i++)Y.set(e[i],"globalEval",!t||Y.get(t[i],"globalEval"))}_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td,x.option||(_e.optgroup=_e.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function we(e,t,i,r,n){for(var o,s,a,c,u,h,p=t.createDocumentFragment(),d=[],f=0,l=e.length;f<l;f++)if((o=e[f])||0===o)if("object"===b(o))C.merge(d,o.nodeType?[o]:o);else if(be.test(o)){for(s=s||p.appendChild(t.createElement("div")),a=(ge.exec(o)||["",""])[1].toLowerCase(),c=_e[a]||_e._default,s.innerHTML=c[1]+C.htmlPrefilter(o)+c[2],h=c[0];h--;)s=s.lastChild;C.merge(d,s.childNodes),(s=p.firstChild).textContent=""}else d.push(t.createTextNode(o));for(p.textContent="",f=0;o=d[f++];)if(r&&C.inArray(o,r)>-1)n&&n.push(o);else if(u=ae(o),s=ye(p.appendChild(o),"script"),u&&Se(s),i)for(h=0;o=s[h++];)me.test(o.type||"")&&i.push(o);return p}var Ce=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function Re(){return!1}function Ee(e,t){return e===function(){try{return _.activeElement}catch(e){}}()==("focus"===t)}function Pe(e,t,i,r,n,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof i&&(r=r||i,i=void 0),t)Pe(e,a,i,r,t[a],o);return e}if(null==r&&null==n?(n=i,r=i=void 0):null==n&&("string"==typeof i?(n=r,r=void 0):(n=r,r=i,i=void 0)),!1===n)n=Re;else if(!n)return e;return 1===o&&(s=n,n=function(e){return C().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=C.guid++)),e.each((function(){C.event.add(this,t,n,r,i)}))}function Ie(e,t,i){i?(Y.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var r,n,o=Y.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),Y.set(this,t,o),r=i(this,t),this[t](),o!==(n=Y.get(this,t))||r?Y.set(this,t,!1):n={},o!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else o.length&&(Y.set(this,t,{value:C.event.trigger(C.extend(o[0],C.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,t)&&C.event.add(e,t,Te)}C.event={global:{},add:function(e,t,i,r,n){var o,s,a,c,u,h,p,d,f,l,v,x=Y.get(e);if(X(e))for(i.handler&&(i=(o=i).handler,n=o.selector),n&&C.find.matchesSelector(se,n),i.guid||(i.guid=C.guid++),(c=x.events)||(c=x.events=Object.create(null)),(s=x.handle)||(s=x.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(B)||[""]).length;u--;)f=v=(a=Ce.exec(t[u])||[])[1],l=(a[2]||"").split(".").sort(),f&&(p=C.event.special[f]||{},f=(n?p.delegateType:p.bindType)||f,p=C.event.special[f]||{},h=C.extend({type:f,origType:v,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&C.expr.match.needsContext.test(n),namespace:l.join(".")},o),(d=c[f])||((d=c[f]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,r,l,s)||e.addEventListener&&e.addEventListener(f,s)),p.add&&(p.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,h):d.push(h),C.event.global[f]=!0)},remove:function(e,t,i,r,n){var o,s,a,c,u,h,p,d,f,l,v,x=Y.hasData(e)&&Y.get(e);if(x&&(c=x.events)){for(u=(t=(t||"").match(B)||[""]).length;u--;)if(f=v=(a=Ce.exec(t[u])||[])[1],l=(a[2]||"").split(".").sort(),f){for(p=C.event.special[f]||{},d=c[f=(r?p.delegateType:p.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)h=d[o],!n&&v!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||r&&r!==h.selector&&("**"!==r||!h.selector)||(d.splice(o,1),h.selector&&d.delegateCount--,p.remove&&p.remove.call(e,h));s&&!d.length&&(p.teardown&&!1!==p.teardown.call(e,l,x.handle)||C.removeEvent(e,f,x.handle),delete c[f])}else for(f in c)C.event.remove(e,f+t[u],i,r,!0);C.isEmptyObject(c)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,i,r,n,o,s,a=new Array(arguments.length),c=C.event.fix(e),u=(Y.get(this,"events")||Object.create(null))[c.type]||[],h=C.event.special[c.type]||{};for(a[0]=c,t=1;t<arguments.length;t++)a[t]=arguments[t];if(c.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,c)){for(s=C.event.handlers.call(this,c,u),t=0;(n=s[t++])&&!c.isPropagationStopped();)for(c.currentTarget=n.elem,i=0;(o=n.handlers[i++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(r=((C.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,a))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,c),c.result}},handlers:function(e,t){var i,r,n,o,s,a=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],s={},i=0;i<c;i++)void 0===s[n=(r=t[i]).selector+" "]&&(s[n]=r.needsContext?C(n,this).index(u)>-1:C.find(n,this,null,[u]).length),s[n]&&o.push(r);o.length&&a.push({elem:u,handlers:o})}return u=this,c<t.length&&a.push({elem:u,handlers:t.slice(c)}),a},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return xe.test(t.type)&&t.click&&A(t,"input")&&Ie(t,"click",Te),!1},trigger:function(e){var t=this||e;return xe.test(t.type)&&t.click&&A(t,"input")&&Ie(t,"click"),!0},_default:function(e){var t=e.target;return xe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Re,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Re,isPropagationStopped:Re,isImmediatePropagationStopped:Re,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(e,t){C.event.special[e]={setup:function(){return Ie(this,e,Ee),!1},trigger:function(){return Ie(this,e),!0},_default:function(){return!0},delegateType:t}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,n=e.relatedTarget,o=e.handleObj;return n&&(n===r||C.contains(r,n))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}})),C.fn.extend({on:function(e,t,i,r){return Pe(this,e,t,i,r)},one:function(e,t,i,r){return Pe(this,e,t,i,r,1)},off:function(e,t,i){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Re),this.each((function(){C.event.remove(this,e,i,t)}))}});var Ae=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var i,r,n,o,s,a;if(1===t.nodeType){if(Y.hasData(e)&&(a=Y.get(e).events))for(n in Y.remove(t,"handle events"),a)for(i=0,r=a[n].length;i<r;i++)C.event.add(t,n,a[n][i]);Z.hasData(e)&&(o=Z.access(e),s=C.extend({},o),Z.set(t,s))}}function Ne(e,t){var i=t.nodeName.toLowerCase();"input"===i&&xe.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function Be(e,t,i,r){t=c(t);var n,o,s,a,u,h,p=0,d=e.length,f=d-1,l=t[0],v=g(l);if(v||d>1&&"string"==typeof l&&!x.checkClone&&De.test(l))return e.each((function(n){var o=e.eq(n);v&&(t[0]=l.call(this,n,o.html())),Be(o,t,i,r)}));if(d&&(o=(n=we(t,e[0].ownerDocument,!1,e,r)).firstChild,1===n.childNodes.length&&(n=o),o||r)){for(a=(s=C.map(ye(n,"script"),Oe)).length;p<d;p++)u=n,p!==f&&(u=C.clone(u,!0,!0),a&&C.merge(s,ye(u,"script"))),i.call(e[p],u,p);if(a)for(h=s[s.length-1].ownerDocument,C.map(s,Le),p=0;p<a;p++)u=s[p],me.test(u.type||"")&&!Y.access(u,"globalEval")&&C.contains(h,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?C._evalUrl&&!u.noModule&&C._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},h):S(u.textContent.replace(ke,""),u,h))}return e}function qe(e,t,i){for(var r,n=t?C.filter(t,e):e,o=0;null!=(r=n[o]);o++)i||1!==r.nodeType||C.cleanData(ye(r)),r.parentNode&&(i&&ae(r)&&Se(ye(r,"script")),r.parentNode.removeChild(r));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var r,n,o,s,a=e.cloneNode(!0),c=ae(e);if(!(x.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(s=ye(a),r=0,n=(o=ye(e)).length;r<n;r++)Ne(o[r],s[r]);if(t)if(i)for(o=o||ye(e),s=s||ye(a),r=0,n=o.length;r<n;r++)ze(o[r],s[r]);else ze(e,a);return(s=ye(a,"script")).length>0&&Se(s,!c&&ye(e,"script")),a},cleanData:function(e){for(var t,i,r,n=C.event.special,o=0;void 0!==(i=e[o]);o++)if(X(i)){if(t=i[Y.expando]){if(t.events)for(r in t.events)n[r]?C.event.remove(i,r):C.removeEvent(i,r,t.handle);i[Y.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),C.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return U(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Be(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)}))},prepend:function(){return Be(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return U(this,(function(e){var t=this[0]||{},i=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!_e[(ge.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;i<r;i++)1===(t=this[i]||{}).nodeType&&(C.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Be(this,arguments,(function(t){var i=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(ye(this)),i&&i.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var i,r=[],n=C(e),o=n.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),C(n[s])[t](i),u.apply(r,i.get());return this.pushStack(r)}}));var Fe=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},He=function(e,t,i){var r,n,o={};for(n in t)o[n]=e.style[n],e.style[n]=t[n];for(n in r=i.call(e),t)e.style[n]=o[n];return r},We=new RegExp(oe.join("|"),"i");function Ke(e,t,i){var r,n,o,s,a=e.style;return(i=i||je(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||ae(e)||(s=C.style(e,t)),!x.pixelBoxStyles()&&Fe.test(s)&&We.test(t)&&(r=a.width,n=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=r,a.minWidth=n,a.maxWidth=o)),void 0!==s?s+"":s}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(h){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(u).appendChild(h);var e=r.getComputedStyle(h);i="1%"!==e.top,c=12===t(e.marginLeft),h.style.right="60%",s=36===t(e.right),n=36===t(e.width),h.style.position="absolute",o=12===t(h.offsetWidth/3),se.removeChild(u),h=null}}function t(e){return Math.round(parseFloat(e))}var i,n,o,s,a,c,u=_.createElement("div"),h=_.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle="content-box"===h.style.backgroundClip,C.extend(x,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,i,n;return null==a&&(e=_.createElement("table"),t=_.createElement("tr"),i=_.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",i.style.height="9px",i.style.display="block",se.appendChild(e).appendChild(t).appendChild(i),n=r.getComputedStyle(t),a=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),a}}))}();var Ve=["Webkit","Moz","ms"],$e=_.createElement("div").style,Je={};function Ge(e){var t=C.cssProps[e]||Je[e];return t||(e in $e?e:Je[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=Ve.length;i--;)if((e=Ve[i]+t)in $e)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"};function et(e,t,i){var r=ne.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function tt(e,t,i,r,n,o){var s="width"===t?1:0,a=0,c=0;if(i===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(c+=C.css(e,i+oe[s],!0,n)),r?("content"===i&&(c-=C.css(e,"padding"+oe[s],!0,n)),"margin"!==i&&(c-=C.css(e,"border"+oe[s]+"Width",!0,n))):(c+=C.css(e,"padding"+oe[s],!0,n),"padding"!==i?c+=C.css(e,"border"+oe[s]+"Width",!0,n):a+=C.css(e,"border"+oe[s]+"Width",!0,n));return!r&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-a-.5))||0),c}function it(e,t,i){var r=je(e),n=(!x.boxSizingReliable()||i)&&"border-box"===C.css(e,"boxSizing",!1,r),o=n,s=Ke(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Fe.test(s)){if(!i)return s;s="auto"}return(!x.boxSizingReliable()&&n||!x.reliableTrDimensions()&&A(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(e,"display",!1,r))&&e.getClientRects().length&&(n="border-box"===C.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+tt(e,t,i||(n?"border":"content"),o,r,s)+"px"}function rt(e,t,i,r,n){return new rt.prototype.init(e,t,i,r,n)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ke(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,s,a=G(t),c=Qe.test(t),u=e.style;if(c||(t=Ge(a)),s=C.cssHooks[t]||C.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(n=s.get(e,!1,r))?n:u[t];"string"===(o=typeof i)&&(n=ne.exec(i))&&n[1]&&(i=he(e,t,n),o="number"),null!=i&&i==i&&("number"!==o||c||(i+=n&&n[3]||(C.cssNumber[a]?"":"px")),x.clearCloneStyle||""!==i||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,r))||(c?u.setProperty(t,i):u[t]=i))}},css:function(e,t,i,r){var n,o,s,a=G(t);return Qe.test(t)||(t=Ge(a)),(s=C.cssHooks[t]||C.cssHooks[a])&&"get"in s&&(n=s.get(e,!0,i)),void 0===n&&(n=Ke(e,t,r)),"normal"===n&&t in Ze&&(n=Ze[t]),""===i||i?(o=parseFloat(n),!0===i||isFinite(o)?o||0:n):n}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,i,r){if(i)return!Xe.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,r):He(e,Ye,(function(){return it(e,t,r)}))},set:function(e,i,r){var n,o=je(e),s=!x.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===C.css(e,"boxSizing",!1,o),c=r?tt(e,t,r,a,o):0;return a&&s&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-tt(e,t,"border",!1,o)-.5)),c&&(n=ne.exec(i))&&"px"!==(n[3]||"px")&&(e.style[t]=i,i=C.css(e,t)),et(0,i,c)}}})),C.cssHooks.marginLeft=Ue(x.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ke(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(i){for(var r=0,n={},o="string"==typeof i?i.split(" "):[i];r<4;r++)n[e+oe[r]+t]=o[r]||o[r-2]||o[0];return n}},"margin"!==e&&(C.cssHooks[e+t].set=et)})),C.fn.extend({css:function(e,t){return U(this,(function(e,t,i){var r,n,o={},s=0;if(Array.isArray(t)){for(r=je(e),n=t.length;s<n;s++)o[t[s]]=C.css(e,t[s],!1,r);return o}return void 0!==i?C.style(e,t,i):C.css(e,t)}),e,t,arguments.length>1)}}),C.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,i,r,n,o){this.elem=e,this.prop=i,this.easing=n||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(C.cssNumber[i]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,i=rt.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=rt.prototype.init,C.fx.step={};var nt,ot,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function ct(){ot&&(!1===_.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ct):r.setTimeout(ct,C.fx.interval),C.fx.tick())}function ut(){return r.setTimeout((function(){nt=void 0})),nt=Date.now()}function ht(e,t){var i,r=0,n={height:e};for(t=t?1:0;r<4;r+=2-t)n["margin"+(i=oe[r])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function pt(e,t,i){for(var r,n=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,s=n.length;o<s;o++)if(r=n[o].call(i,t,e))return r}function dt(e,t,i){var r,n,o=0,s=dt.prefilters.length,a=C.Deferred().always((function(){delete c.elem})),c=function(){if(n)return!1;for(var t=nt||ut(),i=Math.max(0,u.startTime+u.duration-t),r=1-(i/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(r);return a.notifyWith(e,[u,r,i]),r<1&&s?i:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},i),originalProperties:t,originalOptions:i,startTime:nt||ut(),duration:i.duration,tweens:[],createTween:function(t,i){var r=C.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var i=0,r=t?u.tweens.length:0;if(n)return this;for(n=!0;i<r;i++)u.tweens[i].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),h=u.props;for(!function(e,t){var i,r,n,o,s;for(i in e)if(n=t[r=G(i)],o=e[i],Array.isArray(o)&&(n=o[1],o=e[i]=o[0]),i!==r&&(e[r]=o,delete e[i]),(s=C.cssHooks[r])&&"expand"in s)for(i in o=s.expand(o),delete e[r],o)i in e||(e[i]=o[i],t[i]=n);else t[r]=n}(h,u.opts.specialEasing);o<s;o++)if(r=dt.prefilters[o].call(u,e,h,u.opts))return g(r.stop)&&(C._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return C.map(h,pt,u),g(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),C.fx.timer(C.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}C.Animation=C.extend(dt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return he(i.elem,e,ne.exec(t),i),i}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(B);for(var i,r=0,n=e.length;r<n;r++)i=e[r],dt.tweeners[i]=dt.tweeners[i]||[],dt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var r,n,o,s,a,c,u,h,p="width"in t||"height"in t,d=this,f={},l=e.style,v=e.nodeType&&ue(e),x=Y.get(e,"fxshow");for(r in i.queue||(null==(s=C._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,C.queue(e,"fx").length||s.empty.fire()}))}))),t)if(n=t[r],st.test(n)){if(delete t[r],o=o||"toggle"===n,n===(v?"hide":"show")){if("show"!==n||!x||void 0===x[r])continue;v=!0}f[r]=x&&x[r]||C.style(e,r)}if((c=!C.isEmptyObject(t))||!C.isEmptyObject(f))for(r in p&&1===e.nodeType&&(i.overflow=[l.overflow,l.overflowX,l.overflowY],null==(u=x&&x.display)&&(u=Y.get(e,"display")),"none"===(h=C.css(e,"display"))&&(u?h=u:(fe([e],!0),u=e.style.display||u,h=C.css(e,"display"),fe([e]))),("inline"===h||"inline-block"===h&&null!=u)&&"none"===C.css(e,"float")&&(c||(d.done((function(){l.display=u})),null==u&&(h=l.display,u="none"===h?"":h)),l.display="inline-block")),i.overflow&&(l.overflow="hidden",d.always((function(){l.overflow=i.overflow[0],l.overflowX=i.overflow[1],l.overflowY=i.overflow[2]}))),c=!1,f)c||(x?"hidden"in x&&(v=x.hidden):x=Y.access(e,"fxshow",{display:u}),o&&(x.hidden=!v),v&&fe([e],!0),d.done((function(){for(r in v||fe([e]),Y.remove(e,"fxshow"),f)C.style(e,r,f[r])}))),c=pt(v?x[r]:0,r,d),r in x||(x[r]=c.start,v&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),C.speed=function(e,t,i){var r=e&&"object"==typeof e?C.extend({},e):{complete:i||!i&&t||g(e)&&e,duration:e,easing:i&&t||t&&!g(t)&&t};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,i,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var n=C.isEmptyObject(e),o=C.speed(t,i,r),s=function(){var t=dt(this,C.extend({},e),o);(n||Y.get(this,"finish"))&&t.stop(!0)};return s.finish=s,n||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,n=null!=e&&e+"queueHooks",o=C.timers,s=Y.get(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&at.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));!t&&i||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=Y.get(this),r=i[e+"queue"],n=i[e+"queueHooks"],o=C.timers,s=r?r.length:0;for(i.finish=!0,C.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete i.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var i=C.fn[t];C.fn[t]=function(e,r,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ht(t,!0),e,r,n)}})),C.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}})),C.timers=[],C.fx.tick=function(){var e,t=0,i=C.timers;for(nt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||C.fx.stop(),nt=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ot||(ot=!0,ct())},C.fx.stop=function(){ot=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var n=r.setTimeout(t,e);i.stop=function(){r.clearTimeout(n)}}))},function(){var e=_.createElement("input"),t=_.createElement("select").appendChild(_.createElement("option"));e.type="checkbox",x.checkOn=""!==e.value,x.optSelected=t.selected,(e=_.createElement("input")).value="t",e.type="radio",x.radioValue="t"===e.value}();var ft,lt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return U(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,i){var r,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?C.prop(e,t,i):(1===o&&C.isXMLDoc(e)||(n=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?ft:void 0)),void 0!==i?null===i?void C.removeAttr(e,t):n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):n&&"get"in n&&null!==(r=n.get(e,t))?r:null==(r=C.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!x.radioValue&&"radio"===t&&A(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,r=0,n=t&&t.match(B);if(n&&1===e.nodeType)for(;i=n[r++];)e.removeAttribute(i)}}),ft={set:function(e,t,i){return!1===t?C.removeAttr(e,i):e.setAttribute(i,i),i}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=lt[t]||C.find.attr;lt[t]=function(e,t,r){var n,o,s=t.toLowerCase();return r||(o=lt[s],lt[s]=n,n=null!=i(e,t,r)?s:null,lt[s]=o),n}}));var vt=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;function gt(e){return(e.match(B)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}C.fn.extend({prop:function(e,t){return U(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,i){var r,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(e)||(t=C.propFix[t]||t,n=C.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:e[t]=i:n&&"get"in n&&null!==(r=n.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,i,r,n,o,s,a,c=0;if(g(e))return this.each((function(t){C(this).addClass(e.call(this,t,mt(this)))}));if((t=_t(e)).length)for(;i=this[c++];)if(n=mt(i),r=1===i.nodeType&&" "+gt(n)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");n!==(a=gt(r))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,r,n,o,s,a,c=0;if(g(e))return this.each((function(t){C(this).removeClass(e.call(this,t,mt(this)))}));if(!arguments.length)return this.attr("class","");if((t=_t(e)).length)for(;i=this[c++];)if(n=mt(i),r=1===i.nodeType&&" "+gt(n)+" "){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");n!==(a=gt(r))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e,r="string"===i||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each((function(i){C(this).toggleClass(e.call(this,i,mt(this),t),t)})):this.each((function(){var t,n,o,s;if(r)for(n=0,o=C(this),s=_t(e);t=s[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==i||((t=mt(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Y.get(this,"__className__")||""))}))},hasClass:function(e){var t,i,r=0;for(t=" "+e+" ";i=this[r++];)if(1===i.nodeType&&(" "+gt(mt(i))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;C.fn.extend({val:function(e){var t,i,r,n=this[0];return arguments.length?(r=g(e),this.each((function(i){var n;1===this.nodeType&&(null==(n=r?e.call(this,i,C(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=C.map(n,(function(e){return null==e?"":e+""}))),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))}))):n?(t=C.valHooks[n.type]||C.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:"string"==typeof(i=n.value)?i.replace(yt,""):null==i?"":i:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:gt(C.text(e))}},select:{get:function(e){var t,i,r,n=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],c=s?o+1:n.length;for(r=o<0?c:s?o:0;r<c;r++)if(((i=n[r]).selected||r===o)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(t=C(i).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var i,r,n=e.options,o=C.makeArray(t),s=n.length;s--;)((r=n[s]).selected=C.inArray(C.valHooks.option.get(r),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},x.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),x.focusin="onfocusin"in r;var St=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,i,n){var o,s,a,c,u,h,p,d,l=[i||_],v=f.call(e,"type")?e.type:e,x=f.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=i=i||_,3!==i.nodeType&&8!==i.nodeType&&!St.test(v+C.event.triggered)&&(v.indexOf(".")>-1&&(x=v.split("."),v=x.shift(),x.sort()),u=v.indexOf(":")<0&&"on"+v,(e=e[C.expando]?e:new C.Event(v,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=x.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:C.makeArray(t,[e]),p=C.event.special[v]||{},n||!p.trigger||!1!==p.trigger.apply(i,t))){if(!n&&!p.noBubble&&!m(i)){for(c=p.delegateType||v,St.test(c+v)||(s=s.parentNode);s;s=s.parentNode)l.push(s),a=s;a===(i.ownerDocument||_)&&l.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=l[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?c:p.bindType||v,(h=(Y.get(s,"events")||Object.create(null))[e.type]&&Y.get(s,"handle"))&&h.apply(s,t),(h=u&&s[u])&&h.apply&&X(s)&&(e.result=h.apply(s,t),!1===e.result&&e.preventDefault());return e.type=v,n||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(l.pop(),t)||!X(i)||u&&g(i[v])&&!m(i)&&((a=i[u])&&(i[u]=null),C.event.triggered=v,e.isPropagationStopped()&&d.addEventListener(v,bt),i[v](),e.isPropagationStopped()&&d.removeEventListener(v,bt),C.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(e,t,i){var r=C.extend(new C.Event,i,{type:e,isSimulated:!0});C.event.trigger(r,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return C.event.trigger(e,t,i,!0)}}),x.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,n=Y.access(r,t);n||r.addEventListener(e,i,!0),Y.access(r,t,(n||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,n=Y.access(r,t)-1;n?Y.access(r,t,n):(r.removeEventListener(e,i,!0),Y.remove(r,t))}}}));var wt=r.location,Ct={guid:Date.now()},Tt=/\?/;C.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return i=t&&t.getElementsByTagName("parsererror")[0],t&&!i||C.error("Invalid XML: "+(i?C.map(i.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Rt=/\[\]$/,Et=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;function At(e,t,i,r){var n;if(Array.isArray(t))C.each(t,(function(t,n){i||Rt.test(e)?r(e,n):At(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,i,r)}));else if(i||"object"!==b(t))r(e,t);else for(n in t)At(e+"["+n+"]",t[n],i,r)}C.param=function(e,t){var i,r=[],n=function(e,t){var i=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){n(this.name,this.value)}));else for(i in e)At(i,e[i],t,n);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&It.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!xe.test(e))})).map((function(e,t){var i=C(this).val();return null==i?null:Array.isArray(i)?C.map(i,(function(e){return{name:t.name,value:e.replace(Et,"\r\n")}})):{name:t.name,value:i.replace(Et,"\r\n")}})).get()}});var Dt=/%20/g,kt=/#.*$/,Mt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,zt=/^\/\//,Nt={},Bt={},qt="*/".concat("*"),Ft=_.createElement("a");function jt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,n=0,o=t.toLowerCase().match(B)||[];if(g(i))for(;r=o[n++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(i)):(e[r]=e[r]||[]).push(i)}}function Ht(e,t,i,r){var n={},o=e===Bt;function s(a){var c;return n[a]=!0,C.each(e[a]||[],(function(e,a){var u=a(t,i,r);return"string"!=typeof u||o||n[u]?o?!(c=u):void 0:(t.dataTypes.unshift(u),s(u),!1)})),c}return s(t.dataTypes[0])||!n["*"]&&s("*")}function Wt(e,t){var i,r,n=C.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((n[i]?e:r||(r={}))[i]=t[i]);return r&&C.extend(!0,e,r),e}Ft.href=wt.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,C.ajaxSettings),t):Wt(C.ajaxSettings,e)},ajaxPrefilter:jt(Nt),ajaxTransport:jt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,n,o,s,a,c,u,h,p,d,f=C.ajaxSetup({},t),l=f.context||f,v=f.context&&(l.nodeType||l.jquery)?C(l):C.event,x=C.Deferred(),g=C.Callbacks("once memory"),m=f.statusCode||{},y={},S={},b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Ot.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)w.always(e[w.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||b;return i&&i.abort(t),T(0,t),this}};if(x.promise(w),f.url=((e||f.url||wt.href)+"").replace(zt,wt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(B)||[""],null==f.crossDomain){c=_.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Ft.protocol+"//"+Ft.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Ht(Nt,f,t,w),u)return w;for(p in(h=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Lt.test(f.type),n=f.url.replace(kt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(d=f.url.slice(n.length),f.data&&(f.processData||"string"==typeof f.data)&&(n+=(Tt.test(n)?"&":"?")+f.data,delete f.data),!1===f.cache&&(n=n.replace(Mt,"$1"),d=(Tt.test(n)?"&":"?")+"_="+Ct.guid+++d),f.url=n+d),f.ifModified&&(C.lastModified[n]&&w.setRequestHeader("If-Modified-Since",C.lastModified[n]),C.etag[n]&&w.setRequestHeader("If-None-Match",C.etag[n])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+qt+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(l,w,f)||u))return w.abort();if(b="abort",g.add(f.complete),w.done(f.success),w.fail(f.error),i=Ht(Bt,f,t,w)){if(w.readyState=1,h&&v.trigger("ajaxSend",[w,f]),u)return w;f.async&&f.timeout>0&&(a=r.setTimeout((function(){w.abort("timeout")}),f.timeout));try{u=!1,i.send(y,T)}catch(e){if(u)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,s,c){var p,d,_,y,S,b=t;u||(u=!0,a&&r.clearTimeout(a),i=void 0,o=c||"",w.readyState=e>0?4:0,p=e>=200&&e<300||304===e,s&&(y=function(e,t,i){for(var r,n,o,s,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(n in a)if(a[n]&&a[n].test(r)){c.unshift(n);break}if(c[0]in i)o=c[0];else{for(n in i){if(!c[0]||e.converters[n+" "+c[0]]){o=n;break}s||(s=n)}o=o||s}if(o)return o!==c[0]&&c.unshift(o),i[o]}(f,w,s)),!p&&C.inArray("script",f.dataTypes)>-1&&C.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),y=function(e,t,i,r){var n,o,s,a,c,u={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=h.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=h.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=u[c+" "+o]||u["* "+o]))for(n in u)if((a=n.split(" "))[1]===o&&(s=u[c+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[n]:!0!==u[n]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(f,y,w,p),p?(f.ifModified&&((S=w.getResponseHeader("Last-Modified"))&&(C.lastModified[n]=S),(S=w.getResponseHeader("etag"))&&(C.etag[n]=S)),204===e||"HEAD"===f.type?b="nocontent":304===e?b="notmodified":(b=y.state,d=y.data,p=!(_=y.error))):(_=b,!e&&b||(b="error",e<0&&(e=0))),w.status=e,w.statusText=(t||b)+"",p?x.resolveWith(l,[d,b,w]):x.rejectWith(l,[w,b,_]),w.statusCode(m),m=void 0,h&&v.trigger(p?"ajaxSuccess":"ajaxError",[w,f,p?d:_]),g.fireWith(l,[w,b]),h&&(v.trigger("ajaxComplete",[w,f]),--C.active||C.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,i){return C.get(e,t,i,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,i,r,n){return g(i)&&(n=n||r,r=i,i=void 0),C.ajax(C.extend({url:e,type:t,dataType:n,data:i,success:r},C.isPlainObject(e)&&e))}})),C.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),C._evalUrl=function(e,t,i){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,i)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(i){C(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Ut=C.ajaxSettings.xhr();x.cors=!!Ut&&"withCredentials"in Ut,x.ajax=Ut=!!Ut,C.ajaxTransport((function(e){var t,i;if(x.cors||Ut&&!e.crossDomain)return{send:function(n,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(s,n[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Kt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&i()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(r,n){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&n("error"===e.type?404:200,e.type)}),_.head.appendChild(t[0])},abort:function(){i&&i()}}}));var Vt,$t=[],Jt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||C.expando+"_"+Ct.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(e,t,i){var n,o,s,a=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Jt,"$1"+n):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return s||C.error(n+" was not called"),s[0]},e.dataTypes[0]="json",o=r[n],r[n]=function(){s=arguments},i.always((function(){void 0===o?C(r).removeProp(n):r[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,$t.push(n)),s&&g(o)&&o(s[0]),s=o=void 0})),"script"})),x.createHTMLDocument=((Vt=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),C.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(x.createHTMLDocument?((r=(t=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,t.head.appendChild(r)):t=_),o=!i&&[],(n=D.exec(e))?[t.createElement(n[1])]:(n=we([e],t,o),o&&o.length&&C(o).remove(),C.merge([],n.childNodes)));var r,n,o},C.fn.load=function(e,t,i){var r,n,o,s=this,a=e.indexOf(" ");return a>-1&&(r=gt(e.slice(a)),e=e.slice(0,a)),g(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),s.length>0&&C.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)})).always(i&&function(e,t){s.each((function(){i.apply(this,o||[e.responseText,t,e])}))}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,i){var r,n,o,s,a,c,u=C.css(e,"position"),h=C(e),p={};"static"===u&&(e.style.position="relative"),a=h.offset(),o=C.css(e,"top"),c=C.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1?(s=(r=h.position()).top,n=r.left):(s=parseFloat(o)||0,n=parseFloat(c)||0),g(t)&&(t=t.call(e,i,C.extend({},a))),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+n),"using"in t?t.using.call(e,p):h.css(p)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,i,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),i=r.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,r=this[0],n={top:0,left:0};if("fixed"===C.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),i=r.ownerDocument,e=r.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((n=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),n.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-C.css(r,"marginTop",!0),left:t.left-n.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||se}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;C.fn[e]=function(r){return U(this,(function(e,r,n){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===n)return o?o[t]:e[r];o?o.scrollTo(i?o.pageXOffset:n,i?n:o.pageYOffset):e[r]=n}),e,r,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=Ue(x.pixelPosition,(function(e,i){if(i)return i=Ke(e,t),Fe.test(i)?C(e).position()[t]+"px":i}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,r){C.fn[r]=function(n,o){var s=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===o?"margin":"border");return U(this,(function(t,i,n){var o;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?C.css(t,i,a):C.style(t,i,n,a)}),t,s?n:void 0,s)}}))})),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}));var Gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var i,r,n;if("string"==typeof t&&(i=e[t],t=e,e=i),g(e))return r=a.call(arguments,2),n=function(){return e.apply(t||this,r.concat(a.call(arguments)))},n.guid=e.guid=e.guid||C.guid++,n},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=A,C.isFunction=g,C.isWindow=m,C.camelCase=G,C.type=b,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(Gt,"")},void 0===(i=function(){return C}.apply(t,[]))||(e.exports=i);var Xt=r.jQuery,Qt=r.$;return C.noConflict=function(e){return r.$===C&&(r.$=Qt),e&&r.jQuery===C&&(r.jQuery=Xt),C},void 0===n&&(r.jQuery=r.$=C),C}))},3339:()=>{},43108:()=>{},88275:()=>{},92505:()=>{},10146:()=>{},30173:()=>{},41137:()=>{},10592:()=>{}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";i.r(r),i.d(r,{AzureSTT:()=>Ji});const e="OutputFormat",t="CancellationErrorCode",n="ServiceProperties",o="ForceDictation";class s{static throwIfNullOrUndefined(e,t){if(null==e)throw new Error("throwIfNullOrUndefined:"+t)}static throwIfNull(e,t){if(null===e)throw new Error("throwIfNull:"+t)}static throwIfNullOrWhitespace(e,t){if(s.throwIfNullOrUndefined(e,t),(""+e).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+t)}static throwIfDisposed(e){if(e)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(e,t){if(s.throwIfNullOrUndefined(e,t),0===e.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+t);for(const i of e)s.throwIfNullOrWhitespace(i,t)}static throwIfFileDoesNotExist(e,t){s.throwIfNullOrWhitespace(e,t)}static throwIfNotUndefined(e,t){if(void 0!==e)throw new Error("throwIfNotUndefined:"+t)}}var a,c,u,h,p;!function(e){e[e.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",e[e.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",e[e.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",e[e.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",e[e.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",e[e.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",e[e.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",e[e.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",e[e.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",e[e.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",e[e.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",e[e.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",e[e.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",e[e.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",e[e.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",e[e.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",e[e.Speech_SessionId=16]="Speech_SessionId",e[e.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",e[e.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",e[e.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",e[e.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",e[e.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",e[e.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",e[e.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",e[e.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",e[e.CancellationDetails_Reason=25]="CancellationDetails_Reason",e[e.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",e[e.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",e[e.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",e[e.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",e[e.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",e[e.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",e[e.Speech_SegmentationSilenceTimeoutMs=32]="Speech_SegmentationSilenceTimeoutMs",e[e.SpeechServiceConnection_EnableAudioLogging=33]="SpeechServiceConnection_EnableAudioLogging",e[e.SpeechServiceConnection_AtStartLanguageIdPriority=34]="SpeechServiceConnection_AtStartLanguageIdPriority",e[e.SpeechServiceConnection_ContinuousLanguageIdPriority=35]="SpeechServiceConnection_ContinuousLanguageIdPriority",e[e.SpeechServiceConnection_RecognitionEndpointVersion=36]="SpeechServiceConnection_RecognitionEndpointVersion",e[e.SpeechServiceResponse_ProfanityOption=37]="SpeechServiceResponse_ProfanityOption",e[e.SpeechServiceResponse_PostProcessingOption=38]="SpeechServiceResponse_PostProcessingOption",e[e.SpeechServiceResponse_RequestWordLevelTimestamps=39]="SpeechServiceResponse_RequestWordLevelTimestamps",e[e.SpeechServiceResponse_StablePartialResultThreshold=40]="SpeechServiceResponse_StablePartialResultThreshold",e[e.SpeechServiceResponse_OutputFormatOption=41]="SpeechServiceResponse_OutputFormatOption",e[e.SpeechServiceResponse_TranslationRequestStablePartialResult=42]="SpeechServiceResponse_TranslationRequestStablePartialResult",e[e.SpeechServiceResponse_RequestWordBoundary=43]="SpeechServiceResponse_RequestWordBoundary",e[e.SpeechServiceResponse_RequestPunctuationBoundary=44]="SpeechServiceResponse_RequestPunctuationBoundary",e[e.SpeechServiceResponse_RequestSentenceBoundary=45]="SpeechServiceResponse_RequestSentenceBoundary",e[e.Conversation_ApplicationId=46]="Conversation_ApplicationId",e[e.Conversation_DialogType=47]="Conversation_DialogType",e[e.Conversation_Initial_Silence_Timeout=48]="Conversation_Initial_Silence_Timeout",e[e.Conversation_From_Id=49]="Conversation_From_Id",e[e.Conversation_Conversation_Id=50]="Conversation_Conversation_Id",e[e.Conversation_Custom_Voice_Deployment_Ids=51]="Conversation_Custom_Voice_Deployment_Ids",e[e.Conversation_Speech_Activity_Template=52]="Conversation_Speech_Activity_Template",e[e.Conversation_Request_Bot_Status_Messages=53]="Conversation_Request_Bot_Status_Messages",e[e.Conversation_Agent_Connection_Id=54]="Conversation_Agent_Connection_Id",e[e.SpeechServiceConnection_Host=55]="SpeechServiceConnection_Host",e[e.ConversationTranslator_Host=56]="ConversationTranslator_Host",e[e.ConversationTranslator_Name=57]="ConversationTranslator_Name",e[e.ConversationTranslator_CorrelationId=58]="ConversationTranslator_CorrelationId",e[e.ConversationTranslator_Token=59]="ConversationTranslator_Token",e[e.PronunciationAssessment_ReferenceText=60]="PronunciationAssessment_ReferenceText",e[e.PronunciationAssessment_GradingSystem=61]="PronunciationAssessment_GradingSystem",e[e.PronunciationAssessment_Granularity=62]="PronunciationAssessment_Granularity",e[e.PronunciationAssessment_EnableMiscue=63]="PronunciationAssessment_EnableMiscue",e[e.PronunciationAssessment_Json=64]="PronunciationAssessment_Json",e[e.PronunciationAssessment_Params=65]="PronunciationAssessment_Params",e[e.SpeakerRecognition_Api_Version=66]="SpeakerRecognition_Api_Version"}(a||(a={}));class d{constructor(){this.privKeys=[],this.privValues=[]}getProperty(e,t){let i;i="string"==typeof e?e:a[e];for(let e=0;e<this.privKeys.length;e++)if(this.privKeys[e]===i)return this.privValues[e];if(void 0!==t)return String(t)}setProperty(e,t){let i;i="string"==typeof e?e:a[e];for(let e=0;e<this.privKeys.length;e++)if(this.privKeys[e]===i)return void(this.privValues[e]=t);this.privKeys.push(i),this.privValues.push(t)}clone(){const e=new d;for(let t=0;t<this.privKeys.length;t++)e.privKeys.push(this.privKeys[t]),e.privValues.push(this.privValues[t]);return e}mergeTo(e){this.privKeys.forEach((t=>{if(void 0===e.getProperty(t,void 0)){const i=this.getProperty(t);e.setProperty(t,i)}}))}get keys(){return this.privKeys}}!function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(c||(c={})),function(e){e[e.Masked=0]="Masked",e[e.Removed=1]="Removed",e[e.Raw=2]="Raw"}(u||(u={})),function(e){e[e.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",e[e.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",e[e.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",e[e.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",e[e.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",e[e.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",e[e.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",e[e.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",e[e.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",e[e.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",e[e.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",e[e.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",e[e.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",e[e.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",e[e.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",e[e.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",e[e.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",e[e.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",e[e.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",e[e.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",e[e.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",e[e.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",e[e.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",e[e.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",e[e.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",e[e.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",e[e.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",e[e.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",e[e.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",e[e.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",e[e.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",e[e.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",e[e.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",e[e.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",e[e.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",e[e.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",e[e.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm"}(h||(h={}));class f{constructor(){}static fromSubscription(e,t){s.throwIfNullOrWhitespace(e,"subscriptionKey"),s.throwIfNullOrWhitespace(t,"region");const i=new l;return i.setProperty(a.SpeechServiceConnection_Region,t),i.setProperty(a.SpeechServiceConnection_IntentRegion,t),i.setProperty(a.SpeechServiceConnection_Key,e),i}static fromEndpoint(e,t){s.throwIfNull(e,"endpoint");const i=new l;return i.setProperty(a.SpeechServiceConnection_Endpoint,e.href),void 0!==t&&i.setProperty(a.SpeechServiceConnection_Key,t),i}static fromHost(e,t){s.throwIfNull(e,"hostName");const i=new l;return i.setProperty(a.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&i.setProperty(a.SpeechServiceConnection_Key,t),i}static fromAuthorizationToken(e,t){s.throwIfNull(e,"authorizationToken"),s.throwIfNullOrWhitespace(t,"region");const i=new l;return i.setProperty(a.SpeechServiceConnection_Region,t),i.setProperty(a.SpeechServiceConnection_IntentRegion,t),i.authorizationToken=e,i}close(){}}class l extends f{constructor(){super(),this.privProperties=new d,this.speechRecognitionLanguage="en-US",this.outputFormat=c.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(a.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(a.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(a.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(a.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.privProperties.setProperty(a.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return this.privProperties.getProperty(a.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(e){this.privProperties.setProperty(a.SpeechServiceConnection_RecoLanguage,e)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(a.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(e){this.privProperties.setProperty(a.SpeechServiceConnection_AutoDetectSourceLanguages,e)}get outputFormat(){return c[this.privProperties.getProperty(e,void 0)]}set outputFormat(t){this.privProperties.setProperty(e,c[t])}get endpointId(){return this.privProperties.getProperty(a.SpeechServiceConnection_EndpointId)}set endpointId(e){this.privProperties.setProperty(a.SpeechServiceConnection_EndpointId,e)}setProperty(e,t){s.throwIfNull(t,"value"),this.privProperties.setProperty(e,t)}getProperty(e,t){return this.privProperties.getProperty(e,t)}setProxy(e,t,i,r){this.setProperty(a[a.SpeechServiceConnection_ProxyHostName],e),this.setProperty(a[a.SpeechServiceConnection_ProxyPort],t),this.setProperty(a[a.SpeechServiceConnection_ProxyUserName],i),this.setProperty(a[a.SpeechServiceConnection_ProxyPassword],r)}setServiceProperty(e,t){const i=JSON.parse(this.privProperties.getProperty(n,"{}"));i[e]=t,this.privProperties.setProperty(n,JSON.stringify(i))}setProfanity(e){this.privProperties.setProperty(a.SpeechServiceResponse_ProfanityOption,u[e])}enableAudioLogging(){this.privProperties.setProperty(a.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(a.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privProperties.setProperty(o,"true")}clone(){const e=new l;return e.privProperties=this.privProperties.clone(),e}get speechSynthesisLanguage(){return this.privProperties.getProperty(a.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(e){this.privProperties.setProperty(a.SpeechServiceConnection_SynthLanguage,e)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(a.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(e){this.privProperties.setProperty(a.SpeechServiceConnection_SynthVoice,e)}get speechSynthesisOutputFormat(){return h[this.privProperties.getProperty(a.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(e){this.privProperties.setProperty(a.SpeechServiceConnection_SynthOutputFormat,h[e])}}class v extends Error{constructor(e){super(e),this.name="ArgumentNull",this.message=e}}class x extends Error{constructor(e){super(e),this.name="InvalidOperation",this.message=e}}class g extends Error{constructor(e,t){super(t),this.name=e+"ObjectDisposed",this.message=t}}var m=new Uint8Array(16);function _(){if(!p&&!(p="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(m)}const y=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const S=function(e){return"string"==typeof e&&y.test(e)};for(var b=[],w=0;w<256;++w)b.push((w+256).toString(16).substr(1));const C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]).toLowerCase();if(!S(i))throw TypeError("Stringified UUID is invalid");return i};const T=function(e,t,i){var r=(e=e||{}).random||(e.rng||_)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){i=i||0;for(var n=0;n<16;++n)t[i+n]=r[n];return t}return C(r)},R=()=>T().replace(new RegExp("-","g"),"").toUpperCase();var E,P,I=i(41137),A=i.n(I);class D{}D.AuthKey="Ocp-Apim-Subscription-Key",D.Authorization="Authorization",D.ConnectionId="X-ConnectionId",D.ContentType="Content-Type",D.CustomCommandsAppId="X-CommandsAppId",D.Path="Path",D.RequestId="X-RequestId",D.RequestStreamId="X-StreamId",D.RequestTimestamp="X-Timestamp";class k{constructor(e){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=e}onEvent(e){if(this.isDisposed())throw new g("EventSource");if(this.metadata)for(const t in this.metadata)t&&e.metadata&&(e.metadata[t]||(e.metadata[t]=this.metadata[t]));for(const t in this.privEventListeners)t&&this.privEventListeners[t]&&this.privEventListeners[t](e)}attach(e){const t=R();return this.privEventListeners[t]=e,{detach:()=>(delete this.privEventListeners[t],Promise.resolve())}}attachListener(e){return this.attach((t=>e.onEvent(t)))}attachConsoleListener(e){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach((t=>e.onEvent(t))),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}}!function(e){e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected"}(E||(E={})),function(e){e[e.None=0]="None",e[e.Resolved=1]="Resolved",e[e.Rejected=2]="Rejected"}(P||(P={}));class M{constructor(){this.resolve=e=>(this.privResolve(e),this),this.reject=e=>(this.privReject(e),this),this.privPromise=new Promise(((e,t)=>{this.privResolve=e,this.privReject=t}))}get promise(){return this.privPromise}}function O(e,t,i){e.then((e=>{try{t&&t(e)}catch(e){if(i)try{if(e instanceof Error){const t=e;i(t.name+": "+t.message)}else i(e)}catch(e){}}}),(e=>{if(i)try{if(e instanceof Error){const t=e;i(t.name+": "+t.message)}else i(e)}catch(e){}}))}class L{constructor(e){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],e)for(const t of e)this.privList.push(t)}get(e){return this.throwIfDisposed(),this.privList[e]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(e){this.throwIfDisposed(),this.insertAt(this.privList.length,e)}insertAt(e,t){this.throwIfDisposed(),0===e?this.privList.unshift(t):e===this.privList.length?this.privList.push(t):this.privList.splice(e,0,t),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(e){return this.throwIfDisposed(),this.remove(e,1)[0]}remove(e,t){this.throwIfDisposed();const i=this.privList.splice(e,t);return this.triggerSubscriptions(this.privRemoveSubscriptions),i}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[t]=e,{detach:()=>(delete this.privAddSubscriptions[t],Promise.resolve())}}onRemoved(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[t]=e,{detach:()=>(delete this.privRemoveSubscriptions[t],Promise.resolve())}}onDisposed(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[t]=e,{detach:()=>(delete this.privDisposedSubscriptions[t],Promise.resolve())}}join(e){return this.throwIfDisposed(),this.privList.join(e)}toArray(){const e=Array();return this.privList.forEach((t=>{e.push(t)})),e}any(e){return this.throwIfDisposed(),e?this.where(e).length()>0:this.length()>0}all(e){return this.throwIfDisposed(),this.where(e).length()===this.length()}forEach(e){this.throwIfDisposed();for(let t=0;t<this.length();t++)e(this.privList[t],t)}select(e){this.throwIfDisposed();const t=[];for(let i=0;i<this.privList.length;i++)t.push(e(this.privList[i],i));return new L(t)}where(e){this.throwIfDisposed();const t=new L;for(let i=0;i<this.privList.length;i++)e(this.privList[i],i)&&t.add(this.privList[i]);return t}orderBy(e){this.throwIfDisposed();const t=this.toArray().sort(e);return new L(t)}orderByDesc(e){return this.throwIfDisposed(),this.orderBy(((t,i)=>e(i,t)))}clone(){return this.throwIfDisposed(),new L(this.toArray())}concat(e){return this.throwIfDisposed(),new L(this.privList.concat(e.toArray()))}concatArray(e){return this.throwIfDisposed(),new L(this.privList.concat(e))}isDisposed(){return null==this.privList}dispose(e){this.isDisposed()||(this.privDisposeReason=e,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new g("List",this.privDisposeReason)}triggerSubscriptions(e){if(e)for(const t in e)t&&e[t]()}}var z,N,B,q=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};!function(e){e[e.Dequeue=0]="Dequeue",e[e.Peek=1]="Peek"}(z||(z={}));class F{constructor(e){this.privPromiseStore=new L,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=e||new L,this.privDetachables=[],this.privSubscribers=new L,this.privDetachables.push(this.privList.onAdded((()=>this.drain())))}enqueue(e){this.throwIfDispose(),this.enqueueFromPromise(new Promise((t=>t(e))))}enqueueFromPromise(e){this.throwIfDispose(),e.then((e=>{this.privList.add(e)}),(()=>{}))}dequeue(){this.throwIfDispose();const e=new M;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:z.Dequeue}),this.drain()),e.promise}peek(){this.throwIfDispose();const e=new M;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:z.Peek}),this.drain()),e.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return null==this.privSubscribers}drainAndDispose(e,t){return q(this,void 0,void 0,(function*(){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=t,this.privIsDisposing=!0;const i=this.privSubscribers;if(i){for(;i.length()>0;){i.removeFirst().deferral.resolve(void 0)}this.privSubscribers===i&&(this.privSubscribers=i)}for(const e of this.privDetachables)yield e.detach();if(this.privPromiseStore.length()>0&&e){const t=[];return this.privPromiseStore.toArray().forEach((e=>{t.push(e)})),Promise.all(t).finally((()=>{this.privSubscribers=null,this.privList.forEach((t=>{e(t)})),this.privList=null})).then()}this.privSubscribers=null,this.privList=null}}))}dispose(e){return q(this,void 0,void 0,(function*(){yield this.drainAndDispose(null,e)}))}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const e=this.privSubscribers,t=this.privList;if(e&&t){for(;t.length()>0&&e.length()>0&&!this.privIsDisposing;){const i=e.removeFirst();if(i.type===z.Peek)i.deferral.resolve(t.first());else{const e=t.removeFirst();i.deferral.resolve(e)}}this.privSubscribers===e&&(this.privSubscribers=e),this.privList===t&&(this.privList=t)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed()){if(this.privDisposeReason)throw new x(this.privDisposeReason);throw new g("Queue")}if(this.privIsDisposing)throw new x("Queue disposing")}}class j{static setEventSource(e){if(!e)throw new v("eventSource");j.privInstance=e}static get instance(){return j.privInstance}}j.privInstance=new k,function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.None=4]="None"}(N||(N={}));class H{constructor(e,t){this.privName=e,this.privEventId=R(),this.privEventTime=(new Date).toISOString(),this.privEventType=t,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}class W extends H{constructor(e){super("BackgroundEvent",N.Error),this.privError=e}get error(){return this.privError}}class K{constructor(e,t){this.privStatusCode=e,this.privReason=t}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}}class U extends H{constructor(e,t,i=N.Info){super(e,i),this.privJsonResult=t}get jsonString(){return this.privJsonResult}}class V extends H{constructor(e,t,i=N.Info){super(e,i),this.privConnectionId=t}get connectionId(){return this.privConnectionId}}class $ extends V{constructor(e,t,i){super("ConnectionStartEvent",e),this.privUri=t,this.privHeaders=i}get uri(){return this.privUri}get headers(){return this.privHeaders}}class J extends V{constructor(e){super("ConnectionEstablishedEvent",e)}}class G extends V{constructor(e,t,i){super("ConnectionClosedEvent",e,N.Debug),this.privReason=i,this.privStatusCode=t}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}class X extends V{constructor(e,t,i){super("ConnectionErrorEvent",e,N.Debug),this.privMessage=t,this.privType=i}get message(){return this.privMessage}get type(){return this.privType}}class Q extends V{constructor(e,t,i){super("ConnectionEstablishErrorEvent",e,N.Error),this.privStatusCode=t,this.privReason=i}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}class Y extends V{constructor(e,t,i){super("ConnectionMessageReceivedEvent",e),this.privNetworkReceivedTime=t,this.privMessage=i}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}class Z extends V{constructor(e,t,i){super("ConnectionMessageSentEvent",e),this.privNetworkSentTime=t,this.privMessage=i}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}!function(e){e[e.Text=0]="Text",e[e.Binary=1]="Binary"}(B||(B={}));class ee{constructor(e,t,i,r){if(this.privBody=null,e===B.Text&&t&&"string"!=typeof t)throw new x("Payload must be a string");if(e===B.Binary&&t&&!(t instanceof ArrayBuffer))throw new x("Payload must be ArrayBuffer");switch(this.privMessageType=e,this.privBody=t,this.privHeaders=i||{},this.privId=r||R(),this.messageType){case B.Binary:this.privSize=null!==this.binaryBody?this.binaryBody.byteLength:0;break;case B.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===B.Binary)throw new x("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===B.Text)throw new x("Not supported for text message");return this.privBody}get id(){return this.privId}}class te{constructor(e,t,i){if(this.privPayload=null,!t)throw new v("payload");if(e===B.Binary&&"ArrayBuffer"!==t.__proto__.constructor.name)throw new x("Payload must be ArrayBuffer");if(e===B.Text&&"string"!=typeof t)throw new x("Payload must be a string");this.privMessageType=e,this.privPayload=t,this.privId=i||R()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===B.Binary)throw new x("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===B.Text)throw new x("Not supported for text message");return this.privPayload}get id(){return this.privId}}var ie=i(30173),re=i(3339);class ne extends H{constructor(e,t,i){super(e,t),this.privSignature=i}}class oe extends ne{constructor(e){super("OCSPMemoryCacheHitEvent",N.Debug,e)}}class se extends ne{constructor(e){super("OCSPCacheMissEvent",N.Debug,e)}}class ae extends ne{constructor(e){super("OCSPDiskCacheHitEvent",N.Debug,e)}}class ce extends ne{constructor(e){super("OCSPCacheUpdateNeededEvent",N.Debug,e)}}class ue extends ne{constructor(e){super("OCSPMemoryCacheStoreEvent",N.Debug,e)}}class he extends ne{constructor(e){super("OCSPDiskCacheStoreEvent",N.Debug,e)}}class pe extends ne{constructor(e){super("OCSPCacheUpdateCompleteEvent",N.Debug,e)}}class de extends ne{constructor(){super("OCSPStapleReceivedEvent",N.Debug,"")}}class fe extends ne{constructor(e,t){super("OCSPCacheEntryExpiredEvent",N.Debug,e),this.privExpireTime=t}}class le extends ne{constructor(e,t,i){super("OCSPCacheEntryNeedsRefreshEvent",N.Debug,e),this.privExpireTime=i,this.privStartTime=t}}class ve extends ne{constructor(e,t,i){super("OCSPCacheHitEvent",N.Debug,e),this.privExpireTime=i,this.privExpireTimeString=new Date(i).toLocaleDateString(),this.privStartTime=t,this.privStartTimeString=new Date(t).toLocaleTimeString()}}class xe extends ne{constructor(e,t){super("OCSPVerificationFailedEvent",N.Debug,e),this.privError=t}}class ge extends ne{constructor(e,t){super("OCSPCacheFetchErrorEvent",N.Debug,e),this.privError=t}}class me extends ne{constructor(e){super("OCSPResponseRetrievedEvent",N.Debug,e)}}class _e extends ne{constructor(e,t){super("OCSPCacheUpdateErrorEvent",N.Debug,e),this.privError=t}}var ye=i(43108),Se=i.n(ye),be=i(88275),we=i.n(be),Ce=i(92505),Te=i.n(Ce),Re=i(10146),Ee=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class Pe{constructor(e){e&&(this.privProxyInfo=e),Pe.privDiskCache||(Pe.privDiskCache=new(we())("microsoft-cognitiveservices-speech-sdk-cache",{supportBuffer:!0,location:"undefined"!=typeof process&&process.env.SPEECH_OCSP_CACHE_ROOT?process.env.SPEECH_OCSP_CACHE_ROOT:void 0}))}static forceReinitDiskCache(){Pe.privDiskCache=void 0,Pe.privMemCache={}}GetAgent(e){const t=new(Se().Agent)(this.CreateConnection);if(void 0!==this.privProxyInfo&&void 0!==this.privProxyInfo.HostName&&this.privProxyInfo.Port>0){t["privProxyInfo"]=this.privProxyInfo}return t}static GetProxyAgent(e){const t={host:e.HostName,port:e.Port};e.UserName?t.headers={"Proxy-Authentication":"Basic "+new Buffer(`${e.UserName}:${void 0===e.Password?"":e.Password}`).toString("base64")}:t.headers={},t.headers.requestOCSP="true";return new(Te())(t)}static OCSPCheck(e,t){return Ee(this,void 0,void 0,(function*(){let i,r,n=!1;const o=yield e;o.cork();const s=o;return new Promise(((e,a)=>{o.on("OCSPResponse",(e=>{e&&(this.onEvent(new de),r=e)})),o.on("error",(e=>{n||(n=!0,o.destroy(),a(e))})),s.on("secure",(()=>Ee(this,void 0,void 0,(function*(){const c=s.getPeerCertificate(!0);try{const s=yield this.GetIssuer(c);i=re.request.generate(c.raw,s.raw);const a=i.id.toString("hex");if(!r){const e=yield Pe.GetResponseFromCache(a,i,t);r=e}yield this.VerifyOCSPResponse(r,i,t),o.uncork(),n=!0,e(o)}catch(e){o.destroy(),n=!0,a(e)}}))))}))}))}static GetIssuer(e){return e.issuerCertificate?Promise.resolve(e.issuerCertificate):new Promise(((t,i)=>{new re.Agent({}).fetchIssuer(e,null,((e,r)=>{e?i(e):t(r)}))}))}static GetResponseFromCache(e,t,i){return Ee(this,void 0,void 0,(function*(){let r=Pe.privMemCache[e];if(r&&this.onEvent(new oe(e)),!r)try{const t=yield Pe.privDiskCache.get(e);t.isCached&&(Pe.onEvent(new ae(e)),Pe.StoreMemoryCacheEntry(e,t.value),r=t.value)}catch(e){r=null}if(!r)return r;try{const n=re.utils.parseResponse(r),o=n.value.tbsResponseData;if(o.responses.length<1)return void this.onEvent(new ge(e,"Not enough data in cached response"));const s=o.responses[0].thisUpdate,a=o.responses[0].nextUpdate;if(a<Date.now()+this.testTimeOffset-6e4)this.onEvent(new fe(e,a)),r=null;else{const r=Math.min(864e5,(a-s)/2);a-(Date.now()+this.testTimeOffset)<r?(this.onEvent(new le(e,s,a)),this.UpdateCache(t,i).catch((t=>{this.onEvent(new _e(e,t.toString()))}))):this.onEvent(new ve(e,s,a))}}catch(t){this.onEvent(new ge(e,t)),r=null}return r||this.onEvent(new se(e)),r}))}static VerifyOCSPResponse(e,t,i){return Ee(this,void 0,void 0,(function*(){let r=e;return r||(r=yield Pe.GetOCSPResponse(t,i)),new Promise(((n,o)=>{re.verify({request:t,response:r},(s=>{s?(Pe.onEvent(new xe(t.id.toString("hex"),s)),e?this.VerifyOCSPResponse(null,t,i).then((()=>{n()}),(e=>{o(e)})):o(s)):(e||Pe.StoreCacheEntry(t.id.toString("hex"),r),n())}))}))}))}static UpdateCache(e,t){return Ee(this,void 0,void 0,(function*(){const i=e.id.toString("hex");this.onEvent(new ce(i));const r=yield this.GetOCSPResponse(e,t);this.StoreCacheEntry(i,r),this.onEvent(new pe(e.id.toString("hex")))}))}static StoreCacheEntry(e,t){this.StoreMemoryCacheEntry(e,t),this.StoreDiskCacheEntry(e,t)}static StoreMemoryCacheEntry(e,t){this.privMemCache[e]=t,this.onEvent(new ue(e))}static StoreDiskCacheEntry(e,t){this.privDiskCache.set(e,t).then((()=>{this.onEvent(new he(e))}))}static GetOCSPResponse(e,t){let i={};if(t){const e=Pe.GetProxyAgent(t);i.agent=e}return new Promise(((t,r)=>{re.utils.getAuthorityInfo(e.cert,"1.3.6.1.5.5.7.48.1",((n,o)=>{if(n)return void r(n);const s=new URL(o);i=Object.assign(Object.assign({},i),{host:s.host,protocol:s.protocol,port:s.port,path:s.pathname,hostname:s.host}),re.utils.getResponse(i,e.data,((i,n)=>{if(i)return void r(i);const o=e.certID;this.onEvent(new me(o.toString("hex"))),t(n)}))}))}))}static onEvent(e){j.instance.onEvent(e)}CreateConnection(e,t){const i="undefined"!=typeof process&&"0"!==process.env.NODE_TLS_REJECT_UNAUTHORIZED&&"0"!==process.env.SPEECH_CONDUCT_OCSP_CHECK&&t.secureEndpoint;let r;if(t=Object.assign(Object.assign({},t),{requestOCSP:!Pe.forceDisableOCSPStapling,servername:t.host}),this.privProxyInfo){const i=Pe.GetProxyAgent(this.privProxyInfo);r=new Promise(((r,n)=>{i.callback(e,t,((e,t)=>{e?n(e):r(t)}))}))}else r=t.secureEndpoint?Promise.resolve(ie.connect(t)):Promise.resolve(Re.connect(t));return i?Pe.OCSPCheck(r,this.privProxyInfo):r}}Pe.testTimeOffset=0,Pe.forceDisableOCSPStapling=!1,Pe.privMemCache={};var Ie=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class Ae{constructor(e,t,i,r,n,o){if(!e)throw new v("uri");if(!i)throw new v("messageFormatter");this.proxyInfo=r,this.privConnectionEvents=new k,this.privConnectionId=t,this.privMessageFormatter=i,this.privConnectionState=E.None,this.privUri=e,this.privHeaders=n,this.privEnableCompression=o,this.privHeaders[D.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===E.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new M,this.privCertificateValidatedDeferral=new M,this.privConnectionState=E.Connecting;try{if("undefined"==typeof WebSocket||Ae.forceNpmWebSocket){const e={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve();const t=new Pe(this.proxyInfo);e.agent=t.GetAgent();let i=new URL(this.privUri).protocol;"wss:"===(null==i?void 0:i.toLocaleLowerCase())?i="https:":"ws:"===(null==i?void 0:i.toLocaleLowerCase())&&(i="http:"),e.agent.protocol=i,this.privWebsocketClient=new(A())(this.privUri,e)}else this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new F,this.privDisconnectDeferral=new M,this.privSendMessageQueue=new F,this.processSendQueue().catch((e=>{j.instance.onEvent(new W(e))}))}catch(e){return this.privConnectionEstablishDeferral.resolve(new K(500,e)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new $(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then((()=>{this.privConnectionState=E.Connected,this.onEvent(new J(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new K(200,""))}),(e=>{this.privConnectionEstablishDeferral.reject(e)}))},this.privWebsocketClient.onerror=e=>{this.onEvent(new X(this.privConnectionId,e.message,e.type)),this.privLastErrorReceived=e.message},this.privWebsocketClient.onclose=e=>{this.privConnectionState===E.Connecting?(this.privConnectionState=E.Disconnected,this.privConnectionEstablishDeferral.resolve(new K(e.code,e.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=E.Disconnected,this.privWebsocketClient=null,this.onEvent(new G(this.privConnectionId,e.code,e.reason))),this.onClose(e.code,e.reason).catch((e=>{j.instance.onEvent(new W(e))}))},this.privWebsocketClient.onmessage=e=>{const t=(new Date).toISOString();if(this.privConnectionState===E.Connected){const i=new M;if(this.privReceivingMessageQueue.enqueueFromPromise(i.promise),e.data instanceof ArrayBuffer){const r=new te(B.Binary,e.data);this.privMessageFormatter.toConnectionMessage(r).then((e=>{this.onEvent(new Y(this.privConnectionId,t,e)),i.resolve(e)}),(e=>{i.reject(`Invalid binary message format. Error: ${e}`)}))}else{const r=new te(B.Text,e.data);this.privMessageFormatter.toConnectionMessage(r).then((e=>{this.onEvent(new Y(this.privConnectionId,t,e)),i.resolve(e)}),(e=>{i.reject(`Invalid text message format. Error: ${e}`)}))}}},this.privConnectionEstablishDeferral.promise}send(e){if(this.privConnectionState!==E.Connected)return Promise.reject(`Cannot send on connection that is in ${E[this.privConnectionState]} state`);const t=new M,i=new M;return this.privSendMessageQueue.enqueueFromPromise(i.promise),this.privMessageFormatter.fromConnectionMessage(e).then((r=>{i.resolve({Message:e,RawWebsocketMessage:r,sendStatusDeferral:t})}),(e=>{i.reject(`Error formatting the message. ${e}`)})),t.promise}read(){return this.privConnectionState!==E.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue()}close(e){return this.privWebsocketClient?(this.privConnectionState!==E.Disconnected&&this.privWebsocketClient.close(1e3,e||"Normal closure by client"),this.privDisconnectDeferral.promise):Promise.resolve()}get events(){return this.privConnectionEvents}sendRawMessage(e){try{return e?(this.onEvent(new Z(this.privConnectionId,(new Date).toISOString(),e.Message)),this.isWebsocketOpen?(this.privWebsocketClient.send(e.RawWebsocketMessage.payload),Promise.resolve()):Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+e.Message.id+" "+(new Error).stack)):Promise.resolve()}catch(e){return Promise.reject(`websocket send error: ${e}`)}}onClose(e,t){return Ie(this,void 0,void 0,(function*(){const i=`Connection closed. ${e}: ${t}`;this.privConnectionState=E.Disconnected,this.privDisconnectDeferral.resolve(),yield this.privReceivingMessageQueue.drainAndDispose((()=>{}),i),yield this.privSendMessageQueue.drainAndDispose((e=>{e.sendStatusDeferral.reject(i)}),i)}))}processSendQueue(){return Ie(this,void 0,void 0,(function*(){for(;;){const e=this.privSendMessageQueue.dequeue(),t=yield e;if(!t)return;try{yield this.sendRawMessage(t),t.sendStatusDeferral.resolve()}catch(e){t.sendStatusDeferral.reject(e)}}}))}onEvent(e){this.privConnectionEvents.onEvent(e),j.instance.onEvent(e)}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}Ae.forceNpmWebSocket=!1;var De,ke,Me,Oe,Le=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class ze{constructor(e,t,i,r,n,o=!1,s){if(this.privIsDisposed=!1,!e)throw new v("uri");if(!r)throw new v("messageFormatter");this.privMessageFormatter=r;let a="",c=0;if(t)for(const i in t)if(i){a+=0===c&&-1===e.indexOf("?")?"?":"&";a+=`${i}=${encodeURIComponent(t[i])}`,c++}if(i)for(const t in i)if(t){a+=0===c&&-1===e.indexOf("?")?"?":"&";a+=`${t}=${encodeURIComponent(i[t])}`,c++}this.privUri=e+a,this.privId=s||R(),this.privConnectionMessageAdapter=new Ae(this.privUri,this.id,this.privMessageFormatter,n,i,o)}dispose(){return Le(this,void 0,void 0,(function*(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&(yield this.privConnectionMessageAdapter.close())}))}isDisposed(){return this.privIsDisposed}get id(){return this.privId}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(e){return this.privConnectionMessageAdapter.send(e)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}}class Ne{constructor(e,t,i,r){this.privProxyHostName=e,this.privProxyPort=t,this.privProxyUserName=i,this.privProxyPassword=r}static fromParameters(e){return new Ne(e.getProperty(a.SpeechServiceConnection_ProxyHostName),parseInt(e.getProperty(a.SpeechServiceConnection_ProxyPort),10),e.getProperty(a.SpeechServiceConnection_ProxyUserName),e.getProperty(a.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(e){return this.fromParameters(e.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}}class Be{}Be.BotId="botid",Be.CustomSpeechDeploymentId="cid",Be.CustomVoiceDeploymentId="deploymentId",Be.EnableAudioLogging="storeAudio",Be.EnableLanguageId="lidEnabled",Be.EnableWordLevelTimestamps="wordLevelTimestamps",Be.EndSilenceTimeoutMs="endSilenceTimeoutMs",Be.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs",Be.Format="format",Be.InitialSilenceTimeoutMs="initialSilenceTimeoutMs",Be.Language="language",Be.Profanity="profanity",Be.RequestBotStatusMessages="enableBotMessageStatus",Be.StableIntermediateThreshold="stableIntermediateThreshold",Be.StableTranslation="stableTranslation",Be.TestHooks="testhooks",Be.Postprocessing="postprocessing";class qe{static getHostSuffix(e){if(e){if(e.toLowerCase().startsWith("china"))return".azure.cn";if(e.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(e,t,i){new Map([[a.Speech_SegmentationSilenceTimeoutMs,Be.SegmentationSilenceTimeoutMs],[a.SpeechServiceConnection_EnableAudioLogging,Be.EnableAudioLogging],[a.SpeechServiceConnection_EndSilenceTimeoutMs,Be.EndSilenceTimeoutMs],[a.SpeechServiceConnection_InitialSilenceTimeoutMs,Be.InitialSilenceTimeoutMs],[a.SpeechServiceResponse_PostProcessingOption,Be.Postprocessing],[a.SpeechServiceResponse_ProfanityOption,Be.Profanity],[a.SpeechServiceResponse_RequestWordLevelTimestamps,Be.EnableWordLevelTimestamps],[a.SpeechServiceResponse_StablePartialResultThreshold,Be.StableIntermediateThreshold]]).forEach(((r,n)=>{this.setUrlParameter(n,r,e,t,i)}));const r=JSON.parse(e.parameters.getProperty(n,"{}"));Object.keys(r).forEach((e=>{t[e]=r[e]}))}setUrlParameter(e,t,i,r,n){const o=i.parameters.getProperty(e,void 0);!o||n&&-1!==n.search(t)||(r[t]=o.toLocaleLowerCase())}}!function(e){e[e.Interactive=0]="Interactive",e[e.Conversation=1]="Conversation",e[e.Dictation=2]="Dictation"}(De||(De={})),function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(ke||(ke={}));class Fe{constructor(e,t){this.privSpeechServiceConfig=e||new je(new He(null)),this.privParameters=t,this.privMaxRetryCount=parseInt(t.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdPriority=t.getProperty(a.SpeechServiceConnection_ContinuousLanguageIdPriority,void 0),this.privLanguageIdMode="Latency"===this.privLanguageIdPriority?"DetectContinuous":"DetectAtAudioStart","DetectAtAudioStart"===this.privLanguageIdMode&&(this.privLanguageIdPriority=t.getProperty(a.SpeechServiceConnection_AtStartLanguageIdPriority,void 0))}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(e){this.privRecognitionMode=e,this.privRecognitionActivityTimeout=e===De.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=De[e]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==De.Interactive}get languageIdPriority(){return this.privLanguageIdPriority?`Prioritize${this.privLanguageIdPriority}`:""}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(a.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(a.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}get sourceLanguageModels(){const e=[];let t=!1;if(void 0!==this.autoDetectSourceLanguages)for(const i of this.autoDetectSourceLanguages.split(",")){const r=i+a.SpeechServiceConnection_EndpointId.toString(),n=this.parameters.getProperty(r,void 0);void 0!==n?(e.push({language:i,endpoint:n}),t=!0):e.push({language:i,endpoint:""})}return t?e:void 0}get maxRetryCount(){return this.privMaxRetryCount}}class je{constructor(e){this.context=e}serialize(){return JSON.stringify(this,((e,t)=>{if(t&&"object"==typeof t){const e={};for(const i in t)Object.hasOwnProperty.call(t,i)&&(e[i&&i.charAt(0).toLowerCase()+i.substring(1)]=t[i]);return e}return t}))}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(e){this.recognition=e.toLowerCase()}}class He{constructor(e){this.system=new We,this.os=e}}class We{constructor(){this.name="SpeechSDK",this.version="1.24.1",this.build="JavaScript",this.lang="JavaScript"}}class Ke{constructor(e,t,i){this.platform=e,this.name=t,this.version=i}}!function(e){e.Bluetooth="Bluetooth",e.Wired="Wired",e.WiFi="WiFi",e.Cellular="Cellular",e.InBuilt="InBuilt",e.Unknown="Unknown"}(Me||(Me={})),function(e){e.Phone="Phone",e.Speaker="Speaker",e.Car="Car",e.Headset="Headset",e.Thermostat="Thermostat",e.Microphones="Microphones",e.Deskphone="Deskphone",e.RemoteControl="RemoteControl",e.Unknown="Unknown",e.File="File",e.Stream="Stream"}(Oe||(Oe={}));class Ue{toConnectionMessage(e){const t=new M;try{if(e.messageType===B.Text){const i=e.textContent;let r={},n=null;if(i){const e=i.split("\r\n\r\n");e&&e.length>0&&(r=this.parseHeaders(e[0]),e.length>1&&(n=e[1]))}t.resolve(new ee(e.messageType,n,r,e.id))}else if(e.messageType===B.Binary){const i=e.binaryContent;let r={},n=null;if(!i||i.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const o=new DataView(i),s=o.getInt16(0);if(i.byteLength<s+2)throw new Error("Invalid binary message format. Header content missing.");let a="";for(let e=0;e<s;e++)a+=String.fromCharCode(o.getInt8(e+2));r=this.parseHeaders(a),i.byteLength>s+2&&(n=i.slice(2+s)),t.resolve(new ee(e.messageType,n,r,e.id))}}catch(e){t.reject(`Error formatting the message. Error: ${e}`)}return t.promise}fromConnectionMessage(e){const t=new M;try{if(e.messageType===B.Text){const i=`${this.makeHeaders(e)}\r\n${e.textBody?e.textBody:""}`;t.resolve(new te(B.Text,i,e.id))}else if(e.messageType===B.Binary){const i=this.makeHeaders(e),r=e.binaryBody,n=this.stringToArrayBuffer(i),o=new Int8Array(n),s=o.byteLength,a=new Int8Array(2+s+(r?r.byteLength:0));if(a[0]=s>>8&255,a[1]=255&s,a.set(o,2),r){const e=new Int8Array(r);a.set(e,2+s)}const c=a.buffer;t.resolve(new te(B.Binary,c,e.id))}}catch(e){t.reject(`Error formatting the message. ${e}`)}return t.promise}makeHeaders(e){let t="";if(e.headers)for(const i in e.headers)i&&(t+=`${i}: ${e.headers[i]}\r\n`);return t}parseHeaders(e){const t={};if(e){const i=e.match(/[^\r\n]+/g);if(t)for(const e of i)if(e){const i=e.indexOf(":"),r=i>0?e.substr(0,i).trim().toLowerCase():e,n=i>0&&e.length>i+1?e.substr(i+1).trim():"";t[r]=n}}return t}stringToArrayBuffer(e){const t=new ArrayBuffer(e.length),i=new DataView(t);for(let t=0;t<e.length;t++)i.setUint8(t,e.charCodeAt(t));return t}}class Ve extends qe{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/speech/universal/v"}create(t,i,r){let n=t.parameters.getProperty(a.SpeechServiceConnection_Endpoint,void 0);const s=t.parameters.getProperty(a.SpeechServiceConnection_Region,void 0),u=qe.getHostSuffix(s),h=t.parameters.getProperty(a.SpeechServiceConnection_Host,"wss://"+s+".stt.speech"+u),p={},d=t.parameters.getProperty(a.SpeechServiceConnection_EndpointId,void 0),f=t.parameters.getProperty(a.SpeechServiceConnection_RecoLanguage,void 0);if(d?n&&-1!==n.search(Be.CustomSpeechDeploymentId)||(p[Be.CustomSpeechDeploymentId]=d):f&&(n&&-1!==n.search(Be.Language)||(p[Be.Language]=f)),n&&-1!==n.search(Be.Format)||(p[Be.Format]=t.parameters.getProperty(e,c[c.Simple]).toLowerCase()),void 0!==t.autoDetectSourceLanguages&&(p[Be.EnableLanguageId]="true"),this.setCommonUrlParams(t,p,n),!n)switch(t.recognitionMode){case De.Conversation:n="true"===t.parameters.getProperty(o,"false")?h+this.dictationRelativeUri:void 0!==t.recognitionEndpointVersion&&parseInt(t.recognitionEndpointVersion,10)>1?`${h}${this.universalUri}${t.recognitionEndpointVersion}`:h+this.conversationRelativeUri;break;case De.Dictation:n=h+this.dictationRelativeUri;break;default:n=void 0!==t.recognitionEndpointVersion&&parseInt(t.recognitionEndpointVersion,10)>1?`${h}${this.universalUri}${t.recognitionEndpointVersion}`:h+this.interactiveRelativeUri}const l={};void 0!==i.token&&""!==i.token&&(l[i.headerName]=i.token),l[D.ConnectionId]=r,t.parameters.setProperty(a.SpeechServiceConnection_Url,n);const v="true"===t.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new ze(n,p,l,new Ue,Ne.fromRecognizerConfig(t),v,r)}}class $e{constructor(e,t,i,r,n,o,s,a,c,u){this.privResultId=e,this.privReason=t,this.privText=i,this.privDuration=r,this.privOffset=n,this.privLanguage=o,this.privLanguageDetectionConfidence=s,this.privErrorDetails=a,this.privJson=c,this.privProperties=u}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}}class Je extends $e{constructor(e,t,i,r,n,o,s,a,c,u,h){super(e,t,i,r,n,o,s,c,u,h),this.privSpeakerId=a}get speakerId(){return this.privSpeakerId}}var Ge,Xe,Qe,Ye;!function(e){e[e.NoMatch=0]="NoMatch",e[e.Canceled=1]="Canceled",e[e.RecognizingSpeech=2]="RecognizingSpeech",e[e.RecognizedSpeech=3]="RecognizedSpeech",e[e.RecognizedKeyword=4]="RecognizedKeyword",e[e.RecognizingIntent=5]="RecognizingIntent",e[e.RecognizedIntent=6]="RecognizedIntent",e[e.TranslatingSpeech=7]="TranslatingSpeech",e[e.TranslatedSpeech=8]="TranslatedSpeech",e[e.SynthesizingAudio=9]="SynthesizingAudio",e[e.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",e[e.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",e[e.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",e[e.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",e[e.RecognizedSpeakers=14]="RecognizedSpeakers",e[e.RecognizedSpeaker=15]="RecognizedSpeaker",e[e.ResetVoiceProfile=16]="ResetVoiceProfile",e[e.DeletedVoiceProfile=17]="DeletedVoiceProfile",e[e.VoicesListRetrieved=18]="VoicesListRetrieved"}(Ge||(Ge={}));class Ze{constructor(e){this.privSessionId=e}get sessionId(){return this.privSessionId}}class et extends Ze{constructor(e,t){super(t),this.privOffset=e}get offset(){return this.privOffset}}class tt extends et{constructor(e,t,i){super(t,i),this.privResult=e}get result(){return this.privResult}}!function(e){e[e.NoError=0]="NoError",e[e.AuthenticationFailure=1]="AuthenticationFailure",e[e.BadRequestParameters=2]="BadRequestParameters",e[e.TooManyRequests=3]="TooManyRequests",e[e.ConnectionFailure=4]="ConnectionFailure",e[e.ServiceTimeout=5]="ServiceTimeout",e[e.ServiceError=6]="ServiceError",e[e.RuntimeError=7]="RuntimeError",e[e.Forbidden=8]="Forbidden"}(Xe||(Xe={}));class it extends et{constructor(e,t,i,r,n){super(r,n),this.privReason=e,this.privErrorDetails=t,this.privErrorCode=i}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}class rt extends it{}class nt{constructor(e,t){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=e,this.privBytesPerSecond=t}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&0!==this.privBuffers.length){const e=this.privReplayOffset-this.privBufferStartOffset;let t=Math.round(e*this.privBytesPerSecond*1e-7);0!=t%2&&t++;let i=0;for(;i<this.privBuffers.length&&t>=this.privBuffers[i].chunk.buffer.byteLength;)t-=this.privBuffers[i++].chunk.buffer.byteLength;if(i<this.privBuffers.length){const e=this.privBuffers[i].chunk.buffer.slice(t);return this.privReplayOffset+=e.byteLength/this.privBytesPerSecond*1e7,i===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:e,isEnd:!1,timeReceived:this.privBuffers[i].chunk.timeReceived})}}return this.privAudioNode.read().then((e=>(e&&e.buffer&&(this.privBuffers.push(new ot(e,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=e.buffer.byteLength),e)))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&0!==this.privBuffers.length&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(e){if(void 0===this.privBuffers||0===this.privBuffers.length)return;this.privLastShrinkOffset=e;const t=e-this.privBufferStartOffset;let i=Math.round(t*this.privBytesPerSecond*1e-7),r=0;for(;r<this.privBuffers.length&&i>=this.privBuffers[r].chunk.buffer.byteLength;)i-=this.privBuffers[r++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-i/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(r)}findTimeAtOffset(e){if(e<this.privBufferStartOffset||void 0===this.privBuffers)return 0;for(const t of this.privBuffers){const i=t.byteOffset/this.privBytesPerSecond*1e7,r=i+t.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(e>=i&&e<=r)return t.chunk.timeReceived}return 0}}class ot{constructor(e,t,i){this.chunk=e,this.serial=t,this.byteOffset=i}}class st{static load(){const e=new Map([[0,()=>{}]]),t=new Map,i="data:text/javascript;base64,"+btoa('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error(\'There is no interval scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error(\'The given method "\'.concat(e.method,\'" is not supported\'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);'),r=new Worker(i);r.addEventListener("message",(({data:i})=>{if(st.isCallNotification(i)){const{params:{timerId:r}}=i,n=e.get(r);if("number"==typeof n){const e=t.get(n);if(void 0===e||e!==r)throw new Error("The timer is in an undefined state.")}else{if(void 0===n)throw new Error("The timer is in an undefined state.");n(),e.delete(r)}}else{if(!st.isClearResponse(i)){const{error:{message:e}}=i;throw new Error(e)}{const{id:r}=i,n=t.get(r);if(void 0===n)throw new Error("The timer is in an undefined state.");t.delete(r),e.delete(n)}}}));return{clearTimeout:i=>{const n=Math.random();t.set(n,i),e.set(i,n),r.postMessage({id:n,method:"clear",params:{timerId:i}})},setTimeout:(t,i)=>{const n=Math.random();return e.set(n,t),r.postMessage({id:null,method:"set",params:{delay:i,now:performance.now(),timerId:n}}),n}}}static loadWorkerTimers(){return()=>(null!==st.workerTimers||(st.workerTimers=st.load()),st.workerTimers)}static isCallNotification(e){return void 0!==e.method&&"call"===e.method}static isClearResponse(e){return null===e.error&&"number"==typeof e.id}}st.workerTimers=null,st.clearTimeout=e=>st.timers().clearTimeout(e),st.setTimeout=(e,t)=>st.timers().setTimeout(e,t),st.timers=st.loadWorkerTimers(),function(e){e[e.Error=0]="Error",e[e.EndOfStream=1]="EndOfStream"}(Qe||(Qe={}));class at extends H{constructor(e,t,i,r=N.Info){super(e,r),this.privRequestId=t,this.privSessionId=i}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}class ct extends at{constructor(e,t,i,r){super("RecognitionTriggeredEvent",e,t),this.privAudioSourceId=i,this.privAudioNodeId=r}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}class ut extends at{constructor(e,t,i,r){super("ListeningStartedEvent",e,t),this.privAudioSourceId=i,this.privAudioNodeId=r}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}class ht extends at{constructor(e,t,i){super("ConnectingToServiceEvent",e,i),this.privAuthFetchEventid=t}get authFetchEventid(){return this.privAuthFetchEventid}}class pt extends at{constructor(e,t,i,r,n){super("RecognitionStartedEvent",e,n),this.privAudioSourceId=t,this.privAudioNodeId=i,this.privAuthFetchEventId=r}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}!function(e){e[e.Success=0]="Success",e[e.AudioSourceError=1]="AudioSourceError",e[e.AudioSourceTimeout=2]="AudioSourceTimeout",e[e.AuthTokenFetchError=3]="AuthTokenFetchError",e[e.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",e[e.UnAuthorized=5]="UnAuthorized",e[e.ConnectTimeout=6]="ConnectTimeout",e[e.ConnectError=7]="ConnectError",e[e.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",e[e.UnknownError=9]="UnknownError"}(Ye||(Ye={}));class dt extends H{constructor(e,t,i=N.Info){super(e,i),this.privAudioSourceId=t}get audioSourceId(){return this.privAudioSourceId}}class ft extends dt{constructor(e){super("AudioSourceInitializingEvent",e)}}class lt extends dt{constructor(e){super("AudioSourceReadyEvent",e)}}class vt extends dt{constructor(e){super("AudioSourceOffEvent",e)}}class xt extends dt{constructor(e,t){super("AudioSourceErrorEvent",e,N.Error),this.privError=t}get error(){return this.privError}}class gt extends dt{constructor(e,t,i){super(e,t),this.privAudioNodeId=i}get audioNodeId(){return this.privAudioNodeId}}class mt extends gt{constructor(e,t){super("AudioStreamNodeAttachingEvent",e,t)}}class _t extends gt{constructor(e,t){super("AudioStreamNodeAttachedEvent",e,t)}}class yt extends gt{constructor(e,t){super("AudioStreamNodeDetachedEvent",e,t)}}class St extends gt{constructor(e,t,i){super("AudioStreamNodeErrorEvent",e,t),this.privError=i}get error(){return this.privError}}class bt{constructor(e,t,i){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=e,this.privAudioSourceId=t,this.privAudioNodeId=i,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(e){e>0&&this.privPhraseLatencies.push(Date.now()-e)}hypothesisReceived(e){e>0&&this.privHypothesisLatencies.push(Date.now()-e)}onEvent(e){if(!this.privIsDisposed&&(e instanceof ct&&e.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof mt&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof _t&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof xt&&e.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof St&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof yt&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Name:"Microphone",Start:this.privMicStartTime})),e instanceof ht&&e.requestId===this.privRequestId&&(this.privConnectionId=e.sessionId),e instanceof $&&e.connectionId===this.privConnectionId&&(this.privConnectionStartTime=e.eventTime),e instanceof J&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof Q&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Error:this.getConnectionError(e.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof Y&&e.connectionId===this.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path)){this.privReceivedMessages[e.message.headers.path]||(this.privReceivedMessages[e.message.headers.path]=new Array);const t=50;this.privReceivedMessages[e.message.headers.path].length<t&&this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)}}getTelemetry(){const e=new Array;this.privListeningTriggerMetric&&e.push(this.privListeningTriggerMetric),this.privMicMetric&&e.push(this.privMicMetric),this.privConnectionEstablishMetric&&e.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&e.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&e.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const t={Metrics:e,ReceivedMessages:this.privReceivedMessages},i=JSON.stringify(t);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],i}get hasTelemetry(){return 0!==Object.keys(this.privReceivedMessages).length||null!==this.privListeningTriggerMetric||null!==this.privMicMetric||null!==this.privConnectionEstablishMetric||0!==this.privPhraseLatencies.length||0!==this.privHypothesisLatencies.length}dispose(){this.privIsDisposed=!0}getConnectionError(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}}}var wt=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class Ct{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=e,this.privRequestId=R(),this.privAudioNodeId=R(),this.privTurnDeferral=new M,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}listenForServiceTelemetry(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new bt(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new ct(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onAudioSourceAttachCompleted(e,t){return wt(this,void 0,void 0,(function*(){this.privAudioNode=e,this.privIsAudioNodeDetached=!1,t?yield this.onComplete():this.onEvent(new ut(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}))}onPreConnectionStart(e,t){this.privAuthFetchEventId=e,this.privSessionId=t,this.onEvent(new ht(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}onAuthCompleted(e){return wt(this,void 0,void 0,(function*(){e&&(yield this.onComplete())}))}onConnectionEstablishCompleted(e,t){return wt(this,void 0,void 0,(function*(){if(200===e)return this.onEvent(new pt(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,void(this.privBytesSent=0);403===e&&(yield this.onComplete())}))}onServiceTurnEndResponse(e){return wt(this,void 0,void 0,(function*(){this.privTurnDeferral.resolve(),!e||this.isSpeechEnded?(yield this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())}))}onSpeechContext(){this.privRequestId=R()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch((()=>{}))),this.privInTurn=!0,this.privTurnDeferral=new M}onHypothesis(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))}onPhraseRecognized(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)}onServiceRecognized(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e),this.privConnectionAttempts=0}onAudioSent(e){this.privBytesSent+=e}onRetryConnection(){this.privConnectionAttempts++}dispose(){return wt(this,void 0,void 0,(function*(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)yield e.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}))}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}onStopRecognizing(){return wt(this,void 0,void 0,(function*(){yield this.onComplete()}))}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(e){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(e),j.instance.onEvent(e)}onComplete(){return wt(this,void 0,void 0,(function*(){this.privIsRecognizing&&(this.privIsRecognizing=!1,yield this.detachAudioNode())}))}detachAudioNode(){return wt(this,void 0,void 0,(function*(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&(yield this.privAudioNode.detach()))}))}}class Tt{addPhrase(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(void 0===this.privGrammars&&void 0===this.privPhrases)return;const e={};if(e.ReferenceGrammars=this.privGrammars,void 0!==this.privPhrases&&0!==this.privPhrases.length){const t=[];this.privPhrases.forEach((e=>{t.push({Text:e})})),e.Groups=[{Type:"Generic",Items:t}]}return e}}class Rt{constructor(e){this.privContext={},this.privDynamicGrammar=e}setSection(e,t){this.privContext[e]=t}setPronunciationAssessmentParams(e){void 0===this.privContext.phraseDetection&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(e),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),-1===this.privContext.phraseOutput.detailed.options.indexOf("SNR")&&this.privContext.phraseOutput.detailed.options.push("SNR")}setWordLevelTimings(){void 0===this.privContext.phraseOutput&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),void 0===this.privContext.phraseOutput.detailed&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",-1===this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}toJSON(){const e=this.privDynamicGrammar.generateGrammarObject();this.setSection("dgi",e);return JSON.stringify(this.privContext)}}class Et{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(e){this.iPrivConfig=e}}class Pt{constructor(e){this.privSpeechStartDetected=JSON.parse(e)}static fromJSON(e){return new Pt(e)}get Offset(){return this.privSpeechStartDetected.Offset}}class It extends ee{constructor(e,t,i,r,n,o,s,a){if(!t)throw new v("path");if(!i)throw new v("requestId");const c={};if(c[D.Path]=t,c[D.RequestId]=i,c[D.RequestTimestamp]=(new Date).toISOString(),r&&(c[D.ContentType]=r),o&&(c[D.RequestStreamId]=o),s)for(const e in s)e&&(c[e]=s[e]);a?super(e,n,c,a):super(e,n,c),this.privPath=t,this.privRequestId=i,this.privContentType=r,this.privStreamId=o,this.privAdditionalHeaders=s}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(e){let t=null,i=null,r=null,n=null;const o={};if(e.headers)for(const s in e.headers)s&&(s.toLowerCase()===D.Path.toLowerCase()?t=e.headers[s]:s.toLowerCase()===D.RequestId.toLowerCase()?i=e.headers[s]:s.toLowerCase()===D.ContentType.toLowerCase()?r=e.headers[s]:s.toLowerCase()===D.RequestStreamId.toLowerCase()?n=e.headers[s]:o[s]=e.headers[s]);return new It(e.messageType,t,i,r,e.body,n,o,e.id)}}var At,Dt,kt=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class Mt{constructor(e,t,i,r,n){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.recognizeOverride=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,!e)throw new v("authentication");if(!t)throw new v("connectionFactory");if(!i)throw new v("audioSource");if(!r)throw new v("recognizerConfig");this.privMustReportEndOfStream=!1,this.privAuthentication=e,this.privConnectionFactory=t,this.privAudioSource=i,this.privRecognizerConfig=r,this.privIsDisposed=!1,this.privRecognizer=n,this.privRequestSession=new Ct(this.privAudioSource.id()),this.privConnectionEvents=new k,this.privServiceEvents=new k,this.privDynamicGrammar=new Tt,this.privSpeechContext=new Rt(this.privDynamicGrammar),this.privAgentConfig=new Et,"undefined"!=typeof Blob&&"undefined"!=typeof Worker&&(this.privSetTimeout=st.setTimeout),this.connectionEvents.attach((e=>{if("ConnectionClosedEvent"===e.name){const t=e;(1003===t.statusCode||1007===t.statusCode||1002===t.statusCode||4e3===t.statusCode||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(Qe.Error,1007===t.statusCode?Xe.BadRequestParameters:Xe.ConnectionFailure,`${t.reason} websocket error code: ${t.statusCode}`)}}))}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(e){this.privRecognizerConfig.parameters.setProperty(a.ConversationTranslator_Token,e)}set authentication(e){this.privAuthentication=this.authentication}isDisposed(){return this.privIsDisposed}dispose(e){return kt(this,void 0,void 0,(function*(){if(this.privIsDisposed=!0,void 0!==this.privConnectionConfigurationPromise)try{const t=yield this.privConnectionConfigurationPromise;yield t.dispose(e)}catch(e){return}}))}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}recognize(e,t,i){return kt(this,void 0,void 0,(function*(){if(void 0!==this.recognizeOverride)return void(yield this.recognizeOverride(e,t,i));this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=e,this.privSuccessCallback=t,this.privErrorCallback=i,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const r=this.connectImpl();let n;try{const e=yield this.audioSource.attach(this.privRequestSession.audioNodeId),t=yield this.audioSource.format,i=yield this.audioSource.deviceInfo;this.privIsLiveAudio=i.type&&i.type===Oe.Microphones,n=new nt(e,t.avgBytesPerSec),yield this.privRequestSession.onAudioSourceAttachCompleted(n,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:i}}catch(e){throw yield this.privRequestSession.onStopRecognizing(),e}try{yield r}catch(e){return void(yield this.cancelRecognitionLocal(Qe.Error,Xe.ConnectionFailure,e))}const o=new Ze(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,o),this.receiveMessage();this.sendAudio(n).catch((e=>kt(this,void 0,void 0,(function*(){yield this.cancelRecognitionLocal(Qe.Error,Xe.RuntimeError,e)}))))}))}stopRecognizing(){return kt(this,void 0,void 0,(function*(){if(this.privRequestSession.isRecognizing)try{yield this.audioSource.turnOff(),yield this.sendFinalAudio(),yield this.privRequestSession.onStopRecognizing(),yield this.privRequestSession.turnCompletionPromise}finally{yield this.privRequestSession.dispose()}}))}connect(){return kt(this,void 0,void 0,(function*(){return yield this.connectImpl(),Promise.resolve()}))}connectAsync(e,t){this.connectImpl().then((()=>{try{e&&e()}catch(e){t&&t(e)}}),(e=>{try{t&&t(e)}catch(e){}}))}disconnect(){return kt(this,void 0,void 0,(function*(){if(yield this.cancelRecognitionLocal(Qe.Error,Xe.NoError,"Disconnecting"),void 0!==this.disconnectOverride&&(yield this.disconnectOverride()),void 0!==this.privConnectionPromise)try{yield(yield this.privConnectionPromise).dispose()}catch(e){}this.privConnectionPromise=void 0}))}sendMessage(e){}sendNetworkMessage(e,t){return kt(this,void 0,void 0,(function*(){const i="string"==typeof t?B.Text:B.Binary,r="string"==typeof t?"application/json":"";return(yield this.fetchConnection()).send(new It(i,e,this.privRequestSession.requestId,r,t))}))}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}sendTelemetryData(){return kt(this,void 0,void 0,(function*(){const e=this.privRequestSession.getTelemetry();if(!0!==Mt.telemetryDataEnabled||this.privIsDisposed||null===e)return;if(Mt.telemetryData)try{Mt.telemetryData(e)}catch(e){}const t=yield this.fetchConnection();yield t.send(new It(B.Text,"telemetry",this.privRequestSession.requestId,"application/json",e))}))}cancelRecognitionLocal(e,t,i){return kt(this,void 0,void 0,(function*(){this.privRequestSession.isRecognizing&&(yield this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,e,t,i))}))}receiveMessage(){return kt(this,void 0,void 0,(function*(){try{if(this.privIsDisposed)return;let e=yield this.fetchConnection();const t=yield e.read();if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(!t)return this.privRequestSession.isRecognizing?this.receiveMessage():void 0;this.privServiceHasSentMessage=!0;const i=It.fromConnectionMessage(t);if(i.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(i.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const t=Pt.fromJSON(i.textBody),r=new et(t.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,r);break;case"speech.enddetected":let n;n=i.textBody.length>0?i.textBody:"{ Offset: 0 }";const o=Pt.fromJSON(n);this.privRecognizerConfig.isContinuousRecognition&&this.privRequestSession.onServiceRecognized(o.Offset+this.privRequestSession.currentTurnAudioOffset);const s=new et(o.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,s);break;case"turn.end":yield this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,yield this.cancelRecognitionLocal(Qe.EndOfStream,Xe.NoError,void 0));const a=new Ze(this.privRequestSession.sessionId);if(yield this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)return void(this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,a));e=yield this.fetchConnection(),yield this.sendPrePayloadJSON(e);break;default:(yield this.processTypeSpecificMessages(i))||this.privServiceEvents&&this.serviceEvents.onEvent(new U(i.path.toLowerCase(),i.textBody))}return this.receiveMessage()}catch(e){return null}}))}sendSpeechContext(e,t){const i=this.speechContext.toJSON();if(t&&this.privRequestSession.onSpeechContext(),i)return e.send(new It(B.Text,"speech.context",this.privRequestSession.requestId,"application/json",i))}sendPrePayloadJSON(e,t=!0){return kt(this,void 0,void 0,(function*(){if(void 0!==this.sendPrePayloadJSONOverride)return this.sendPrePayloadJSONOverride(e);yield this.sendSpeechContext(e,t),yield this.sendWaveHeader(e)}))}sendWaveHeader(e){return kt(this,void 0,void 0,(function*(){const t=yield this.audioSource.format;return e.send(new It(B.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",t.header))}))}connectImpl(){return void 0!==this.privConnectionPromise?this.privConnectionPromise.then((e=>e.state()===E.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise),(()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()))):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch((()=>{})),void 0!==this.postConnectImplOverride?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(e,t,i){if(t.onSpeechContext(),!0!==Mt.telemetryDataEnabled){const e={context:{system:JSON.parse(i).context.system}};i=JSON.stringify(e)}if("true"===this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()){const e=JSON.parse(i);e.context.DisableReferenceChannel="True",e.context.MicSpec="1_0_0",i=JSON.stringify(e)}if(i)return e.send(new It(B.Text,"speech.config",t.requestId,"application/json",i))}fetchConnection(){return kt(this,void 0,void 0,(function*(){return void 0!==this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.then((e=>e.state()===E.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise),(()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()))):(this.privConnectionConfigurationPromise=this.configureConnection(),yield this.privConnectionConfigurationPromise)}))}sendAudio(e){return kt(this,void 0,void 0,(function*(){const t=yield this.audioSource.format;let i=Date.now();const r=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),n=t.avgBytesPerSec/1e3*parseInt(r,10),o=this.privRequestSession.recogNumber,s=()=>kt(this,void 0,void 0,(function*(){if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===o){const r=yield this.fetchConnection(),a=yield e.read();if(this.privRequestSession.isSpeechEnded)return;let c,u;if(!a||a.isEnd?(c=null,u=0):(c=a.buffer,this.privRequestSession.onAudioSent(c.byteLength),u=n>=this.privRequestSession.bytesSent?0:Math.max(0,i-Date.now())),0!==u&&(yield this.delay(u)),null!==c&&(i=Date.now()+1e3*c.byteLength/(2*t.avgBytesPerSec)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===o){if(r.send(new It(B.Binary,"audio",this.privRequestSession.requestId,null,c)).catch((()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch((()=>{}))})),!(null==a?void 0:a.isEnd))return s();this.privIsLiveAudio||this.privRequestSession.onSpeechEnded()}}}));return s()}))}retryableConnect(){return kt(this,void 0,void 0,(function*(){let e=!1;this.privAuthFetchEventId=R();const t=this.privRequestSession.sessionId;this.privConnectionId=void 0!==t?t:R(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let i=0,r="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId),n=yield t;yield this.privRequestSession.onAuthCompleted(!1);const o=this.privConnectionFactory.create(this.privRecognizerConfig,n,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(o.events),o.events.attach((e=>{this.connectionEvents.onEvent(e)}));const s=yield o.open();if(200===s.statusCode)return yield this.privRequestSession.onConnectionEstablishCompleted(s.statusCode),Promise.resolve(o);1006===s.statusCode&&(e=!0),i=s.statusCode,r=s.reason,this.privRequestSession.onRetryConnection()}return yield this.privRequestSession.onConnectionEstablishCompleted(i,r),Promise.reject(`Unable to contact server. StatusCode: ${i}, ${this.privRecognizerConfig.parameters.getProperty(a.SpeechServiceConnection_Endpoint)} Reason: ${r}`)}))}delay(e){return new Promise((t=>this.privSetTimeout(t,e)))}writeBufferToConsole(e){let t="Buffer Size: ";if(null===e)t+="null";else{const i=new Uint8Array(e);t+=`${e.byteLength}\r\n`;for(let r=0;r<e.byteLength;r++)t+=i[r].toString(16).padStart(2,"0")+" ",(r+1)%16==0&&(console.info(t),t="")}console.info(t)}sendFinalAudio(){return kt(this,void 0,void 0,(function*(){const e=yield this.fetchConnection();yield e.send(new It(B.Binary,"audio",this.privRequestSession.requestId,null,null))}))}configureConnection(){return kt(this,void 0,void 0,(function*(){const e=yield this.connectImpl();return void 0!==this.configConnectionOverride?this.configConnectionOverride(e):(yield this.sendSpeechServiceConfig(e,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),yield this.sendPrePayloadJSON(e,!1),e)}))}}Mt.telemetryDataEnabled=!0;class Ot{constructor(e){this.privSpeechHypothesis=JSON.parse(e)}static fromJSON(e){return new Ot(e)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}}!function(e){e[e.Success=0]="Success",e[e.SynthesisEnd=1]="SynthesisEnd",e[e.Error=2]="Error"}(At||(At={})),function(e){e[e.Success=0]="Success",e[e.NoMatch=1]="NoMatch",e[e.InitialSilenceTimeout=2]="InitialSilenceTimeout",e[e.BabbleTimeout=3]="BabbleTimeout",e[e.Error=4]="Error",e[e.EndOfDictation=5]="EndOfDictation",e[e.TooManyRequests=6]="TooManyRequests",e[e.BadRequest=7]="BadRequest",e[e.Forbidden=8]="Forbidden"}(Dt||(Dt={}));class Lt{constructor(e){this.privSimpleSpeechPhrase=JSON.parse(e),this.privSimpleSpeechPhrase.RecognitionStatus=Dt[this.privSimpleSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new Lt(e)}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}}class zt{static implTranslateRecognitionResult(e){let t=Ge.Canceled;switch(e){case Dt.Success:t=Ge.RecognizedSpeech;break;case Dt.NoMatch:case Dt.InitialSilenceTimeout:case Dt.BabbleTimeout:case Dt.EndOfDictation:t=Ge.NoMatch;break;case Dt.Error:case Dt.BadRequest:case Dt.Forbidden:default:t=Ge.Canceled}return t}static implTranslateCancelResult(e){let t=Qe.EndOfStream;switch(e){case Dt.Success:case Dt.EndOfDictation:case Dt.NoMatch:t=Qe.EndOfStream;break;case Dt.InitialSilenceTimeout:case Dt.BabbleTimeout:case Dt.Error:case Dt.BadRequest:case Dt.Forbidden:default:t=Qe.Error}return t}static implTranslateCancelErrorCode(e){let t=Xe.NoError;switch(e){case Dt.Error:t=Xe.ServiceError;break;case Dt.TooManyRequests:t=Xe.TooManyRequests;break;case Dt.BadRequest:t=Xe.BadRequestParameters;break;case Dt.Forbidden:t=Xe.Forbidden;break;default:t=Xe.NoError}return t}static implTranslateErrorDetails(e){let t="The speech service encountered an internal error and could not continue.";switch(e){case Xe.Forbidden:t="The recognizer is using a free subscription that ran out of quota.";break;case Xe.BadRequestParameters:t="Invalid parameter or unsupported audio format in the request.";break;case Xe.TooManyRequests:t="The number of parallel requests exceeded the number of allowed concurrent transcriptions."}return t}}class Nt{constructor(e){this.privDetailedSpeechPhrase=JSON.parse(e),this.privDetailedSpeechPhrase.RecognitionStatus=Dt[this.privDetailedSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new Nt(e)}getJsonWithCorrectedOffsets(e){if(this.privDetailedSpeechPhrase.NBest){let t;for(const e of this.privDetailedSpeechPhrase.NBest)if(e.Words&&e.Words[0]){t=e.Words[0].Offset;break}if(t&&t<e){const i=e-t;for(const e of this.privDetailedSpeechPhrase.NBest)if(e.Words)for(const t of e.Words)t.Offset+=i}}return JSON.stringify(this.privDetailedSpeechPhrase)}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}}var Bt=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class qt extends Mt{constructor(e,t,i,r,n){super(e,t,i,r,n),this.privSpeechRecognizer=n;const o={},s=r.parameters.getProperty(a.Speech_SegmentationSilenceTimeoutMs,void 0);if(void 0!==s){const e=parseInt(s,10);o.mode="INTERACTIVE",o.INTERACTIVE={segmentation:{mode:"Custom",segmentationSilenceTimeoutMs:e}}}if(void 0!==r.autoDetectSourceLanguages){const e=r.autoDetectSourceLanguages.split(",");this.privSpeechContext.setSection("languageId",{Priority:r.languageIdPriority,languages:e,mode:r.languageIdMode,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});const t=r.sourceLanguageModels;void 0!==t&&(o.customModels=t,o.onInterim={action:"None"},o.onSuccess={action:"None"})}(e=>{for(const t in e)return!1;return!0})(o)||this.privSpeechContext.setSection("phraseDetection",o)}processTypeSpecificMessages(t){return Bt(this,void 0,void 0,(function*(){let i;const r=new d;r.setProperty(a.SpeechServiceResponse_JsonResult,t.textBody);let n=!1;switch(t.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const o=Ot.fromJSON(t.textBody),s=o.Offset+this.privRequestSession.currentTurnAudioOffset;i=new Je(this.privRequestSession.requestId,Ge.RecognizingSpeech,o.Text,o.Duration,s,o.Language,o.LanguageDetectionConfidence,void 0,void 0,t.textBody,r),this.privRequestSession.onHypothesis(s);const a=new tt(i,o.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,a)}catch(e){}n=!0;break;case"speech.phrase":const u=Lt.fromJSON(t.textBody),h=zt.implTranslateRecognitionResult(u.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+u.Offset+u.Duration),Ge.Canceled===h){const e=zt.implTranslateCancelResult(u.RecognitionStatus),t=zt.implTranslateCancelErrorCode(u.RecognitionStatus);yield this.cancelRecognitionLocal(e,t,zt.implTranslateErrorDetails(t))}else{if(!this.privRequestSession.isSpeechEnded||h!==Ge.NoMatch||u.RecognitionStatus===Dt.InitialSilenceTimeout){if(this.privRecognizerConfig.parameters.getProperty(e)===c[c.Simple])i=new Je(this.privRequestSession.requestId,h,u.DisplayText,u.Duration,u.Offset+this.privRequestSession.currentTurnAudioOffset,u.Language,u.LanguageDetectionConfidence,void 0,void 0,t.textBody,r);else{const e=Nt.fromJSON(t.textBody),n=e.Offset+this.privRequestSession.currentTurnAudioOffset,o=e.getJsonWithCorrectedOffsets(n);i=new Je(this.privRequestSession.requestId,h,e.RecognitionStatus===Dt.Success?e.NBest[0].Display:void 0,e.Duration,n,e.Language,e.LanguageDetectionConfidence,void 0,void 0,o,r)}const n=new tt(i,i.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,n)}catch(e){}}if(this.privSuccessCallback){try{this.privSuccessCallback(i)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}n=!0}return n}))}cancelRecognition(e,i,r,n,o){const s=new d;if(s.setProperty(t,Xe[n]),this.privSpeechRecognizer.canceled){const t=new rt(r,o,n,void 0,e);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,t)}catch(e){}}if(this.privSuccessCallback){const e=new Je(i,Ge.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,o,void 0,s);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch(e){}}}}class Ft{constructor(e,t){this.privHeaderName=e,this.privToken=t}get headerName(){return this.privHeaderName}get token(){return this.privToken}}class jt{constructor(e){if(!e)throw new v("subscriptionKey");this.privAuthInfo=new Ft(D.AuthKey,e)}fetch(e){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(e){return Promise.resolve(this.privAuthInfo)}}class Ht{constructor(e,t){if(!e)throw new v("fetchCallback");if(!t)throw new v("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=t}fetch(e){return this.privFetchCallback(e).then((e=>new Ft(D.Authorization,void 0===e?void 0:Ht.privTokenPrefix+e)))}fetchOnExpiry(e){return this.privFetchOnExpiryCallback(e).then((e=>new Ft(D.Authorization,void 0===e?void 0:Ht.privTokenPrefix+e)))}}Ht.privTokenPrefix="bearer ";class Wt{constructor(e,t){this.privActualSampleRate=e,this.privDesiredSampleRate=t}encode(e){const t=this.downSampleAudioFrame(e,this.privActualSampleRate,this.privDesiredSampleRate);if(!t)return null;const i=2*t.length,r=new ArrayBuffer(i),n=new DataView(r);return this.floatTo16BitPCM(n,0,t),r}setString(e,t,i){for(let r=0;r<i.length;r++)e.setUint8(t+r,i.charCodeAt(r))}floatTo16BitPCM(e,t,i){for(let r=0;r<i.length;r++,t+=2){const n=Math.max(-1,Math.min(1,i[r]));e.setInt16(t,n<0?32768*n:32767*n,!0)}}downSampleAudioFrame(e,t,i){if(!e)return null;if(i===t||i>t)return e;const r=t/i,n=Math.round(e.length/r),o=new Float32Array(n);let s=0,a=0;for(;a<n;){const t=Math.round((a+1)*r);let i=0,n=0;for(;s<t&&s<e.length;)i+=e[s++],n++;o[a++]=i/n}return o}}class Kt{constructor(e){this.privStopInputOnRelease=e}record(e,t,i){const r=new Wt(e.sampleRate,16e3),n=e.createMediaStreamSource(t),o=()=>{const o=(()=>{let t=0;try{return e.createScriptProcessor(t,1,1)}catch(i){t=2048;let r=e.sampleRate;for(;t<16384&&r>=32e3;)t<<=1,r>>=1;return e.createScriptProcessor(t,1,1)}})();o.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0);if(i&&!i.isClosed){const e=r.encode(t);e&&i.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}},n.connect(o),o.connect(e.destination),this.privMediaResources={scriptProcessorNode:o,source:n,stream:t}};if(e.audioWorklet){if(!this.privSpeechProcessorScript){const e=new Blob(["class SP extends AudioWorkletProcessor {\n                    constructor(options) {\n                      super(options);\n                    }\n                    process(inputs, outputs) {\n                      const input = inputs[0];\n                      const output = [];\n                      for (let channel = 0; channel < input.length; channel += 1) {\n                        output[channel] = input[channel];\n                      }\n                      this.port.postMessage(output[0]);\n                      return true;\n                    }\n                  }\n                  registerProcessor('speech-processor', SP);"],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(e)}e.audioWorklet.addModule(this.privSpeechProcessorScript).then((()=>{const o=new AudioWorkletNode(e,"speech-processor");o.port.onmessage=e=>{const t=e.data;if(i&&!i.isClosed){const e=r.encode(t);e&&i.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}},n.connect(o),o.connect(e.destination),this.privMediaResources={scriptProcessorNode:o,source:n,stream:t}})).catch((()=>{o()}))}else try{o()}catch(e){throw new Error(`Unable to start audio worklet node for PCMRecorder: ${e}`)}}releaseMediaResources(e){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(e.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach((e=>e.stop())),this.privMediaResources.source=null))}setWorkletUrl(e){this.privSpeechProcessorScript=e}}var Ut,Vt=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class $t{constructor(e){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=e||R(),this.privReaderQueue=new F}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(e){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(e)}catch(e){}}read(){if(this.privIsReadEnded)throw new x("Stream read has already finished");return this.privReaderQueue.dequeue().then((e=>Vt(this,void 0,void 0,(function*(){return(void 0===e||e.isEnd)&&(yield this.privReaderQueue.dispose("End of stream reached")),e}))))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new F)}throwIfClosed(){if(this.privIsWriteEnded)throw new x("Stream closed")}}class Jt extends $t{constructor(e,t){super(t),this.privTargetChunkSize=e,this.privNextBufferReadyBytes=0}writeStreamChunk(e){if(e.isEnd||0===this.privNextBufferReadyBytes&&e.buffer.byteLength===this.privTargetChunkSize)return void super.writeStreamChunk(e);let t=0;for(;t<e.buffer.byteLength;){void 0===this.privNextBufferToWrite&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=e.timeReceived);const i=Math.min(e.buffer.byteLength-t,this.privTargetChunkSize-this.privNextBufferReadyBytes),r=new Uint8Array(this.privNextBufferToWrite),n=new Uint8Array(e.buffer.slice(t,i+t));r.set(n,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=i,t+=i,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){0===this.privNextBufferReadyBytes||this.isClosed||super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}}!function(e){e[e.PCM=1]="PCM",e[e.MuLaw=2]="MuLaw",e[e.Siren=3]="Siren",e[e.MP3=4]="MP3",e[e.SILKSkype=5]="SILKSkype",e[e.OGG_OPUS=6]="OGG_OPUS",e[e.WEBM_OPUS=7]="WEBM_OPUS",e[e.ALaw=8]="ALaw",e[e.FLAC=9]="FLAC",e[e.OPUS=10]="OPUS"}(Ut||(Ut={}));class Gt{static getDefaultInputFormat(){return Xt.getDefaultInputFormat()}static getWaveFormat(e,t,i,r){return new Xt(e,t,i,r)}static getWaveFormatPCM(e,t,i){return new Xt(e,t,i)}}class Xt extends Gt{constructor(e=16e3,t=16,i=1,r=Ut.PCM){super();let n=!0;switch(r){case Ut.PCM:this.formatTag=1;break;case Ut.ALaw:this.formatTag=6;break;case Ut.MuLaw:this.formatTag=7;break;default:n=!1}if(this.bitsPerSample=t,this.samplesPerSec=e,this.channels=i,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),n){this.privHeader=new ArrayBuffer(44);const e=new DataView(this.privHeader);this.setString(e,0,"RIFF"),e.setUint32(4,0,!0),this.setString(e,8,"WAVEfmt "),e.setUint32(16,16,!0),e.setUint16(20,this.formatTag,!0),e.setUint16(22,this.channels,!0),e.setUint32(24,this.samplesPerSec,!0),e.setUint32(28,this.avgBytesPerSec,!0),e.setUint16(32,this.channels*(this.bitsPerSample/8),!0),e.setUint16(34,this.bitsPerSample,!0),this.setString(e,36,"data"),e.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new Xt}static getAudioContext(e){const t=window.AudioContext||window.webkitAudioContext||!1;if(t)return void 0!==e&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new t({sampleRate:e}):new t;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(e,t,i){for(let r=0;r<i.length;r++)e.setUint8(t+r,i.charCodeAt(r))}}var Qt=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class Yt{constructor(e,t,i,r){this.privRecorder=e,this.deviceId=t,this.privStreams={},this.privOutputChunkSize=Yt.AUDIOFORMAT.avgBytesPerSec/10,this.privId=i||R(),this.privEvents=new k,this.privMediaStream=r||null,this.privIsClosing=!1}get format(){return Promise.resolve(Yt.AUDIOFORMAT)}get blob(){return Promise.reject("Not implemented for Mic input")}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new M;try{this.createAudioContext()}catch(e){if(e instanceof Error){const t=e;this.privInitializeDeferral.reject(t.name+": "+t.message)}else this.privInitializeDeferral.reject(e);return this.privInitializeDeferral.promise}const e=window.navigator;let t=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;if(e.mediaDevices&&(t=(t,i,r)=>{e.mediaDevices.getUserMedia(t).then(i).catch(r)}),t){const e=()=>{this.onEvent(new ft(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new lt(this.privId)),this.privInitializeDeferral.resolve()):t({audio:!this.deviceId||{deviceId:this.deviceId},video:!1},(e=>{this.privMediaStream=e,this.onEvent(new lt(this.privId)),this.privInitializeDeferral.resolve()}),(e=>{const t=`Error occurred during microphone initialization: ${e}`;this.privInitializeDeferral.reject(t),this.onEvent(new xt(this.privId,t))}))};"suspended"===this.privContext.state?this.privContext.resume().then(e).catch((e=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${e}`)})):e()}else{const e="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(e),this.onEvent(new xt(e,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(e){return this.onEvent(new mt(this.privId,e)),this.listen(e).then((t=>(this.onEvent(new _t(this.privId,e)),{detach:()=>Qt(this,void 0,void 0,(function*(){return t.readEnded(),delete this.privStreams[e],this.onEvent(new yt(this.privId,e)),this.turnOff()})),id:()=>e,read:()=>t.read()})))}detach(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new yt(this.privId,e)))}turnOff(){return Qt(this,void 0,void 0,(function*(){for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&t.close()}this.onEvent(new vt(this.privId)),this.privInitializeDeferral&&(yield this.privInitializeDeferral,this.privInitializeDeferral=null),yield this.destroyAudioContext()}))}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then((e=>({bitspersample:Yt.AUDIOFORMAT.bitsPerSample,channelcount:Yt.AUDIOFORMAT.channels,connectivity:Me.Unknown,manufacturer:"Speech SDK",model:e,samplerate:Yt.AUDIOFORMAT.samplesPerSec,type:Oe.Microphones})))}setProperty(e,t){if("MICROPHONE-WorkletSourceUrl"!==e)throw new Error("Property '"+e+"' is not supported on Microphone.");this.privRecorder.setWorkletUrl(t)}getMicrophoneLabel(){const e="microphone";if(void 0!==this.privMicrophoneLabel)return Promise.resolve(this.privMicrophoneLabel);if(void 0===this.privMediaStream||!this.privMediaStream.active)return Promise.resolve(e);this.privMicrophoneLabel=e;const t=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(void 0===t)return Promise.resolve(this.privMicrophoneLabel);const i=new M;return navigator.mediaDevices.enumerateDevices().then((e=>{for(const i of e)if(i.deviceId===t){this.privMicrophoneLabel=i.label;break}i.resolve(this.privMicrophoneLabel)}),(()=>i.resolve(this.privMicrophoneLabel))),i.promise}listen(e){return Qt(this,void 0,void 0,(function*(){yield this.turnOn();const t=new Jt(this.privOutputChunkSize,e);this.privStreams[e]=t;try{this.privRecorder.record(this.privContext,this.privMediaStream,t)}catch(t){throw this.onEvent(new St(this.privId,e,t)),t}return t}))}onEvent(e){this.privEvents.onEvent(e),j.instance.onEvent(e)}createAudioContext(){this.privContext||(this.privContext=Xt.getAudioContext(Yt.AUDIOFORMAT.samplesPerSec))}destroyAudioContext(){return Qt(this,void 0,void 0,(function*(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let e=!1;"close"in this.privContext&&(e=!0),e?this.privIsClosing||(this.privIsClosing=!0,yield this.privContext.close(),this.privContext=null,this.privIsClosing=!1):null!==this.privContext&&"running"===this.privContext.state&&(yield this.privContext.suspend())}))}}Yt.AUDIOFORMAT=Gt.getDefaultInputFormat();var Zt=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class ei{constructor(e,t,i){this.privStreams={},this.privHeaderEnd=44,this.privId=i||R(),this.privEvents=new k,this.privSource=e,"undefined"!=typeof window&&"undefined"!=typeof Blob&&this.privSource instanceof Blob?this.privFilename=e.name:this.privFilename=t||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}get blob(){return Promise.resolve(this.privSource)}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const e=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new xt(e,"")),Promise.reject(e)}this.onEvent(new ft(this.privId)),this.onEvent(new lt(this.privId))}id(){return this.privId}attach(e){return Zt(this,void 0,void 0,(function*(){this.onEvent(new mt(this.privId,e));const t=yield this.upload(e);return this.onEvent(new _t(this.privId,e)),Promise.resolve({detach:()=>Zt(this,void 0,void 0,(function*(){t.readEnded(),delete this.privStreams[e],this.onEvent(new yt(this.privId,e)),yield this.turnOff()})),id:()=>e,read:()=>t.read()})}))}detach(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new yt(this.privId,e)))}turnOff(){for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&!t.isClosed&&t.close()}return this.onEvent(new vt(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then((e=>Promise.resolve({bitspersample:e.bitsPerSample,channelcount:e.channels,connectivity:Me.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:e.samplesPerSec,type:Oe.File})))}readHeader(){const e=this.privSource.slice(0,512),t=new M,i=e=>{const i=new DataView(e),r=e=>String.fromCharCode(i.getUint8(e),i.getUint8(e+1),i.getUint8(e+2),i.getUint8(e+3));if("RIFF"!==r(0))return void t.reject("Invalid WAV header in file, RIFF was not found");if("WAVE"!==r(8)||"fmt "!==r(12))return void t.reject("Invalid WAV header in file, WAVEfmt was not found");const n=i.getInt32(16,!0),o=i.getUint16(22,!0),s=i.getUint32(24,!0),a=i.getUint16(34,!0);let c=36+Math.max(n-16,0);for(;"data"!==r(c);c+=2)if(c>504)return void t.reject("Invalid WAV header in file, data block was not found");this.privHeaderEnd=c+8,t.resolve(Gt.getWaveFormatPCM(s,a,o))};if("undefined"!=typeof window&&"undefined"!=typeof Blob&&e instanceof Blob){const t=new FileReader;t.onload=e=>{const t=e.target.result;i(t)},t.readAsArrayBuffer(e)}else{const t=e;i(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}return t.promise}upload(e){return Zt(this,void 0,void 0,(function*(){const t=t=>{const i=`Error occurred while processing '${this.privFilename}'. ${t}`;throw this.onEvent(new St(this.privId,e,i)),new Error(i)};try{yield this.turnOn();const i=yield this.privAudioFormatPromise,r=new Jt(i.avgBytesPerSec/10,e);this.privStreams[e]=r;const n=this.privSource.slice(this.privHeaderEnd),o=e=>{r.isClosed||(r.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()}),r.close())};if("undefined"!=typeof window&&"undefined"!=typeof Blob&&n instanceof Blob){const e=new FileReader;e.onerror=e=>t(e.toString()),e.onload=e=>{const t=e.target.result;o(t)},e.readAsArrayBuffer(n)}else{const e=n;o(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}return r}catch(e){t(e)}}))}onEvent(e){this.privEvents.onEvent(e),j.instance.onEvent(e)}}var ti=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class ii{constructor(){}static createPushStream(e){return ri.create(e)}static createPullStream(e,t){return oi.create(e,t)}}class ri extends ii{static create(e){return new ni(e)}}class ni extends ri{constructor(e){super(),this.privFormat=void 0===e?Xt.getDefaultInputFormat():e,this.privEvents=new k,this.privId=R(),this.privStream=new Jt(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(e){this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}get blob(){return this.attach("id").then((e=>{const t=[];let i=Buffer.from("");const r=()=>e.read().then((e=>!e||e.isEnd?"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof Blob?Promise.resolve(new Blob(t)):Promise.resolve(Buffer.from(i)):("undefined"!=typeof Blob?t.push(e.buffer):i=Buffer.concat([i,this.toBuffer(e.buffer)]),r())));return r()}))}turnOn(){this.onEvent(new ft(this.privId)),this.onEvent(new lt(this.privId))}attach(e){return ti(this,void 0,void 0,(function*(){this.onEvent(new mt(this.privId,e)),yield this.turnOn();const t=this.privStream;return this.onEvent(new _t(this.privId,e)),{detach:()=>ti(this,void 0,void 0,(function*(){return this.onEvent(new yt(this.privId,e)),this.turnOff()})),id:()=>e,read:()=>t.read()}}))}detach(e){this.onEvent(new yt(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:Me.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:Oe.Stream})}onEvent(e){this.privEvents.onEvent(e),j.instance.onEvent(e)}toBuffer(e){const t=Buffer.alloc(e.byteLength),i=new Uint8Array(e);for(let e=0;e<t.length;++e)t[e]=i[e];return t}}class oi extends ii{constructor(){super()}static create(e,t){return new si(e,t)}}class si extends oi{constructor(e,t){super(),this.privFormat=void 0===t?Gt.getDefaultInputFormat():t,this.privEvents=new k,this.privId=R(),this.privCallback=e,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}get blob(){return Promise.reject("Not implemented")}turnOn(){this.onEvent(new ft(this.privId)),this.onEvent(new lt(this.privId))}attach(e){return ti(this,void 0,void 0,(function*(){return this.onEvent(new mt(this.privId,e)),yield this.turnOn(),this.onEvent(new _t(this.privId,e)),{detach:()=>(this.privCallback.close(),this.onEvent(new yt(this.privId,e)),this.turnOff()),id:()=>e,read:()=>{let e,t=0;for(;t<this.privBufferSize;){const i=new ArrayBuffer(this.privBufferSize-t),r=this.privCallback.read(i);if(void 0===e)e=i;else{new Int8Array(e).set(new Int8Array(i),t)}if(0===r)break;t+=r}return Promise.resolve({buffer:e.slice(0,t),isEnd:this.privIsClosed||0===t,timeReceived:Date.now()})}}}))}detach(e){this.onEvent(new yt(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:Me.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:Oe.Stream})}onEvent(e){this.privEvents.onEvent(e),j.instance.onEvent(e)}}class ai{constructor(e){this.privResult=e}get result(){return this.privResult}}class ci extends class{constructor(e,t,i,r){this.privResultId=e,this.privReason=t,this.privErrorDetails=i,this.privProperties=r}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}}{constructor(e,t,i,r,n,o){super(e,t,r,n),this.privAudioData=i,this.privAudioDuration=o}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}}class ui{constructor(e,t,i,r,n,o){this.privAudioOffset=e,this.privDuration=t,this.privText=i,this.privWordLength=r,this.privTextOffset=n,this.privBoundaryType=o}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}}class hi{constructor(e,t){this.privAudioOffset=e,this.privText=t}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}}class pi{constructor(e,t,i){this.privAudioOffset=e,this.privVisemeId=t,this.privAnimation=i}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}}class di extends Xt{constructor(e,t,i,r,n,o,s,a,c){super(i,o,t,e),this.formatTag=e,this.avgBytesPerSec=r,this.blockAlign=n,this.priAudioFormatString=s,this.priRequestAudioFormatString=a,this.priHasHeader=c}static fromSpeechSynthesisOutputFormat(e){return void 0===e?di.getDefaultOutputFormat():di.fromSpeechSynthesisOutputFormatString(di.SpeechSynthesisOutputFormatToString[e])}static fromSpeechSynthesisOutputFormatString(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new di(Ut.MuLaw,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new di(Ut.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new di(Ut.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new di(Ut.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new di(Ut.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new di(Ut.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new di(Ut.MP3,1,24e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new di(Ut.MP3,1,24e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new di(Ut.MP3,1,24e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new di(Ut.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new di(Ut.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new di(Ut.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new di(Ut.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new di(Ut.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new di(Ut.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new di(Ut.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new di(Ut.OGG_OPUS,1,16e3,8192,2,16,e,e,!1);case"ogg-24khz-16bit-mono-opus":return new di(Ut.OGG_OPUS,1,24e3,8192,2,16,e,e,!1);case"raw-48khz-16bit-mono-pcm":return new di(Ut.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new di(Ut.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new di(Ut.MP3,1,48e3,12288,2,16,e,e,!1);case"audio-48khz-192kbitrate-mono-mp3":return new di(Ut.MP3,1,48e3,24576,2,16,e,e,!1);case"ogg-48khz-16bit-mono-opus":return new di(Ut.OGG_OPUS,1,48e3,12e3,2,16,e,e,!1);case"webm-16khz-16bit-mono-opus":return new di(Ut.WEBM_OPUS,1,16e3,4e3,2,16,e,e,!1);case"webm-24khz-16bit-mono-opus":return new di(Ut.WEBM_OPUS,1,24e3,6e3,2,16,e,e,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new di(Ut.WEBM_OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new di(Ut.OPUS,1,16e3,4e3,2,16,e,e,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new di(Ut.OPUS,1,24e3,6e3,2,16,e,e,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new di(Ut.OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-24khz-16bit-mono-flac":return new di(Ut.FLAC,1,24e3,24e3,2,16,e,e,!1);case"audio-48khz-16bit-mono-flac":return new di(Ut.FLAC,1,48e3,3e4,2,16,e,e,!1);case"raw-24khz-16bit-mono-truesilk":return new di(Ut.SILKSkype,1,24e3,48e3,2,16,e,e,!1);case"raw-8khz-8bit-mono-alaw":return new di(Ut.ALaw,1,8e3,8e3,1,8,e,e,!1);case"riff-8khz-8bit-mono-alaw":return new di(Ut.ALaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new di(Ut.PCM,1,22050,44100,2,16,e,e,!1);case"riff-22050hz-16bit-mono-pcm":return new di(Ut.PCM,1,22050,44100,2,16,e,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new di(Ut.PCM,1,44100,88200,2,16,e,e,!1);case"riff-44100hz-16bit-mono-pcm":return new di(Ut.PCM,1,44100,88200,2,16,e,"raw-44100hz-16bit-mono-pcm",!0);default:return new di(Ut.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return di.fromSpeechSynthesisOutputFormatString("undefined"!=typeof window?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(e){if(this.priHasHeader){const t=new DataView(this.privHeader);t.setUint32(4,e+this.privHeader.byteLength-8,!0),t.setUint32(40,e,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}}di.SpeechSynthesisOutputFormatToString={[h.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[h.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[h.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[h.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[h.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[h.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[h.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[h.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[h.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[h.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[h.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[h.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[h.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[h.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[h.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[h.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[h.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[h.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[h.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[h.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[h.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[h.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[h.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[h.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[h.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[h.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[h.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[h.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[h.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[h.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[h.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[h.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[h.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[h.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[h.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[h.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[h.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm"};var fi,li=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class vi{constructor(){}static createPullStream(){return xi.create()}}class xi extends vi{static create(){return new gi}}class gi extends xi{constructor(){super(),this.privId=R(),this.privStream=new $t}set format(e){null==e&&(this.privFormat=di.getDefaultOutputFormat()),this.privFormat=e}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}read(e){return li(this,void 0,void 0,(function*(){const t=new Int8Array(e);let i=0;if(void 0!==this.privLastChunkView){if(this.privLastChunkView.length>e.byteLength)return t.set(this.privLastChunkView.slice(0,e.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(e.byteLength),Promise.resolve(e.byteLength);t.set(this.privLastChunkView),i=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;i<e.byteLength&&!this.privStream.isReadEnded;){const r=yield this.privStream.read();if(void 0===r||r.isEnd)this.privStream.readEnded();else{let n;r.buffer.byteLength>e.byteLength-i?(n=r.buffer.slice(0,e.byteLength-i),this.privLastChunkView=new Int8Array(r.buffer.slice(e.byteLength-i))):n=r.buffer,t.set(new Int8Array(n),i),i+=n.byteLength}}return i}))}write(e){s.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}class mi extends vi{constructor(){super()}static create(e){return new _i(e)}}class _i extends mi{constructor(e){super(),this.privId=R(),this.privCallback=e}set format(e){}write(e){this.privCallback.write&&this.privCallback.write(e)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}!function(e){e.WordBoundary="WordBoundary",e.Bookmark="Bookmark",e.Viseme="Viseme",e.SentenceBoundary="SentenceBoundary",e.SessionEnd="SessionEnd"}(fi||(fi={}));class yi{constructor(e){this.privSynthesisAudioMetadata=JSON.parse(e)}static fromJSON(e){return new yi(e)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}class Si extends H{constructor(e,t,i=N.Info){super(e,i),this.privRequestId=t}get requestId(){return this.privRequestId}}class bi extends Si{constructor(e,t,i){super("SynthesisTriggeredEvent",e),this.privSessionAudioDestinationId=t,this.privTurnAudioDestinationId=i}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}class wi extends Si{constructor(e,t){super("ConnectingToSynthesisServiceEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}class Ci extends Si{constructor(e,t){super("SynthesisStartedEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}var Ti=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class Ri{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=R(),this.privTurnDeferral=new M,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(e){this.privStreamId=e}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(e){this.privAudioOutputFormat=e}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}getAllReceivedAudio(){return Ti(this,void 0,void 0,(function*(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(yield this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}))}getAllReceivedAudioWithHeader(){return Ti(this,void 0,void 0,(function*(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const e=yield this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=Ii.addHeader(e,this.audioOutputFormat),this.privReceivedAudioWithHeader}return this.getAllReceivedAudio()}))}startNewSynthesis(e,t,i,r){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=e,this.privRawText=t,this.privIsSSML=i,this.privAudioOutputStream=new gi,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",void 0!==r&&(this.privTurnAudioDestination=r,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new bi(this.requestId,void 0,void 0===r?void 0:r.id()))}onPreConnectionStart(e){this.privAuthFetchEventId=e,this.onEvent(new wi(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(e){e&&this.onComplete()}onConnectionEstablishCompleted(e){if(200===e)return this.onEvent(new Ci(this.requestId,this.privAuthFetchEventId)),void(this.privBytesReceived=0);403===e&&this.onComplete()}onServiceResponseMessage(e){const t=JSON.parse(e);this.streamId=t.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch((()=>{}))),this.privInTurn=!0,this.privTurnDeferral=new M}onAudioChunkReceived(e){this.isSynthesizing&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength,void 0!==this.privTurnAudioDestination&&this.privTurnAudioDestination.write(e))}onTextBoundaryEvent(e){this.updateTextOffset(e.Data.text.Text,e.Type)}onVisemeMetadataReceived(e){void 0!==e.Data.AnimationChunk&&(this.privPartialVisemeAnimation+=e.Data.AnimationChunk)}onSessionEnd(e){this.privAudioDuration=e.Data.Offset}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const e=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",e}onEvent(e){j.instance.onEvent(e)}static isXmlTag(e){return e.length>=2&&"<"===e[0]&&">"===e[e.length-1]}updateTextOffset(e,t){t===fi.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(e,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+e.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!Ri.isXmlTag(e)&&this.updateTextOffset(e,t))):(this.privSentenceOffset=this.privRawText.indexOf(e,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+e.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!Ri.isXmlTag(e)&&this.updateTextOffset(e,t)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,void 0!==this.privTurnAudioDestination&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}readAllAudioFromStream(){return Ti(this,void 0,void 0,(function*(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{yield this.privAudioOutputStream.read(this.privReceivedAudio)}catch(e){this.privReceivedAudio=new ArrayBuffer(0)}}}))}withinXmlTag(e){return this.privRawText.indexOf("<",e+1)>this.privRawText.indexOf(">",e+1)}}class Ei{constructor(e){this.privContext={},this.privSpeechSynthesizer=e}setSection(e,t){this.privContext[e]=t}set audioOutputFormat(e){this.privAudioOutputFormat=e}toJSON(){const e=this.buildSynthesisContext();return this.setSection("synthesis",e),JSON.stringify(this.privContext)}buildSynthesisContext(){return{audio:{metadataOptions:{bookmarkEnabled:!!this.privSpeechSynthesizer.bookmarkReached,punctuationBoundaryEnabled:this.privSpeechSynthesizer.properties.getProperty(a.SpeechServiceResponse_RequestPunctuationBoundary,!!this.privSpeechSynthesizer.wordBoundary),sentenceBoundaryEnabled:this.privSpeechSynthesizer.properties.getProperty(a.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!this.privSpeechSynthesizer.visemeReceived,wordBoundaryEnabled:this.privSpeechSynthesizer.properties.getProperty(a.SpeechServiceResponse_RequestWordBoundary,!!this.privSpeechSynthesizer.wordBoundary)},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:this.privSpeechSynthesizer.autoDetectSourceLanguage}}}}var Pi=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class Ii{constructor(e,t,i,r,n){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!e)throw new v("authentication");if(!t)throw new v("connectionFactory");if(!i)throw new v("synthesizerConfig");this.privAuthentication=e,this.privConnectionFactory=t,this.privSynthesizerConfig=i,this.privIsDisposed=!1,this.privSpeechSynthesizer=r,this.privSessionAudioDestination=n,this.privSynthesisTurn=new Ri,this.privConnectionEvents=new k,this.privServiceEvents=new k,this.privSynthesisContext=new Ei(this.privSpeechSynthesizer),this.privAgentConfig=new Et,this.connectionEvents.attach((e=>{if("ConnectionClosedEvent"===e.name){const t=e;1e3!==t.statusCode&&this.cancelSynthesisLocal(Qe.Error,1007===t.statusCode?Xe.BadRequestParameters:Xe.ConnectionFailure,`${t.reason} websocket error code: ${t.statusCode}`)}}))}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(e){this.privAudioOutputFormat=e,this.privSynthesisTurn.audioOutputFormat=e,void 0!==this.privSessionAudioDestination&&(this.privSessionAudioDestination.format=e),void 0!==this.synthesisContext&&(this.synthesisContext.audioOutputFormat=e)}static addHeader(e,t){if(!t.hasHeader)return e;t.updateHeader(e.byteLength);const i=new Uint8Array(e.byteLength+t.header.byteLength);return i.set(new Uint8Array(t.header),0),i.set(new Uint8Array(e),t.header.byteLength),i.buffer}isDisposed(){return this.privIsDisposed}dispose(e){return Pi(this,void 0,void 0,(function*(){if(this.privIsDisposed=!0,void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.close(),void 0!==this.privConnectionConfigurationPromise){const t=yield this.privConnectionConfigurationPromise;yield t.dispose(e)}}))}connect(){return Pi(this,void 0,void 0,(function*(){yield this.connectImpl()}))}sendNetworkMessage(e,t){return Pi(this,void 0,void 0,(function*(){const i="string"==typeof t?B.Text:B.Binary,r="string"==typeof t?"application/json":"";return(yield this.fetchConnection()).send(new It(i,e,this.privSynthesisTurn.requestId,r,t))}))}Speak(e,t,i,r,n,o){return Pi(this,void 0,void 0,(function*(){let s;if(s=t?e:this.privSpeechSynthesizer.buildSsml(e),void 0!==this.speakOverride)return this.speakOverride(s,i,r,n);this.privSuccessCallback=r,this.privErrorCallback=n,this.privSynthesisTurn.startNewSynthesis(i,e,t,o);try{yield this.connectImpl();const e=yield this.fetchConnection();yield this.sendSynthesisContext(e),yield this.sendSsmlMessage(e,s,i);const t=new ai(new ci(i,Ge.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,t),this.receiveMessage()}catch(e){return this.cancelSynthesisLocal(Qe.Error,Xe.ConnectionFailure,e),Promise.reject(e)}}))}cancelSynthesis(e,i,r,n){const o=new d;o.setProperty(t,Xe[r]);const s=new ci(e,Ge.Canceled,void 0,n,o);if(this.privSpeechSynthesizer.SynthesisCanceled){const e=new ai(s);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,e)}catch(e){}}if(this.privSuccessCallback)try{this.privSuccessCallback(s)}catch(e){}}cancelSynthesisLocal(e,t,i){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,e,t,i))}processTypeSpecificMessages(e){return!0}receiveMessage(){return Pi(this,void 0,void 0,(function*(){try{const e=yield this.fetchConnection(),t=yield e.read();if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!t)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const i=It.fromConnectionMessage(t);if(i.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(i.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse();break;case"response":this.privSynthesisTurn.onServiceResponseMessage(i.textBody);break;case"audio":if(this.privSynthesisTurn.streamId.toLowerCase()===i.streamId.toLowerCase()&&i.binaryBody){if(this.privSynthesisTurn.onAudioChunkReceived(i.binaryBody),this.privSpeechSynthesizer.synthesizing)try{const e=Ii.addHeader(i.binaryBody,this.privSynthesisTurn.audioOutputFormat),t=new ai(new ci(this.privSynthesisTurn.requestId,Ge.SynthesizingAudio,e));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,t)}catch(e){}void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.write(i.binaryBody)}break;case"audio.metadata":const e=yi.fromJSON(i.textBody).Metadata;for(const t of e)switch(t.Type){case fi.WordBoundary:case fi.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(t);const e=new ui(t.Data.Offset,t.Data.Duration,t.Data.text.Text,t.Data.text.Length,t.Type===fi.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,t.Data.text.BoundaryType);if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,e)}catch(e){}break;case fi.Bookmark:const i=new hi(t.Data.Offset,t.Data.Bookmark);if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,i)}catch(e){}break;case fi.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(t),t.Data.IsLastAnimation){const e=new pi(t.Data.Offset,t.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,e)}catch(e){}}break;case fi.SessionEnd:this.privSynthesisTurn.onSessionEnd(t)}break;case"turn.end":let t;this.privSynthesisTurn.onServiceTurnEndResponse();try{const e=yield this.privSynthesisTurn.getAllReceivedAudioWithHeader();t=new ci(this.privSynthesisTurn.requestId,Ge.SynthesizingAudioCompleted,e,void 0,void 0,this.privSynthesisTurn.audioDuration),this.privSuccessCallback&&this.privSuccessCallback(t)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new ai(t))}catch(e){}break;default:this.processTypeSpecificMessages(i)||this.privServiceEvents&&this.serviceEvents.onEvent(new U(i.path.toLowerCase(),i.textBody))}return this.receiveMessage()}catch(e){}}))}sendSynthesisContext(e){const t=this.synthesisContext.toJSON();if(t)return e.send(new It(B.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",t))}connectImpl(e=!1){if(null!=this.privConnectionPromise)return this.privConnectionPromise.then((e=>e.state()===E.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise),(()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl())));this.privAuthFetchEventId=R(),this.privConnectionId=R(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=t.then((t=>Pi(this,void 0,void 0,(function*(){this.privSynthesisTurn.onAuthCompleted(!1);const i=this.privConnectionFactory.create(this.privSynthesizerConfig,t,this.privConnectionId);i.events.attach((e=>{this.connectionEvents.onEvent(e)}));const r=yield i.open();return 200===r.statusCode?(this.privSynthesisTurn.onConnectionEstablishCompleted(r.statusCode),Promise.resolve(i)):403!==r.statusCode||e?(this.privSynthesisTurn.onConnectionEstablishCompleted(r.statusCode),Promise.reject(`Unable to contact server. StatusCode: ${r.statusCode}, ${this.privSynthesizerConfig.parameters.getProperty(a.SpeechServiceConnection_Endpoint)} Reason: ${r.reason}`)):this.connectImpl(!0)}))),(e=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(e)})),this.privConnectionPromise.catch((()=>{})),this.privConnectionPromise}sendSpeechServiceConfig(e,t){if(t)return e.send(new It(B.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",t))}sendSsmlMessage(e,t,i){return e.send(new It(B.Text,"ssml",i,"application/ssml+xml",t))}fetchConnection(){return Pi(this,void 0,void 0,(function*(){return void 0!==this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.then((e=>e.state()===E.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise),(()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()))):(this.privConnectionConfigurationPromise=this.configureConnection(),yield this.privConnectionConfigurationPromise)}))}configureConnection(){return Pi(this,void 0,void 0,(function*(){const e=yield this.connectImpl();return void 0!==this.configConnectionOverride?this.configConnectionOverride(e):(yield this.sendSpeechServiceConfig(e,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),e)}))}}Ii.telemetryDataEnabled=!0;var Ai=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const Di={[Ut.PCM]:"audio/wav",[Ut.MuLaw]:"audio/x-wav",[Ut.MP3]:"audio/mpeg",[Ut.OGG_OPUS]:"audio/ogg",[Ut.WEBM_OPUS]:"audio/webm; codecs=opus",[Ut.ALaw]:"audio/x-wav",[Ut.FLAC]:"audio/flac"};class ki{constructor(e){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=e||R(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(e,t,i){void 0!==this.privAudioBuffer?(this.privAudioBuffer.push(e),this.updateSourceBuffer().then((()=>{t&&t()}),(e=>{i&&i(e)}))):void 0!==this.privAudioOutputStream&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength)}close(e,t){if(this.privIsClosed=!0,void 0!==this.privSourceBuffer)this.handleSourceBufferUpdateEnd().then((()=>{e&&e()}),(e=>{t&&t(e)}));else if(void 0!==this.privAudioOutputStream&&"undefined"!=typeof window)if(this.privFormat.formatTag!==Ut.PCM&&this.privFormat.formatTag!==Ut.MuLaw&&this.privFormat.formatTag!==Ut.ALaw||!1!==this.privFormat.hasHeader){let i=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(i).then((()=>{i=Ii.addHeader(i,this.privFormat);const r=new Blob([i],{type:Di[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(r),this.notifyPlayback().then((()=>{e&&e()}),(e=>{t&&t(e)}))}),(e=>{t&&t(e)}))}else console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else this.onAudioEnd&&this.onAudioEnd(this)}set format(e){if("undefined"!=typeof AudioContext||"undefined"!=typeof window&&void 0!==window.webkitAudioContext){this.privFormat=e;const t=Di[this.privFormat.formatTag];void 0===t?console.warn(`Unknown mimeType for format ${Ut[this.privFormat.formatTag]}; playback is not supported.`):"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported(t)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=1800,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(t),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch((e=>{j.instance.onEvent(new W(e))}))},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch((e=>{j.instance.onEvent(new W(e))}))},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch((e=>{j.instance.onEvent(new W(e))}))):(console.warn(`Format ${Ut[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new gi,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){var e,t;return null!==(t=null===(e=this.privAudio)||void 0===e?void 0:e.volume)&&void 0!==t?t:-1}set volume(e){this.privAudio&&(this.privAudio.volume=e)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return void 0!==this.privAudio?this.privAudio.currentTime:-1}pause(){this.privIsPaused||void 0===this.privAudio||(this.privAudio.pause(),this.privIsPaused=!0)}resume(e,t){this.privIsPaused&&void 0!==this.privAudio&&(this.privAudio.play().then((()=>{e&&e()}),(e=>{t&&t(e)})),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}updateSourceBuffer(){return Ai(this,void 0,void 0,(function*(){if(void 0!==this.privAudioBuffer&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const e=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(e)}catch(t){return this.privAudioBuffer.unshift(e),void console.log("buffer filled, pausing addition of binaries until space is made")}yield this.notifyPlayback()}else this.canEndStream()&&(yield this.handleSourceBufferUpdateEnd())}))}handleSourceBufferUpdateEnd(){return Ai(this,void 0,void 0,(function*(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),yield this.notifyPlayback())}))}notifyPlayback(){return Ai(this,void 0,void 0,(function*(){this.privPlaybackStarted||void 0===this.privAudio||(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||(yield this.privAudio.play()))}))}canEndStream(){return this.isClosed&&void 0!==this.privSourceBuffer&&0===this.privAudioBuffer.length&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&"open"===this.privMediaSource.readyState}sourceBufferAvailable(){return void 0!==this.privSourceBuffer&&!this.privSourceBuffer.updating}}var Mi=i(10592);class Oi{constructor(e){s.throwIfNullOrUndefined(Mi.openSync,"\nFile System access not available, please use Push or PullAudioOutputStream"),this.privFd=Mi.openSync(e,"w")}set format(e){s.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;let t=0;this.privAudioFormat.hasHeader&&(t=this.privAudioFormat.header.byteLength),void 0!==this.privFd&&(this.privWriteStream=Mi.createWriteStream("",{fd:this.privFd,start:t,autoClose:!1}))}write(e){s.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),void 0!==this.privWriteStream&&this.privWriteStream.write(new Uint8Array(e.slice(0)))}close(){void 0!==this.privFd&&(this.privWriteStream.on("finish",(()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),Mi.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),Mi.closeSync(this.privFd),this.privFd=void 0})),this.privWriteStream.end())}id(){return this.privId}}class Li{static fromDefaultMicrophoneInput(){const e=new Kt(!0);return new zi(new Yt(e))}static fromMicrophoneInput(e){const t=new Kt(!0);return new zi(new Yt(t,e))}static fromWavFileInput(e,t="unnamedBuffer.wav"){return new zi(new ei(e,t))}static fromStreamInput(e){if(e instanceof class{})return new zi(new si(e));if(e instanceof ii)return new zi(e);if("undefined"!=typeof MediaStream&&e instanceof MediaStream){const t=new Kt(!1);return new zi(new Yt(t,null,null,e))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new Ni(new ki)}static fromSpeakerOutput(e){if(void 0===e)return Li.fromDefaultSpeakerOutput();if(e instanceof ki)return new Ni(e);throw new Error("Not Supported Type")}static fromAudioFileOutput(e){return new Ni(new Oi(e))}static fromStreamOutput(e){if(e instanceof class{})return new Ni(new _i(e));if(e instanceof mi)return new Ni(e);if(e instanceof xi)return new Ni(e);throw new Error("Not Supported Type")}}class zi extends Li{constructor(e){super(),this.privSource=e}get format(){return this.privSource.format}close(e,t){this.privSource.turnOff().then((()=>{e&&e()}),(e=>{t&&t(e)}))}id(){return this.privSource.id()}get blob(){return this.privSource.blob}turnOn(){return this.privSource.turnOn()}attach(e){return this.privSource.attach(e)}detach(e){return this.privSource.detach(e)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(e,t){if(s.throwIfNull(t,"value"),void 0===this.privSource.setProperty)throw new Error("This AudioConfig instance does not support setting properties.");this.privSource.setProperty(e,t)}getProperty(e,t){if(void 0!==this.privSource.getProperty)return this.privSource.getProperty(e,t);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}class Ni extends Li{constructor(e){super(),this.privDestination=e}set format(e){this.privDestination.format=e}write(e){this.privDestination.write(e)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}var Bi=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class qi{constructor(e,t,i){this.audioConfig=void 0!==e?e:Li.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=t.clone(),this.privConnectionFactory=i,this.implCommonRecognizerSetup()}close(e,t){s.throwIfDisposed(this.privDisposed),O(this.dispose(!0),e,t)}get internalData(){return this.privReco}dispose(e){return Bi(this,void 0,void 0,(function*(){this.privDisposed||(this.privDisposed=!0,e&&this.privReco&&(yield this.privReco.audioSource.turnOff(),yield this.privReco.dispose()))}))}static get telemetryEnabled(){return Mt.telemetryDataEnabled}static enableTelemetry(e){Mt.telemetryDataEnabled=e}implCommonRecognizerSetup(){let e="undefined"!=typeof window?"Browser":"Node",t="unknown",i="unknown";"undefined"!=typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,i=navigator.appVersion);const r=this.createRecognizerConfig(new je(new He(new Ke(e,t,i))));this.privReco=this.createServiceRecognizer(qi.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,r)}recognizeOnceAsyncImpl(e){return Bi(this,void 0,void 0,(function*(){s.throwIfDisposed(this.privDisposed);const t=new M;yield this.implRecognizerStop(),yield this.privReco.recognize(e,t.resolve,t.reject);const i=yield t.promise;return yield this.implRecognizerStop(),i}))}startContinuousRecognitionAsyncImpl(e){return Bi(this,void 0,void 0,(function*(){s.throwIfDisposed(this.privDisposed),yield this.implRecognizerStop(),yield this.privReco.recognize(e,void 0,void 0)}))}stopContinuousRecognitionAsyncImpl(){return Bi(this,void 0,void 0,(function*(){s.throwIfDisposed(this.privDisposed),yield this.implRecognizerStop()}))}implRecognizerStop(){return Bi(this,void 0,void 0,(function*(){this.privReco&&(yield this.privReco.stopRecognizing())}))}static getAuthFromProperties(e){const t=e.getProperty(a.SpeechServiceConnection_Key,void 0);return t&&""!==t?new jt(t):new Ht((()=>{const t=e.getProperty(a.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}),(()=>{const t=e.getProperty(a.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}))}}var Fi=function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class ji extends qi{constructor(e,t){const i=e;s.throwIfNull(i,"speechConfig"),s.throwIfNullOrWhitespace(i.properties.getProperty(a.SpeechServiceConnection_RecoLanguage),a[a.SpeechServiceConnection_RecoLanguage]),super(t,i.properties,new Ve),this.privDisposedRecognizer=!1}static FromConfig(e,t,i){const r=e;t.properties.mergeTo(r.properties);return new ji(e,i)}get endpointId(){return s.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(a.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(a.SpeechServiceAuthorization_Token)}set authorizationToken(e){s.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(a.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return s.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(a.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return s.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(e,c[c.Simple])===c[c.Simple]?c.Simple:c.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(e,t){O(this.recognizeOnceAsyncImpl(De.Interactive),e,t)}startContinuousRecognitionAsync(e,t){O(this.startContinuousRecognitionAsyncImpl(De.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){O(this.stopContinuousRecognitionAsyncImpl(),e,t)}startKeywordRecognitionAsync(e,t,i){s.throwIfNull(e,"model"),i&&i("Not yet implemented.")}stopKeywordRecognitionAsync(e){e&&e()}close(e,t){s.throwIfDisposed(this.privDisposedRecognizer),O(this.dispose(!0),e,t)}dispose(e){const t=Object.create(null,{dispose:{get:()=>super.dispose}});return Fi(this,void 0,void 0,(function*(){this.privDisposedRecognizer||(e&&(this.privDisposedRecognizer=!0,yield this.implRecognizerStop()),yield t.dispose.call(this,e))}))}createRecognizerConfig(e){return new Fe(e,this.properties)}createServiceRecognizer(e,t,i,r){return new qt(e,t,i,r,this)}}class Hi extends class{constructor(e,t,i){this.privReason=e,this.privErrorDetails=t,this.privErrorCode=i}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get ErrorCode(){return this.privErrorCode}}{constructor(e,t,i){super(e,t,i)}static fromResult(e){let i=Qe.Error,r=Xe.NoError;if(e instanceof $e&&e.json){const t=Lt.fromJSON(e.json);i=zt.implTranslateCancelResult(t.RecognitionStatus)}return e.properties&&(r=Xe[e.properties.getProperty(t,Xe[Xe.NoError])]),new Hi(i,e.errorDetails||zt.implTranslateErrorDetails(r),r)}}const Wi=function(){function e(){}return e.prototype.appendPickerHTMLtoChatWindowFooter=function(e){this.hostInstance.chatEle.find(".kore-chat-footer .footerContainer").append(e)},e.prototype.installSpeechToTextTemplate=function(){var e=this,t=e.hostInstance.$;e.pickerHTML=t(e.getSpeechToTextTemplateString()),e.appendPickerHTMLtoChatWindowFooter(e.pickerHTML),e.bindEvents()},e.prototype.getSpeechToTextTemplateString=function(){return'<div class="sdkFooterIcon microphoneBtn">         <button class="notRecordingMicrophone" title="Microphone On">             <i class="microphone"></i>         </button>         <button class="recordingMicrophone" title="Microphone Off" >             <i class="microphone"></i>             <span class="recordingGif"></span>         </button>         <div id="textFromServer"></div>     </div>'},e.prototype.bindEvents=function(){var e=this,t=e.hostInstance.$;t(e.pickerHTML).on("click",".notRecordingMicrophone",(function(t){e.onRecordButtonClick&&e.onRecordButtonClick()})),t(e.pickerHTML).on("click",".recordingMicrophone",(function(t){e.stop(),setTimeout((function(){e.setCaretEnd(document.getElementsByClassName("chatInputBox"))}),350)}))},e}();var Ki,Ui=i(19755),Vi=i.n(Ui),$i=(Ki=function(e,t){return Ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},Ki(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Ki(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});const Ji=function(e){function t(t){var i=e.call(this)||this;return i.name="AzureSTT",i.config=t,i.config.key||console.error("Please configure the Azure STT API-KEY"),i.config.region||(i.config.region="eastus"),i.speechConfig=f.fromSubscription(i.config.key,i.config.region),i.speechRecognizer=new ji(i.speechConfig),i}return $i(t,e),t.prototype.onHostCreate=function(){var e=this;this.hostInstance.on("viewInit",(function(t){e.onInit()}))},t.prototype.onInit=function(){this.installSpeechToTextTemplate()},t.prototype.onRecordButtonClick=function(){Vi()(".recordingMicrophone").css("display","block"),Vi()(".notRecordingMicrophone").css("display","none"),this.speechToText().then((function(e){console.log.apply(console,Xi("4900b36_0","translated text ",e)),Vi()(".chatInputBox").html(Vi()(".chatInputBox").html()+" "+e),setTimeout((function(){document.getElementsByClassName("chatInputBox")[0].scrollTop=document.getElementsByClassName("chatInputBox")[0].scrollHeight,Vi()(".recordingMicrophone").css("display","none"),Vi()(".notRecordingMicrophone").css("display","block")}),350)}))},t.prototype.stop=function(){Vi()(".recordingMicrophone").css("display","none"),Vi()(".notRecordingMicrophone").css("display","block")},t.prototype.speechToText=function(){var e=this;return new Promise((function(t,i){e.speechRecognizer.recognizeOnceAsync((function(e){var r="";switch(e.reason){case Ge.RecognizedSpeech:r=e.text;break;case Ge.NoMatch:r="Speech could not be recognized.",Vi()(".recordingMicrophone").css("display","none"),Vi()(".notRecordingMicrophone").css("display","block"),i(r);break;case Ge.Canceled:var n=Hi.fromResult(e);r="Cancelled: Reason= "+n.reason,Vi()(".recordingMicrophone").css("display","none"),Vi()(".notRecordingMicrophone").css("display","block"),n.reason==Qe.Error&&(r="Canceled: "+n.ErrorCode),i(r)}t(r)}))}))},t.prototype.setCaretEnd=function(e){},t}(Wi);function Gi(){try{return(0,eval)("globalThis._console_ninja")||(0,eval)("/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';var _0x5de714=_0x42cc;(function(_0x180270,_0xc4b29d){var _0x66eabe=_0x42cc,_0x5dec07=_0x180270();while(!![]){try{var _0x3360a9=-parseInt(_0x66eabe(0x1f2))/0x1*(parseInt(_0x66eabe(0x213))/0x2)+-parseInt(_0x66eabe(0x229))/0x3*(parseInt(_0x66eabe(0x212))/0x4)+parseInt(_0x66eabe(0x21f))/0x5*(parseInt(_0x66eabe(0x1e9))/0x6)+parseInt(_0x66eabe(0x1c4))/0x7*(parseInt(_0x66eabe(0x29c))/0x8)+-parseInt(_0x66eabe(0x224))/0x9+-parseInt(_0x66eabe(0x1ca))/0xa*(-parseInt(_0x66eabe(0x20c))/0xb)+parseInt(_0x66eabe(0x264))/0xc*(-parseInt(_0x66eabe(0x1be))/0xd);if(_0x3360a9===_0xc4b29d)break;else _0x5dec07['push'](_0x5dec07['shift']());}catch(_0x4521e7){_0x5dec07['push'](_0x5dec07['shift']());}}}(_0x9795,0xe2a6c));var ue=Object[_0x5de714(0x1fd)],te=Object['defineProperty'],he=Object[_0x5de714(0x273)],le=Object[_0x5de714(0x21a)],fe=Object[_0x5de714(0x252)],_e=Object[_0x5de714(0x206)]['hasOwnProperty'],pe=(_0x3d77a6,_0x3fafff,_0x2fb998,_0x23619b)=>{var _0x14b9c0=_0x5de714;if(_0x3fafff&&typeof _0x3fafff==_0x14b9c0(0x1d0)||typeof _0x3fafff==_0x14b9c0(0x265)){for(let _0x8be15e of le(_0x3fafff))!_e[_0x14b9c0(0x1fa)](_0x3d77a6,_0x8be15e)&&_0x8be15e!==_0x2fb998&&te(_0x3d77a6,_0x8be15e,{'get':()=>_0x3fafff[_0x8be15e],'enumerable':!(_0x23619b=he(_0x3fafff,_0x8be15e))||_0x23619b[_0x14b9c0(0x28d)]});}return _0x3d77a6;},ne=(_0x5b8ac7,_0x55e256,_0x273199)=>(_0x273199=_0x5b8ac7!=null?ue(fe(_0x5b8ac7)):{},pe(_0x55e256||!_0x5b8ac7||!_0x5b8ac7[_0x5de714(0x245)]?te(_0x273199,_0x5de714(0x239),{'value':_0x5b8ac7,'enumerable':!0x0}):_0x273199,_0x5b8ac7)),Y=class{constructor(_0x18fd3e,_0x518dec,_0x4e07d2,_0x479ba0){var _0x4f8d85=_0x5de714;this[_0x4f8d85(0x200)]=_0x18fd3e,this[_0x4f8d85(0x1cb)]=_0x518dec,this[_0x4f8d85(0x233)]=_0x4e07d2,this[_0x4f8d85(0x22e)]=_0x479ba0,this['_allowedToSend']=!0x0,this[_0x4f8d85(0x1d6)]=!0x0,this[_0x4f8d85(0x2a5)]=!0x1,this[_0x4f8d85(0x2a3)]=[],this[_0x4f8d85(0x25a)]=!0x1,this[_0x4f8d85(0x230)]=!0x1,this[_0x4f8d85(0x24f)]=!!this[_0x4f8d85(0x200)]['WebSocket'],this['_WebSocketClass']=null,this['_connectAttemptCount']=0x0,this[_0x4f8d85(0x280)]=0x14,this[_0x4f8d85(0x28b)]=0x0,this[_0x4f8d85(0x203)]=0x3e8,this['_sendErrorMessage']=this[_0x4f8d85(0x24f)]?_0x4f8d85(0x247):_0x4f8d85(0x246);}async[_0x5de714(0x267)](){var _0x597c3b=_0x5de714;if(this[_0x597c3b(0x25b)])return this[_0x597c3b(0x25b)];let _0x662894;if(this[_0x597c3b(0x24f)])_0x662894=this['global'][_0x597c3b(0x1ff)];else{if(this[_0x597c3b(0x200)][_0x597c3b(0x27b)]?.[_0x597c3b(0x26c)])_0x662894=this[_0x597c3b(0x200)]['process']?.['_WebSocket'];else try{let _0x30682a=await import(_0x597c3b(0x288));_0x662894=(await import((await import(_0x597c3b(0x278)))[_0x597c3b(0x216)](_0x30682a[_0x597c3b(0x1d9)](this[_0x597c3b(0x22e)],_0x597c3b(0x1f0)))['toString']()))[_0x597c3b(0x239)];}catch{try{_0x662894=require(require(_0x597c3b(0x288))['join'](this[_0x597c3b(0x22e)],'ws'));}catch{throw new Error(_0x597c3b(0x24a));}}}return this['_WebSocketClass']=_0x662894,_0x662894;}[_0x5de714(0x1e5)](){var _0x16f586=_0x5de714;this[_0x16f586(0x230)]||this['_connected']||this['_connectAttemptCount']>=this[_0x16f586(0x280)]||(this[_0x16f586(0x1d6)]=!0x1,this[_0x16f586(0x230)]=!0x0,this[_0x16f586(0x1c6)]++,this['_ws']=new Promise((_0x40c381,_0x320656)=>{var _0x14fc2f=_0x16f586;this[_0x14fc2f(0x267)]()[_0x14fc2f(0x1fc)](_0x8517e1=>{var _0x13e29f=_0x14fc2f;let _0x1f8f3f=new _0x8517e1('ws://'+this[_0x13e29f(0x1cb)]+':'+this['port']);_0x1f8f3f[_0x13e29f(0x287)]=()=>{var _0x5d5175=_0x13e29f;this[_0x5d5175(0x294)]=!0x1,this[_0x5d5175(0x21b)](_0x1f8f3f),this[_0x5d5175(0x291)](),_0x320656(new Error(_0x5d5175(0x24c)));},_0x1f8f3f[_0x13e29f(0x202)]=()=>{var _0x3568f5=_0x13e29f;this['_inBrowser']||_0x1f8f3f['_socket']&&_0x1f8f3f[_0x3568f5(0x1ee)][_0x3568f5(0x243)]&&_0x1f8f3f['_socket'][_0x3568f5(0x243)](),_0x40c381(_0x1f8f3f);},_0x1f8f3f['onclose']=()=>{var _0x252d39=_0x13e29f;this[_0x252d39(0x1d6)]=!0x0,this[_0x252d39(0x21b)](_0x1f8f3f),this[_0x252d39(0x291)]();},_0x1f8f3f['onmessage']=_0x21795d=>{var _0x57ff28=_0x13e29f;try{_0x21795d&&_0x21795d[_0x57ff28(0x258)]&&this[_0x57ff28(0x24f)]&&JSON['parse'](_0x21795d['data'])[_0x57ff28(0x1dd)]===_0x57ff28(0x228)&&this[_0x57ff28(0x200)][_0x57ff28(0x295)][_0x57ff28(0x228)]();}catch{}};})['then'](_0x3c12aa=>(this[_0x14fc2f(0x25a)]=!0x0,this[_0x14fc2f(0x230)]=!0x1,this[_0x14fc2f(0x1d6)]=!0x1,this['_allowedToSend']=!0x0,this[_0x14fc2f(0x2a5)]=!0x1,this[_0x14fc2f(0x28b)]=0x0,this[_0x14fc2f(0x1c6)]=0x0,_0x3c12aa))['catch'](_0x1c8ccb=>(this[_0x14fc2f(0x25a)]=!0x1,this['_connecting']=!0x1,_0x320656(new Error('failed\\x20to\\x20connect\\x20to\\x20host:\\x20'+(_0x1c8ccb&&_0x1c8ccb['message'])))));}));}[_0x5de714(0x21b)](_0x1930a9){var _0x5b5707=_0x5de714;this[_0x5b5707(0x25a)]=!0x1,this[_0x5b5707(0x230)]=!0x1;try{_0x1930a9[_0x5b5707(0x27c)]=null,_0x1930a9[_0x5b5707(0x287)]=null,_0x1930a9['onopen']=null;}catch{}try{_0x1930a9['readyState']<0x2&&_0x1930a9[_0x5b5707(0x290)]();}catch{}}['_attemptToReconnectShortly'](){var _0x4e61b6=_0x5de714;clearTimeout(this[_0x4e61b6(0x1bd)]),!(this[_0x4e61b6(0x1c6)]>=this[_0x4e61b6(0x280)])&&(this['_reconnectTimeout']=setTimeout(()=>{var _0x1a507d=_0x4e61b6;this[_0x1a507d(0x25a)]||this['_connecting']||(this[_0x1a507d(0x1e5)](),this['_ws']?.[_0x1a507d(0x242)](()=>this[_0x1a507d(0x291)]()));},0x1f4),this[_0x4e61b6(0x1bd)][_0x4e61b6(0x243)]&&this[_0x4e61b6(0x1bd)][_0x4e61b6(0x243)]());}async[_0x5de714(0x2ab)](_0x2c672d){var _0x116643=_0x5de714;try{if(!this['_allowedToSend'])return;if(this[_0x116643(0x2a5)]){this[_0x116643(0x2a3)]['push'](_0x2c672d);return;}this[_0x116643(0x1d6)]&&this['_connectToHostNow'](),this['_activeConnectionMessageCount']++;let _0x30cbb4=this[_0x116643(0x28b)]>=this[_0x116643(0x203)];_0x30cbb4&&(this[_0x116643(0x2a5)]=!0x0);let _0x36711f=await this[_0x116643(0x23d)];_0x36711f['send'](JSON[_0x116643(0x23c)](_0x2c672d)),this['_connected']&&_0x30cbb4&&(this[_0x116643(0x1d6)]=!0x1,this[_0x116643(0x21b)](_0x36711f),this[_0x116643(0x1e5)](),this[_0x116643(0x23d)]?.[_0x116643(0x1fc)](()=>{var _0x1187ae=_0x116643;if(this[_0x1187ae(0x2a3)]['length']){let _0x3765da=this[_0x1187ae(0x2a3)][_0x1187ae(0x23f)](0x0,this['_maxActiveConnectionMessageCount']);for(let _0x1f7b28=0x0;_0x1f7b28<_0x3765da[_0x1187ae(0x223)];_0x1f7b28++)this[_0x1187ae(0x2ab)](_0x3765da[_0x1f7b28]);}}));}catch(_0x5cb730){console[_0x116643(0x298)](this[_0x116643(0x1d2)]+':\\x20'+(_0x5cb730&&_0x5cb730[_0x116643(0x1e2)])),this[_0x116643(0x294)]=!0x1,this['_attemptToReconnectShortly']();}}};function H(_0x3da308,_0x1146cf,_0x270692,_0x3671ea,_0x9ccb35){var _0x4931ef=_0x5de714;let _0x40102b=_0x270692[_0x4931ef(0x22f)](',')[_0x4931ef(0x27d)](_0x149096=>{var _0x24fbc6=_0x4931ef;try{_0x3da308[_0x24fbc6(0x2a4)]||((_0x9ccb35===_0x24fbc6(0x22b)||_0x9ccb35===_0x24fbc6(0x289))&&(_0x9ccb35+=_0x3da308[_0x24fbc6(0x27b)]?.[_0x24fbc6(0x1da)]?.[_0x24fbc6(0x1d7)]?_0x24fbc6(0x234):_0x24fbc6(0x256)),_0x3da308[_0x24fbc6(0x2a4)]={'id':+new Date(),'tool':_0x9ccb35});let _0x1105fb=new Y(_0x3da308,_0x1146cf,_0x149096,_0x3671ea);return _0x1105fb[_0x24fbc6(0x2ab)][_0x24fbc6(0x299)](_0x1105fb);}catch(_0x1fa6a2){return console['warn'](_0x24fbc6(0x1f7),_0x1fa6a2&&_0x1fa6a2['message']),()=>{};}});return _0x435322=>_0x40102b[_0x4931ef(0x1dc)](_0x5d5cf0=>_0x5d5cf0(_0x435322));}function _0x42cc(_0x43dc8c,_0xd8c54a){var _0x97950c=_0x9795();return _0x42cc=function(_0x42cc4c,_0x525b47){_0x42cc4c=_0x42cc4c-0x1bd;var _0x101f60=_0x97950c[_0x42cc4c];return _0x101f60;},_0x42cc(_0x43dc8c,_0xd8c54a);}function _0x9795(){var _0x259951=['_setNodeId','_connectAttemptCount','level','_hasSetOnItsPath','_propertyName','508090RDjWmO','host','getOwnPropertySymbols',':logPointId:','sort','substr','object','disabledTrace','_sendErrorMessage','array','_cleanNode','_addObjectProperty','_allowedToConnectOnSend','node','nan','join','versions','Error','forEach','method','cappedElements','_isArray','stackTraceLimit','test','message','_propertyAccessor','hostname','_connectToHostNow','timeStamp','sortProps','totalStrLength','6xnYElZ','perf_hooks','Set','127.0.0.1','[object\\x20Array]','_socket','bigint','ws/index.js','autoExpand','218413XFHlCj','_isPrimitiveType','_setNodePermissions','hrtime','resolveGetters','logger\\x20failed\\x20to\\x20connect\\x20to\\x20host','match','rootExpression','call','_getOwnPropertySymbols','then','create','String','WebSocket','global','trace','onopen','_maxActiveConnectionMessageCount','_property','negativeZero','prototype','_isPrimitiveWrapperType','_consoleNinjaAllowedToStart','_console_ninja','_treeNodePropertiesBeforeFullValue','autoExpandMaxDepth','132TPNDJV','cappedProps','_addProperty','_addFunctionsNode','argumentResolutionError','[object\\x20Map]','206208KJHuuW','6sVhwgo','_capIfString','_hasMapOnItsPath','pathToFileURL','toString','setter','_HTMLAllCollection','getOwnPropertyNames','_disposeWebsocket','symbol','props','console','7535100KnWmbp','Boolean','autoExpandPropertyCount','NEGATIVE_INFINITY','length','6988032WFkdSq','expressionsToEvaluate','capped','root_exp','reload','27FFjZiz','undefined','next.js','_processTreeNodeResult','number','nodeModules','split','_connecting','_isUndefined','autoExpandPreviousObjects','port','\\x20server','_setNodeExpandableState','POSITIVE_INFINITY','HTMLAllCollection','disabledLog','default','replace','unshift','stringify','_ws','funcName','splice','_undefined','current','catch','unref','_isSet','__es'+'Module','Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20restarting\\x20the\\x20process\\x20may\\x20help','Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20refreshing\\x20the\\x20page\\x20may\\x20help','time',[\"localhost\",\"127.0.0.1\",\"example.cypress.io\",\"ki0967\",\"172.16.2.106\"],'failed\\x20to\\x20find\\x20and\\x20load\\x20WebSocket','_dateToString','logger\\x20websocket\\x20error','_addLoadNode','now','_inBrowser',\"/home/nanthagopalrajendiran/.vscode/extensions/wallabyjs.console-ninja-0.0.105/node_modules\",'string','getPrototypeOf','boolean','constructor','RegExp','\\x20browser','strLength','data','_p_length','_connected','_WebSocketClass','root_exp_id','parent','Map','valueOf','toLowerCase','elements','log','type','12hBGDay','function','expId','getWebSocketClass','_getOwnPropertyDescriptor','value','serialize','_setNodeExpressionPath','_WebSocket','_hasSymbolPropertyOnItsPath','index','reduceLimits','date','allStrLength','[object\\x20Set]','getOwnPropertyDescriptor','_numberRegExp','_getOwnPropertyNames','_treeNodePropertiesAfterFullValue','_objectToString','url','null','_blacklistedProperty','process','onclose','map','slice','1.0.0','_maxConnectAttemptCount','nuxt','getter','get','negativeInfinity','43151','_additionalMetadata','onerror','path','remix','name','_activeConnectionMessageCount','error','enumerable','isArray','count','close','_attemptToReconnectShortly','_isNegativeZero','hits','_allowedToSend','location','push','timeEnd','warn','bind','webpack','concat','16CIbXwK','_setNodeLabel','_setNodeQueryPath','autoExpandLimit','_type','unknown','1680791702383','_messageQueue','_console_ninja_session','_delayMessageSending','performance','_Symbol','Buffer','noFunctions','isExpressionToEvaluate','send','_sortProps','_reconnectTimeout','9780199oSddQO','_p_','Number','_isMap','','depth','5108649RqPOxL'];_0x9795=function(){return _0x259951;};return _0x9795();}function V(_0x245436){var _0x36cecd=_0x5de714;let _0x423a3f=function(_0x3960e5,_0x51eebb){return _0x51eebb-_0x3960e5;},_0x1dab56;if(_0x245436['performance'])_0x1dab56=function(){var _0x325c88=_0x42cc;return _0x245436[_0x325c88(0x2a6)][_0x325c88(0x24e)]();};else{if(_0x245436['process']&&_0x245436[_0x36cecd(0x27b)][_0x36cecd(0x1f5)])_0x1dab56=function(){var _0x1b3482=_0x36cecd;return _0x245436['process'][_0x1b3482(0x1f5)]();},_0x423a3f=function(_0xc6cce5,_0x2692bc){return 0x3e8*(_0x2692bc[0x0]-_0xc6cce5[0x0])+(_0x2692bc[0x1]-_0xc6cce5[0x1])/0xf4240;};else try{let {performance:_0x71a494}=require(_0x36cecd(0x1ea));_0x1dab56=function(){return _0x71a494['now']();};}catch{_0x1dab56=function(){return+new Date();};}}return{'elapsed':_0x423a3f,'timeStamp':_0x1dab56,'now':()=>Date['now']()};}function X(_0x4b0400,_0x2e93f8,_0x3588e6){var _0x45de05=_0x5de714;if(_0x4b0400[_0x45de05(0x208)]!==void 0x0)return _0x4b0400[_0x45de05(0x208)];let _0x146248=_0x4b0400[_0x45de05(0x27b)]?.[_0x45de05(0x1da)]?.[_0x45de05(0x1d7)];return _0x146248&&_0x3588e6===_0x45de05(0x281)?_0x4b0400[_0x45de05(0x208)]=!0x1:_0x4b0400['_consoleNinjaAllowedToStart']=_0x146248||!_0x2e93f8||_0x4b0400['location']?.[_0x45de05(0x1e4)]&&_0x2e93f8['includes'](_0x4b0400[_0x45de05(0x295)][_0x45de05(0x1e4)]),_0x4b0400[_0x45de05(0x208)];}((_0x1ab2a5,_0x905ac1,_0x45cfda,_0x1f5c29,_0x1a4e0a,_0x3f1e88,_0x285731,_0x3ccbb0,_0x3a2bd6)=>{var _0x3886ef=_0x5de714;if(_0x1ab2a5[_0x3886ef(0x209)])return _0x1ab2a5['_console_ninja'];if(!X(_0x1ab2a5,_0x3ccbb0,_0x1a4e0a))return _0x1ab2a5[_0x3886ef(0x209)]={'consoleLog':()=>{},'consoleTrace':()=>{},'consoleTime':()=>{},'consoleTimeEnd':()=>{},'autoLog':()=>{},'autoTrace':()=>{},'autoTime':()=>{},'autoTimeEnd':()=>{}},_0x1ab2a5[_0x3886ef(0x209)];let _0x51f37f={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x4eb728={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2},_0x52e007=V(_0x1ab2a5),_0x12c66b=_0x52e007['elapsed'],_0x35a29b=_0x52e007[_0x3886ef(0x1e6)],_0x5b9bc6=_0x52e007[_0x3886ef(0x24e)],_0x53d25f={'hits':{},'ts':{}},_0x162599=_0x2f70b0=>{_0x53d25f['ts'][_0x2f70b0]=_0x35a29b();},_0x13d6a0=(_0x29181d,_0xbe3ae3)=>{var _0x4e399a=_0x3886ef;let _0x35b1ec=_0x53d25f['ts'][_0xbe3ae3];if(delete _0x53d25f['ts'][_0xbe3ae3],_0x35b1ec){let _0x428e73=_0x12c66b(_0x35b1ec,_0x35a29b());_0x33781f(_0x43a9f0(_0x4e399a(0x248),_0x29181d,_0x5b9bc6(),_0x2838ea,[_0x428e73],_0xbe3ae3));}},_0x5079ba=_0x1fbb28=>_0x392e17=>{var _0x3cadd4=_0x3886ef;try{_0x162599(_0x392e17),_0x1fbb28(_0x392e17);}finally{_0x1ab2a5['console'][_0x3cadd4(0x248)]=_0x1fbb28;}},_0x5958b0=_0x53d691=>_0x790be5=>{var _0x233a84=_0x3886ef;try{let [_0x5b58c8,_0x7853ce]=_0x790be5['split'](_0x233a84(0x1cd));_0x13d6a0(_0x7853ce,_0x5b58c8),_0x53d691(_0x5b58c8);}finally{_0x1ab2a5['console'][_0x233a84(0x297)]=_0x53d691;}};_0x1ab2a5[_0x3886ef(0x209)]={'consoleLog':(_0x8a1393,_0xb93335)=>{var _0x33b8d8=_0x3886ef;_0x1ab2a5[_0x33b8d8(0x21e)][_0x33b8d8(0x262)][_0x33b8d8(0x28a)]!==_0x33b8d8(0x238)&&_0x33781f(_0x43a9f0('log',_0x8a1393,_0x5b9bc6(),_0x2838ea,_0xb93335));},'consoleTrace':(_0x10a26c,_0x5d7d45)=>{var _0xea2a42=_0x3886ef;_0x1ab2a5['console']['log'][_0xea2a42(0x28a)]!==_0xea2a42(0x1d1)&&_0x33781f(_0x43a9f0('trace',_0x10a26c,_0x5b9bc6(),_0x2838ea,_0x5d7d45));},'consoleTime':()=>{var _0x321955=_0x3886ef;_0x1ab2a5['console'][_0x321955(0x248)]=_0x5079ba(_0x1ab2a5['console']['time']);},'consoleTimeEnd':()=>{var _0x6572da=_0x3886ef;_0x1ab2a5[_0x6572da(0x21e)][_0x6572da(0x297)]=_0x5958b0(_0x1ab2a5['console'][_0x6572da(0x297)]);},'autoLog':(_0x30376f,_0x563a88)=>{var _0x2e7b32=_0x3886ef;_0x33781f(_0x43a9f0(_0x2e7b32(0x262),_0x563a88,_0x5b9bc6(),_0x2838ea,[_0x30376f]));},'autoTrace':(_0x3c1318,_0x159e6b)=>{var _0x2a960c=_0x3886ef;_0x33781f(_0x43a9f0(_0x2a960c(0x201),_0x159e6b,_0x5b9bc6(),_0x2838ea,[_0x3c1318]));},'autoTime':(_0x436d6b,_0x3a2dd5,_0x3440d6)=>{_0x162599(_0x3440d6);},'autoTimeEnd':(_0x597aea,_0x6c2f56,_0x42ca63)=>{_0x13d6a0(_0x6c2f56,_0x42ca63);}};let _0x33781f=H(_0x1ab2a5,_0x905ac1,_0x45cfda,_0x1f5c29,_0x1a4e0a),_0x2838ea=_0x1ab2a5[_0x3886ef(0x2a4)];class _0xd341c9{constructor(){var _0x2a5973=_0x3886ef;this['_keyStrRegExp']=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/,this[_0x2a5973(0x274)]=/^(0|[1-9][0-9]*)$/,this['_quotedRegExp']=/'([^\\\\']|\\\\')*'/,this['_undefined']=_0x1ab2a5[_0x2a5973(0x22a)],this[_0x2a5973(0x219)]=_0x1ab2a5[_0x2a5973(0x237)],this['_getOwnPropertyDescriptor']=Object['getOwnPropertyDescriptor'],this[_0x2a5973(0x275)]=Object[_0x2a5973(0x21a)],this[_0x2a5973(0x2a7)]=_0x1ab2a5['Symbol'],this['_regExpToString']=RegExp[_0x2a5973(0x206)][_0x2a5973(0x217)],this[_0x2a5973(0x24b)]=Date[_0x2a5973(0x206)][_0x2a5973(0x217)];}['serialize'](_0x508f92,_0x34d892,_0x3e6ab1,_0x1bb4b6){var _0x1d2745=_0x3886ef,_0x4742bb=this,_0x558fc0=_0x3e6ab1[_0x1d2745(0x1f1)];function _0x2aa47f(_0x318f0f,_0x3579de,_0x2bee4e){var _0x2a46f9=_0x1d2745;_0x3579de['type']='unknown',_0x3579de[_0x2a46f9(0x28c)]=_0x318f0f[_0x2a46f9(0x1e2)],_0x71c6b8=_0x2bee4e['node'][_0x2a46f9(0x241)],_0x2bee4e[_0x2a46f9(0x1d7)][_0x2a46f9(0x241)]=_0x3579de,_0x4742bb[_0x2a46f9(0x20a)](_0x3579de,_0x2bee4e);}if(_0x34d892&&_0x34d892[_0x1d2745(0x210)])_0x2aa47f(_0x34d892,_0x508f92,_0x3e6ab1);else try{_0x3e6ab1[_0x1d2745(0x1c7)]++,_0x3e6ab1[_0x1d2745(0x1f1)]&&_0x3e6ab1[_0x1d2745(0x232)][_0x1d2745(0x296)](_0x34d892);var _0x2f00a1,_0x10519c,_0x4c0492,_0x287649,_0x258f16=[],_0xeb821=[],_0x21e706,_0x215595=this[_0x1d2745(0x2a0)](_0x34d892),_0x308083=_0x215595===_0x1d2745(0x1d3),_0x459343=!0x1,_0x2b3f6c=_0x215595===_0x1d2745(0x265),_0x4e7f30=this[_0x1d2745(0x1f3)](_0x215595),_0x1c15f7=this[_0x1d2745(0x207)](_0x215595),_0x317754=_0x4e7f30||_0x1c15f7,_0x2a79f7={},_0x10cd2e=0x0,_0x278456=!0x1,_0x71c6b8,_0xb68ab=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x3e6ab1[_0x1d2745(0x1c3)]){if(_0x308083){if(_0x10519c=_0x34d892[_0x1d2745(0x223)],_0x10519c>_0x3e6ab1['elements']){for(_0x4c0492=0x0,_0x287649=_0x3e6ab1[_0x1d2745(0x261)],_0x2f00a1=_0x4c0492;_0x2f00a1<_0x287649;_0x2f00a1++)_0xeb821['push'](_0x4742bb[_0x1d2745(0x20e)](_0x258f16,_0x34d892,_0x215595,_0x2f00a1,_0x3e6ab1));_0x508f92[_0x1d2745(0x1de)]=!0x0;}else{for(_0x4c0492=0x0,_0x287649=_0x10519c,_0x2f00a1=_0x4c0492;_0x2f00a1<_0x287649;_0x2f00a1++)_0xeb821['push'](_0x4742bb[_0x1d2745(0x20e)](_0x258f16,_0x34d892,_0x215595,_0x2f00a1,_0x3e6ab1));}_0x3e6ab1[_0x1d2745(0x221)]+=_0xeb821['length'];}if(!(_0x215595===_0x1d2745(0x279)||_0x215595===_0x1d2745(0x22a))&&!_0x4e7f30&&_0x215595!==_0x1d2745(0x1fe)&&_0x215595!==_0x1d2745(0x2a8)&&_0x215595!==_0x1d2745(0x1ef)){var _0x53231c=_0x1bb4b6[_0x1d2745(0x21d)]||_0x3e6ab1['props'];if(this[_0x1d2745(0x244)](_0x34d892)?(_0x2f00a1=0x0,_0x34d892[_0x1d2745(0x1dc)](function(_0x466396){var _0x272f44=_0x1d2745;if(_0x10cd2e++,_0x3e6ab1[_0x272f44(0x221)]++,_0x10cd2e>_0x53231c){_0x278456=!0x0;return;}if(!_0x3e6ab1['isExpressionToEvaluate']&&_0x3e6ab1[_0x272f44(0x1f1)]&&_0x3e6ab1['autoExpandPropertyCount']>_0x3e6ab1[_0x272f44(0x29f)]){_0x278456=!0x0;return;}_0xeb821[_0x272f44(0x296)](_0x4742bb[_0x272f44(0x20e)](_0x258f16,_0x34d892,_0x272f44(0x1eb),_0x2f00a1++,_0x3e6ab1,function(_0x281495){return function(){return _0x281495;};}(_0x466396)));})):this['_isMap'](_0x34d892)&&_0x34d892[_0x1d2745(0x1dc)](function(_0x4b9c7a,_0x3e2a7f){var _0x2ba566=_0x1d2745;if(_0x10cd2e++,_0x3e6ab1[_0x2ba566(0x221)]++,_0x10cd2e>_0x53231c){_0x278456=!0x0;return;}if(!_0x3e6ab1[_0x2ba566(0x2aa)]&&_0x3e6ab1[_0x2ba566(0x1f1)]&&_0x3e6ab1['autoExpandPropertyCount']>_0x3e6ab1[_0x2ba566(0x29f)]){_0x278456=!0x0;return;}var _0x330f00=_0x3e2a7f['toString']();_0x330f00[_0x2ba566(0x223)]>0x64&&(_0x330f00=_0x330f00[_0x2ba566(0x27e)](0x0,0x64)+'...'),_0xeb821[_0x2ba566(0x296)](_0x4742bb[_0x2ba566(0x20e)](_0x258f16,_0x34d892,_0x2ba566(0x25e),_0x330f00,_0x3e6ab1,function(_0x34b0a1){return function(){return _0x34b0a1;};}(_0x4b9c7a)));}),!_0x459343){try{for(_0x21e706 in _0x34d892)if(!(_0x308083&&_0xb68ab[_0x1d2745(0x1e1)](_0x21e706))&&!this[_0x1d2745(0x27a)](_0x34d892,_0x21e706,_0x3e6ab1)){if(_0x10cd2e++,_0x3e6ab1[_0x1d2745(0x221)]++,_0x10cd2e>_0x53231c){_0x278456=!0x0;break;}if(!_0x3e6ab1[_0x1d2745(0x2aa)]&&_0x3e6ab1[_0x1d2745(0x1f1)]&&_0x3e6ab1[_0x1d2745(0x221)]>_0x3e6ab1['autoExpandLimit']){_0x278456=!0x0;break;}_0xeb821[_0x1d2745(0x296)](_0x4742bb[_0x1d2745(0x1d5)](_0x258f16,_0x2a79f7,_0x34d892,_0x215595,_0x21e706,_0x3e6ab1));}}catch{}if(_0x2a79f7[_0x1d2745(0x259)]=!0x0,_0x2b3f6c&&(_0x2a79f7['_p_name']=!0x0),!_0x278456){var _0x149348=[][_0x1d2745(0x29b)](this[_0x1d2745(0x275)](_0x34d892))[_0x1d2745(0x29b)](this[_0x1d2745(0x1fb)](_0x34d892));for(_0x2f00a1=0x0,_0x10519c=_0x149348['length'];_0x2f00a1<_0x10519c;_0x2f00a1++)if(_0x21e706=_0x149348[_0x2f00a1],!(_0x308083&&_0xb68ab[_0x1d2745(0x1e1)](_0x21e706[_0x1d2745(0x217)]()))&&!this[_0x1d2745(0x27a)](_0x34d892,_0x21e706,_0x3e6ab1)&&!_0x2a79f7[_0x1d2745(0x1bf)+_0x21e706[_0x1d2745(0x217)]()]){if(_0x10cd2e++,_0x3e6ab1[_0x1d2745(0x221)]++,_0x10cd2e>_0x53231c){_0x278456=!0x0;break;}if(!_0x3e6ab1[_0x1d2745(0x2aa)]&&_0x3e6ab1['autoExpand']&&_0x3e6ab1[_0x1d2745(0x221)]>_0x3e6ab1['autoExpandLimit']){_0x278456=!0x0;break;}_0xeb821[_0x1d2745(0x296)](_0x4742bb[_0x1d2745(0x1d5)](_0x258f16,_0x2a79f7,_0x34d892,_0x215595,_0x21e706,_0x3e6ab1));}}}}}if(_0x508f92[_0x1d2745(0x263)]=_0x215595,_0x317754?(_0x508f92[_0x1d2745(0x269)]=_0x34d892['valueOf'](),this[_0x1d2745(0x214)](_0x215595,_0x508f92,_0x3e6ab1,_0x1bb4b6)):_0x215595===_0x1d2745(0x270)?_0x508f92[_0x1d2745(0x269)]=this['_dateToString']['call'](_0x34d892):_0x215595===_0x1d2745(0x255)?_0x508f92[_0x1d2745(0x269)]=this['_regExpToString'][_0x1d2745(0x1fa)](_0x34d892):_0x215595==='symbol'&&this[_0x1d2745(0x2a7)]?_0x508f92[_0x1d2745(0x269)]=this[_0x1d2745(0x2a7)]['prototype'][_0x1d2745(0x217)][_0x1d2745(0x1fa)](_0x34d892):!_0x3e6ab1[_0x1d2745(0x1c3)]&&!(_0x215595===_0x1d2745(0x279)||_0x215595==='undefined')&&(delete _0x508f92[_0x1d2745(0x269)],_0x508f92['capped']=!0x0),_0x278456&&(_0x508f92[_0x1d2745(0x20d)]=!0x0),_0x71c6b8=_0x3e6ab1['node'][_0x1d2745(0x241)],_0x3e6ab1[_0x1d2745(0x1d7)]['current']=_0x508f92,this[_0x1d2745(0x20a)](_0x508f92,_0x3e6ab1),_0xeb821['length']){for(_0x2f00a1=0x0,_0x10519c=_0xeb821[_0x1d2745(0x223)];_0x2f00a1<_0x10519c;_0x2f00a1++)_0xeb821[_0x2f00a1](_0x2f00a1);}_0x258f16[_0x1d2745(0x223)]&&(_0x508f92[_0x1d2745(0x21d)]=_0x258f16);}catch(_0xa41b8f){_0x2aa47f(_0xa41b8f,_0x508f92,_0x3e6ab1);}return this[_0x1d2745(0x286)](_0x34d892,_0x508f92),this['_treeNodePropertiesAfterFullValue'](_0x508f92,_0x3e6ab1),_0x3e6ab1[_0x1d2745(0x1d7)]['current']=_0x71c6b8,_0x3e6ab1[_0x1d2745(0x1c7)]--,_0x3e6ab1[_0x1d2745(0x1f1)]=_0x558fc0,_0x3e6ab1[_0x1d2745(0x1f1)]&&_0x3e6ab1[_0x1d2745(0x232)]['pop'](),_0x508f92;}[_0x3886ef(0x1fb)](_0x14e060){var _0x4035db=_0x3886ef;return Object[_0x4035db(0x1cc)]?Object[_0x4035db(0x1cc)](_0x14e060):[];}[_0x3886ef(0x244)](_0x1bf695){var _0x3cacb0=_0x3886ef;return!!(_0x1bf695&&_0x1ab2a5['Set']&&this[_0x3cacb0(0x277)](_0x1bf695)===_0x3cacb0(0x272)&&_0x1bf695[_0x3cacb0(0x1dc)]);}[_0x3886ef(0x27a)](_0x5e4c57,_0x54215a,_0x369538){var _0x2d3f23=_0x3886ef;return _0x369538[_0x2d3f23(0x2a9)]?typeof _0x5e4c57[_0x54215a]=='function':!0x1;}['_type'](_0x355a67){var _0x3a5d19=_0x3886ef,_0x51148d='';return _0x51148d=typeof _0x355a67,_0x51148d===_0x3a5d19(0x1d0)?this[_0x3a5d19(0x277)](_0x355a67)===_0x3a5d19(0x1ed)?_0x51148d=_0x3a5d19(0x1d3):this['_objectToString'](_0x355a67)==='[object\\x20Date]'?_0x51148d=_0x3a5d19(0x270):_0x355a67===null?_0x51148d=_0x3a5d19(0x279):_0x355a67[_0x3a5d19(0x254)]&&(_0x51148d=_0x355a67[_0x3a5d19(0x254)]['name']||_0x51148d):_0x51148d===_0x3a5d19(0x22a)&&this[_0x3a5d19(0x219)]&&_0x355a67 instanceof this[_0x3a5d19(0x219)]&&(_0x51148d=_0x3a5d19(0x237)),_0x51148d;}['_objectToString'](_0x20cba4){var _0x1747e8=_0x3886ef;return Object[_0x1747e8(0x206)][_0x1747e8(0x217)][_0x1747e8(0x1fa)](_0x20cba4);}['_isPrimitiveType'](_0x2ab52d){var _0x3613f9=_0x3886ef;return _0x2ab52d===_0x3613f9(0x253)||_0x2ab52d==='string'||_0x2ab52d===_0x3613f9(0x22d);}['_isPrimitiveWrapperType'](_0x197476){var _0x185da3=_0x3886ef;return _0x197476===_0x185da3(0x220)||_0x197476==='String'||_0x197476===_0x185da3(0x1c0);}[_0x3886ef(0x20e)](_0x144cf2,_0x474c33,_0x3d4c2f,_0x34432a,_0x574152,_0x790d4b){var _0x2c09b5=this;return function(_0x7fc04c){var _0x5de0f4=_0x42cc,_0x1f7f5d=_0x574152['node'][_0x5de0f4(0x241)],_0x2fa9cb=_0x574152[_0x5de0f4(0x1d7)]['index'],_0x623410=_0x574152[_0x5de0f4(0x1d7)][_0x5de0f4(0x25d)];_0x574152['node'][_0x5de0f4(0x25d)]=_0x1f7f5d,_0x574152['node']['index']=typeof _0x34432a=='number'?_0x34432a:_0x7fc04c,_0x144cf2[_0x5de0f4(0x296)](_0x2c09b5[_0x5de0f4(0x204)](_0x474c33,_0x3d4c2f,_0x34432a,_0x574152,_0x790d4b)),_0x574152[_0x5de0f4(0x1d7)][_0x5de0f4(0x25d)]=_0x623410,_0x574152[_0x5de0f4(0x1d7)][_0x5de0f4(0x26e)]=_0x2fa9cb;};}[_0x3886ef(0x1d5)](_0x2134e6,_0x3a0630,_0x386992,_0x52b31e,_0x179028,_0x2a93f5,_0x2ed162){var _0x24cf63=_0x3886ef,_0x3648b8=this;return _0x3a0630[_0x24cf63(0x1bf)+_0x179028[_0x24cf63(0x217)]()]=!0x0,function(_0x324ca9){var _0x6b12d7=_0x24cf63,_0x20270e=_0x2a93f5[_0x6b12d7(0x1d7)][_0x6b12d7(0x241)],_0x4ee8db=_0x2a93f5['node']['index'],_0x70af0f=_0x2a93f5[_0x6b12d7(0x1d7)]['parent'];_0x2a93f5['node'][_0x6b12d7(0x25d)]=_0x20270e,_0x2a93f5[_0x6b12d7(0x1d7)][_0x6b12d7(0x26e)]=_0x324ca9,_0x2134e6[_0x6b12d7(0x296)](_0x3648b8['_property'](_0x386992,_0x52b31e,_0x179028,_0x2a93f5,_0x2ed162)),_0x2a93f5[_0x6b12d7(0x1d7)]['parent']=_0x70af0f,_0x2a93f5[_0x6b12d7(0x1d7)]['index']=_0x4ee8db;};}[_0x3886ef(0x204)](_0x1a30be,_0x5919b7,_0x5a37c9,_0x567f3d,_0x5a4bd0){var _0x503327=_0x3886ef,_0x37f4d5=this;_0x5a4bd0||(_0x5a4bd0=function(_0x229421,_0x463f5e){return _0x229421[_0x463f5e];});var _0x3537b0=_0x5a37c9[_0x503327(0x217)](),_0x29cf27=_0x567f3d[_0x503327(0x225)]||{},_0x472d8f=_0x567f3d[_0x503327(0x1c3)],_0x50541f=_0x567f3d[_0x503327(0x2aa)];try{var _0x5cc006=this[_0x503327(0x1c1)](_0x1a30be),_0x378648=_0x3537b0;_0x5cc006&&_0x378648[0x0]==='\\x27'&&(_0x378648=_0x378648[_0x503327(0x1cf)](0x1,_0x378648[_0x503327(0x223)]-0x2));var _0x26d081=_0x567f3d['expressionsToEvaluate']=_0x29cf27[_0x503327(0x1bf)+_0x378648];_0x26d081&&(_0x567f3d[_0x503327(0x1c3)]=_0x567f3d[_0x503327(0x1c3)]+0x1),_0x567f3d[_0x503327(0x2aa)]=!!_0x26d081;var _0x4f7956=typeof _0x5a37c9==_0x503327(0x21c),_0x461cb9={'name':_0x4f7956||_0x5cc006?_0x3537b0:this[_0x503327(0x1c9)](_0x3537b0)};if(_0x4f7956&&(_0x461cb9['symbol']=!0x0),!(_0x5919b7==='array'||_0x5919b7===_0x503327(0x1db))){var _0x8d1d88=this[_0x503327(0x268)](_0x1a30be,_0x5a37c9);if(_0x8d1d88&&(_0x8d1d88['set']&&(_0x461cb9[_0x503327(0x218)]=!0x0),_0x8d1d88[_0x503327(0x283)]&&!_0x26d081&&!_0x567f3d['resolveGetters']))return _0x461cb9[_0x503327(0x282)]=!0x0,this[_0x503327(0x22c)](_0x461cb9,_0x567f3d),_0x461cb9;}var _0x1e465f;try{_0x1e465f=_0x5a4bd0(_0x1a30be,_0x5a37c9);}catch(_0x58984f){return _0x461cb9={'name':_0x3537b0,'type':_0x503327(0x2a1),'error':_0x58984f['message']},this[_0x503327(0x22c)](_0x461cb9,_0x567f3d),_0x461cb9;}var _0x2ed1a8=this[_0x503327(0x2a0)](_0x1e465f),_0x41eb66=this[_0x503327(0x1f3)](_0x2ed1a8);if(_0x461cb9[_0x503327(0x263)]=_0x2ed1a8,_0x41eb66)this[_0x503327(0x22c)](_0x461cb9,_0x567f3d,_0x1e465f,function(){var _0x248b73=_0x503327;_0x461cb9['value']=_0x1e465f[_0x248b73(0x25f)](),!_0x26d081&&_0x37f4d5[_0x248b73(0x214)](_0x2ed1a8,_0x461cb9,_0x567f3d,{});});else{var _0x32e415=_0x567f3d['autoExpand']&&_0x567f3d['level']<_0x567f3d[_0x503327(0x20b)]&&_0x567f3d[_0x503327(0x232)]['indexOf'](_0x1e465f)<0x0&&_0x2ed1a8!=='function'&&_0x567f3d[_0x503327(0x221)]<_0x567f3d[_0x503327(0x29f)];_0x32e415||_0x567f3d[_0x503327(0x1c7)]<_0x472d8f||_0x26d081?(this[_0x503327(0x26a)](_0x461cb9,_0x1e465f,_0x567f3d,_0x26d081||{}),this[_0x503327(0x286)](_0x1e465f,_0x461cb9)):this[_0x503327(0x22c)](_0x461cb9,_0x567f3d,_0x1e465f,function(){var _0x1c126e=_0x503327;_0x2ed1a8===_0x1c126e(0x279)||_0x2ed1a8===_0x1c126e(0x22a)||(delete _0x461cb9[_0x1c126e(0x269)],_0x461cb9[_0x1c126e(0x226)]=!0x0);});}return _0x461cb9;}finally{_0x567f3d[_0x503327(0x225)]=_0x29cf27,_0x567f3d[_0x503327(0x1c3)]=_0x472d8f,_0x567f3d[_0x503327(0x2aa)]=_0x50541f;}}[_0x3886ef(0x214)](_0x2003a9,_0x334096,_0x26b2be,_0x406d77){var _0xcecebc=_0x3886ef,_0x438b19=_0x406d77[_0xcecebc(0x257)]||_0x26b2be['strLength'];if((_0x2003a9===_0xcecebc(0x251)||_0x2003a9===_0xcecebc(0x1fe))&&_0x334096['value']){let _0x556a29=_0x334096['value'][_0xcecebc(0x223)];_0x26b2be['allStrLength']+=_0x556a29,_0x26b2be[_0xcecebc(0x271)]>_0x26b2be[_0xcecebc(0x1e8)]?(_0x334096['capped']='',delete _0x334096[_0xcecebc(0x269)]):_0x556a29>_0x438b19&&(_0x334096[_0xcecebc(0x226)]=_0x334096['value'][_0xcecebc(0x1cf)](0x0,_0x438b19),delete _0x334096[_0xcecebc(0x269)]);}}[_0x3886ef(0x1c1)](_0x30974e){var _0x24faed=_0x3886ef;return!!(_0x30974e&&_0x1ab2a5[_0x24faed(0x25e)]&&this[_0x24faed(0x277)](_0x30974e)===_0x24faed(0x211)&&_0x30974e[_0x24faed(0x1dc)]);}[_0x3886ef(0x1c9)](_0x5a3f8f){var _0x4de6b0=_0x3886ef;if(_0x5a3f8f[_0x4de6b0(0x1f8)](/^\\d+$/))return _0x5a3f8f;var _0x3cf7d4;try{_0x3cf7d4=JSON[_0x4de6b0(0x23c)](''+_0x5a3f8f);}catch{_0x3cf7d4='\\x22'+this['_objectToString'](_0x5a3f8f)+'\\x22';}return _0x3cf7d4[_0x4de6b0(0x1f8)](/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?_0x3cf7d4=_0x3cf7d4[_0x4de6b0(0x1cf)](0x1,_0x3cf7d4['length']-0x2):_0x3cf7d4=_0x3cf7d4[_0x4de6b0(0x23a)](/'/g,'\\x5c\\x27')[_0x4de6b0(0x23a)](/\\\\\"/g,'\\x22')[_0x4de6b0(0x23a)](/(^\"|\"$)/g,'\\x27'),_0x3cf7d4;}['_processTreeNodeResult'](_0x43a71c,_0xb8af3a,_0x3e8b72,_0x50e39b){var _0xad7e1e=_0x3886ef;this[_0xad7e1e(0x20a)](_0x43a71c,_0xb8af3a),_0x50e39b&&_0x50e39b(),this[_0xad7e1e(0x286)](_0x3e8b72,_0x43a71c),this[_0xad7e1e(0x276)](_0x43a71c,_0xb8af3a);}[_0x3886ef(0x20a)](_0x2d4594,_0x658d5f){var _0x5bdce6=_0x3886ef;this[_0x5bdce6(0x1c5)](_0x2d4594,_0x658d5f),this[_0x5bdce6(0x29e)](_0x2d4594,_0x658d5f),this[_0x5bdce6(0x26b)](_0x2d4594,_0x658d5f),this[_0x5bdce6(0x1f4)](_0x2d4594,_0x658d5f);}[_0x3886ef(0x1c5)](_0xbf475e,_0x10f791){}['_setNodeQueryPath'](_0x9bf3a4,_0x480223){}['_setNodeLabel'](_0x54915b,_0x478fb4){}[_0x3886ef(0x231)](_0x16e0d8){var _0x415be2=_0x3886ef;return _0x16e0d8===this[_0x415be2(0x240)];}[_0x3886ef(0x276)](_0x96b231,_0x38314d){var _0xc16b92=_0x3886ef;this[_0xc16b92(0x29d)](_0x96b231,_0x38314d),this['_setNodeExpandableState'](_0x96b231),_0x38314d[_0xc16b92(0x1e7)]&&this[_0xc16b92(0x2ac)](_0x96b231),this[_0xc16b92(0x20f)](_0x96b231,_0x38314d),this['_addLoadNode'](_0x96b231,_0x38314d),this[_0xc16b92(0x1d4)](_0x96b231);}[_0x3886ef(0x286)](_0x4621aa,_0x44eddb){var _0x3476c3=_0x3886ef;try{_0x4621aa&&typeof _0x4621aa[_0x3476c3(0x223)]=='number'&&(_0x44eddb[_0x3476c3(0x223)]=_0x4621aa[_0x3476c3(0x223)]);}catch{}if(_0x44eddb[_0x3476c3(0x263)]===_0x3476c3(0x22d)||_0x44eddb[_0x3476c3(0x263)]===_0x3476c3(0x1c0)){if(isNaN(_0x44eddb[_0x3476c3(0x269)]))_0x44eddb[_0x3476c3(0x1d8)]=!0x0,delete _0x44eddb[_0x3476c3(0x269)];else switch(_0x44eddb[_0x3476c3(0x269)]){case Number[_0x3476c3(0x236)]:_0x44eddb['positiveInfinity']=!0x0,delete _0x44eddb[_0x3476c3(0x269)];break;case Number[_0x3476c3(0x222)]:_0x44eddb[_0x3476c3(0x284)]=!0x0,delete _0x44eddb[_0x3476c3(0x269)];break;case 0x0:this[_0x3476c3(0x292)](_0x44eddb[_0x3476c3(0x269)])&&(_0x44eddb[_0x3476c3(0x205)]=!0x0);break;}}else _0x44eddb['type']===_0x3476c3(0x265)&&typeof _0x4621aa[_0x3476c3(0x28a)]=='string'&&_0x4621aa[_0x3476c3(0x28a)]&&_0x44eddb[_0x3476c3(0x28a)]&&_0x4621aa[_0x3476c3(0x28a)]!==_0x44eddb['name']&&(_0x44eddb[_0x3476c3(0x23e)]=_0x4621aa[_0x3476c3(0x28a)]);}[_0x3886ef(0x292)](_0x59da45){var _0x551b67=_0x3886ef;return 0x1/_0x59da45===Number[_0x551b67(0x222)];}[_0x3886ef(0x2ac)](_0x223694){var _0xb73016=_0x3886ef;!_0x223694[_0xb73016(0x21d)]||!_0x223694['props'][_0xb73016(0x223)]||_0x223694[_0xb73016(0x263)]===_0xb73016(0x1d3)||_0x223694[_0xb73016(0x263)]===_0xb73016(0x25e)||_0x223694[_0xb73016(0x263)]===_0xb73016(0x1eb)||_0x223694['props'][_0xb73016(0x1ce)](function(_0x17ec2b,_0xc4d7bb){var _0x2b9c14=_0xb73016,_0xe2ec0b=_0x17ec2b[_0x2b9c14(0x28a)][_0x2b9c14(0x260)](),_0x31dd43=_0xc4d7bb[_0x2b9c14(0x28a)]['toLowerCase']();return _0xe2ec0b<_0x31dd43?-0x1:_0xe2ec0b>_0x31dd43?0x1:0x0;});}[_0x3886ef(0x20f)](_0x301937,_0x1c2400){var _0x55e4a1=_0x3886ef;if(!(_0x1c2400[_0x55e4a1(0x2a9)]||!_0x301937[_0x55e4a1(0x21d)]||!_0x301937[_0x55e4a1(0x21d)][_0x55e4a1(0x223)])){for(var _0x3cfff1=[],_0xde088f=[],_0x455482=0x0,_0x17f8cd=_0x301937[_0x55e4a1(0x21d)][_0x55e4a1(0x223)];_0x455482<_0x17f8cd;_0x455482++){var _0x1336fe=_0x301937['props'][_0x455482];_0x1336fe[_0x55e4a1(0x263)]===_0x55e4a1(0x265)?_0x3cfff1[_0x55e4a1(0x296)](_0x1336fe):_0xde088f[_0x55e4a1(0x296)](_0x1336fe);}if(!(!_0xde088f['length']||_0x3cfff1[_0x55e4a1(0x223)]<=0x1)){_0x301937[_0x55e4a1(0x21d)]=_0xde088f;var _0x29ef09={'functionsNode':!0x0,'props':_0x3cfff1};this['_setNodeId'](_0x29ef09,_0x1c2400),this[_0x55e4a1(0x29d)](_0x29ef09,_0x1c2400),this[_0x55e4a1(0x235)](_0x29ef09),this[_0x55e4a1(0x1f4)](_0x29ef09,_0x1c2400),_0x29ef09['id']+='\\x20f',_0x301937[_0x55e4a1(0x21d)][_0x55e4a1(0x23b)](_0x29ef09);}}}[_0x3886ef(0x24d)](_0x32337f,_0x82c950){}[_0x3886ef(0x235)](_0x3968b3){}[_0x3886ef(0x1df)](_0x1089cf){var _0xe8aee4=_0x3886ef;return Array[_0xe8aee4(0x28e)](_0x1089cf)||typeof _0x1089cf==_0xe8aee4(0x1d0)&&this[_0xe8aee4(0x277)](_0x1089cf)==='[object\\x20Array]';}['_setNodePermissions'](_0x4bbf30,_0x58deb5){}[_0x3886ef(0x1d4)](_0x1e485b){var _0x5e91c1=_0x3886ef;delete _0x1e485b[_0x5e91c1(0x26d)],delete _0x1e485b[_0x5e91c1(0x1c8)],delete _0x1e485b[_0x5e91c1(0x215)];}[_0x3886ef(0x26b)](_0x1697fb,_0x4a69e2){}[_0x3886ef(0x1e3)](_0x1452d1){var _0x5cbe9b=_0x3886ef;return _0x1452d1?_0x1452d1['match'](this[_0x5cbe9b(0x274)])?'['+_0x1452d1+']':_0x1452d1[_0x5cbe9b(0x1f8)](this['_keyStrRegExp'])?'.'+_0x1452d1:_0x1452d1[_0x5cbe9b(0x1f8)](this['_quotedRegExp'])?'['+_0x1452d1+']':'[\\x27'+_0x1452d1+'\\x27]':'';}}let _0x18b3ec=new _0xd341c9();function _0x43a9f0(_0xb6f140,_0x52b314,_0x1cf6f1,_0x233420,_0x1e3428,_0x3b9f97){var _0x3c786e=_0x3886ef;let _0x27edf9,_0x2ddae7;try{_0x2ddae7=_0x35a29b(),_0x27edf9=_0x53d25f[_0x52b314],!_0x27edf9||_0x2ddae7-_0x27edf9['ts']>0x1f4&&_0x27edf9['count']&&_0x27edf9['time']/_0x27edf9['count']<0x64?(_0x53d25f[_0x52b314]=_0x27edf9={'count':0x0,'time':0x0,'ts':_0x2ddae7},_0x53d25f[_0x3c786e(0x293)]={}):_0x2ddae7-_0x53d25f[_0x3c786e(0x293)]['ts']>0x32&&_0x53d25f[_0x3c786e(0x293)][_0x3c786e(0x28f)]&&_0x53d25f[_0x3c786e(0x293)][_0x3c786e(0x248)]/_0x53d25f[_0x3c786e(0x293)]['count']<0x64&&(_0x53d25f[_0x3c786e(0x293)]={});let _0x51a290=[],_0x2984e2=_0x27edf9[_0x3c786e(0x26f)]||_0x53d25f[_0x3c786e(0x293)][_0x3c786e(0x26f)]?_0x4eb728:_0x51f37f,_0x3e1853=_0x18b4df=>{var _0x3fd78a=_0x3c786e;let _0xbd90a1={};return _0xbd90a1[_0x3fd78a(0x21d)]=_0x18b4df[_0x3fd78a(0x21d)],_0xbd90a1[_0x3fd78a(0x261)]=_0x18b4df[_0x3fd78a(0x261)],_0xbd90a1[_0x3fd78a(0x257)]=_0x18b4df[_0x3fd78a(0x257)],_0xbd90a1[_0x3fd78a(0x1e8)]=_0x18b4df['totalStrLength'],_0xbd90a1[_0x3fd78a(0x29f)]=_0x18b4df[_0x3fd78a(0x29f)],_0xbd90a1[_0x3fd78a(0x20b)]=_0x18b4df[_0x3fd78a(0x20b)],_0xbd90a1['sortProps']=!0x1,_0xbd90a1[_0x3fd78a(0x2a9)]=!_0x3a2bd6,_0xbd90a1[_0x3fd78a(0x1c3)]=0x1,_0xbd90a1[_0x3fd78a(0x1c7)]=0x0,_0xbd90a1[_0x3fd78a(0x266)]=_0x3fd78a(0x25c),_0xbd90a1[_0x3fd78a(0x1f9)]=_0x3fd78a(0x227),_0xbd90a1[_0x3fd78a(0x1f1)]=!0x0,_0xbd90a1[_0x3fd78a(0x232)]=[],_0xbd90a1[_0x3fd78a(0x221)]=0x0,_0xbd90a1[_0x3fd78a(0x1f6)]=!0x0,_0xbd90a1[_0x3fd78a(0x271)]=0x0,_0xbd90a1[_0x3fd78a(0x1d7)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0xbd90a1;};for(var _0x25c2ed=0x0;_0x25c2ed<_0x1e3428[_0x3c786e(0x223)];_0x25c2ed++)_0x51a290[_0x3c786e(0x296)](_0x18b3ec[_0x3c786e(0x26a)]({'timeNode':_0xb6f140==='time'||void 0x0},_0x1e3428[_0x25c2ed],_0x3e1853(_0x2984e2),{}));if(_0xb6f140===_0x3c786e(0x201)){let _0xb500ce=Error[_0x3c786e(0x1e0)];try{Error[_0x3c786e(0x1e0)]=0x1/0x0,_0x51a290[_0x3c786e(0x296)](_0x18b3ec[_0x3c786e(0x26a)]({'stackNode':!0x0},new Error()['stack'],_0x3e1853(_0x2984e2),{'strLength':0x1/0x0}));}finally{Error[_0x3c786e(0x1e0)]=_0xb500ce;}}return{'method':_0x3c786e(0x262),'version':_0x3f1e88,'args':[{'id':_0x52b314,'ts':_0x1cf6f1,'args':_0x51a290,'context':_0x3b9f97,'session':_0x233420}]};}catch(_0x2d5fcb){return{'method':_0x3c786e(0x262),'version':_0x3f1e88,'args':[{'id':_0x52b314,'ts':_0x1cf6f1,'args':[{'type':'unknown','error':_0x2d5fcb&&_0x2d5fcb['message'],'context':_0x3b9f97,'session':_0x233420}]}]};}finally{try{if(_0x27edf9&&_0x2ddae7){let _0x4a114d=_0x35a29b();_0x27edf9[_0x3c786e(0x28f)]++,_0x27edf9[_0x3c786e(0x248)]+=_0x12c66b(_0x2ddae7,_0x4a114d),_0x27edf9['ts']=_0x4a114d,_0x53d25f[_0x3c786e(0x293)][_0x3c786e(0x28f)]++,_0x53d25f['hits'][_0x3c786e(0x248)]+=_0x12c66b(_0x2ddae7,_0x4a114d),_0x53d25f[_0x3c786e(0x293)]['ts']=_0x4a114d,(_0x27edf9[_0x3c786e(0x28f)]>0x32||_0x27edf9[_0x3c786e(0x248)]>0x64)&&(_0x27edf9[_0x3c786e(0x26f)]=!0x0),(_0x53d25f[_0x3c786e(0x293)]['count']>0x3e8||_0x53d25f[_0x3c786e(0x293)][_0x3c786e(0x248)]>0x12c)&&(_0x53d25f['hits']['reduceLimits']=!0x0);}}catch{}}}return _0x1ab2a5['_console_ninja'];})(globalThis,_0x5de714(0x1ec),_0x5de714(0x285),_0x5de714(0x250),_0x5de714(0x29a),_0x5de714(0x27f),_0x5de714(0x2a2),_0x5de714(0x249),_0x5de714(0x1c2));")}catch(e){}}function Xi(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];try{Gi().consoleLog(e,t)}catch(e){}return t}})(),r})()));