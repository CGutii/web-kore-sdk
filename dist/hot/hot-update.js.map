{"version":3,"file":"hot/hot-update.js","mappings":"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","sources":["webpack://kore-web-sdk/./src/plugins/desktopNotifications/desktopnotifications.ts","webpack://kore-web-sdk/webpack/runtime/getFullHash"],"sourcesContent":["class KoreDesktopNotificationPlugin {\n    name: string = 'KoreDesktopNotificationPlugin ';\n    config: any = {};\n    isTabActive: boolean = true;\n\n    notificationSound = 'data:audio/mp3;base64,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zAAsn0RSRtagYAuIngKTAwGaIivmbabacEwyMwBM8RZuAjDHziuNGS00SpIWLiRqtQ3/+5Bk+4Hz2WjQ+4+kKAAADSAAAAEoZaM57u31qAAANIAAAARaubXxcM5xnT/k4ECrXOln626P9Ymoyf84BTGikP/6gmIPhw8////6/6BGUrUQ3///o7t648aACIsySkldHGJGyt2mD1WQY0yJxAONkjeUgJmZmOHMAbW1v6zEnzPOtWZG3UQUe/5GDB+s9+WfNv8olX+pAEIyESNm//cZ8KwI41S/////zh7EyrzPywACj9EAGCzyt2zWacgFsypOVRb/WiOhwOalvhYAO6J0gJGSPzRQQTB9lS0W5MayKk71EOK38ag899vyy/Kn+Yt/Y2IIRczJ3/9kwxoCk0hxfV/////kONa9EaDIALDAAAu4AAAC/cOxGCmi1LpeYZAEwfCgwXAQwvHI5lQUw5AYvSy6Ky6zR3aZwZ9BJST1CPhvOZESIk/Mkv4RDCS809tbCmjbpHBQb/zFv6aAauIsxk/bqWgmYDlgV/AfgSHxBwZon/////VrywRX///rgImZIAA/oAAABu7hG1MOoxPCXt67ZEPQcGQoawLDhwBulHb/+2Bk2oTzTlBU+0lsMAAADSAAAAEK1TVV7RpwoAAANIAAAAS2OjOxYdBlmx9JYpq+j9v4d416f9cokLZZHf6/+susr6vqWcI8CEgG9SfDznn/////9Wok///+WoG+AAl7AG+oSLSR/14St9GViACDDELxIDzCweD1hgzFYCBYD1+OXFJ92IYttyokVJqN6QXCDCZTP679ajEIg4PurNOps6sdAZVA3KAZZQ///U7s/O+6lmQxoGAWYBq0JhAAQRBIiJsi///9f1fqqJUcpf//////y7WYiZhQAFfwAAAos8951IpK4bfWRt3jT2LAM9BJDOAxCMj3JlJim9sGRWf3cp7cfnL/+2Bk6oDy81DUe2mkGAAADSAAAAEOVUM/4PaHoAAANIAAAASbtmAjIqGaamq09mTQwyQSdW/9cahC1OLc/////69AzKYDzAF/YZdFSWg3/////XsQjf//6Zi7lzAAL+AS29luAkTkbS1rVExe7jzrOi3UwgdBIYh+Ya0DoSYRDHXFz73foER8A8jZeTDSIrp1HXtFlJWZFaAhEIOTa3+sdRElsYlX////+io2kNIgAacA3pwMsk4TwOu//+K///9ygAAJUAKOBaGAD3/JkuLMBumBEhzQtyAPSGG5ofZy4YGyWk/sIIKZf/nERN7/////6mHioAWCnEGJj8AADjgaKqBpJFr/+2Bk8oHy1lDReFyh2AAADSAAAAEPFZc5oXanoAAANIAAAASU1UxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+1Bk+QHzKFDQ+xyjqAAADSAAAAEM9PFD7TKQ4AAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTku//sgZOiD8c88UPogVZgAAA0gAAABAWgrPoGBIWAAADSAAAAENVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EGTdj/AAAH+AAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQZN2P8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xBk3Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EGTdj/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQZN2P8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xBk3Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EGTdj/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQZN2P8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUQUcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/w==';\n    constructor() {}\n\n    onHostCreate() {\n        this.onInit();\n    }\n    onInit() {\n        let me: any = this;\n\n        if (Notification.permission === \"default\") {\n            Notification.requestPermission();\n        }\n\n        document.addEventListener(\"visibilitychange\", (event) => {\n            if (document.visibilityState == \"visible\") {\n              me.isTabActive = true;\n            } else {\n              me.isTabActive = false;\n            }\n          });\n\n        me.hostInstance.on('onWSMessage', (event: any) => {\n            if (event.messageData?.message?.type === 'agent_connected') {\n                var snd = new Audio(me.notificationSound);\n                snd.play();\n            }\n\n            if (event.messageData?.type === 'bot_response' && event.messageData?.message[0]?.component?.payload?.payload?.template_type === 'live_agent' && event.messageData?.message[0]?.component?.payload?.payload?.text) {\n                if (Notification.permission !== \"granted\") return;\n\n                const text = event.messageData?.message[0]?.component?.payload?.payload?.text;\n                const options = {\n                    body: text,\n                    sound: this.notificationSound,\n                    requireInteraction: false,\n                    onclick: (event: any) => {\n                        event.target.close();\n                    }\n                }\n                let notification: any;\n                \n                if (!me.isTabActive) {\n\n                    if (event.messageData.author?.firstName) {\n                        const agentName = event.messageData.author.firstName + \" \" + event.messageData.author.lastName;\n                        notification = new Notification(\"New message from \" + agentName, options);\n                    } else {\n                        notification = new Notification(\"You have a new notification.\", options);\n                    }\n                    \n                    var snd = new Audio(this.notificationSound);\n                    snd.play();\n                }\n                if (notification) {\n                    notification.onclick = function (event: any) {\n                        window.parent.focus();\n                        notification.close();\n                    };\n                }\n            }\n        });\n    }\n}\n\nexport default KoreDesktopNotificationPlugin;","__webpack_require__.h = () => (\"5628969b5cdb0773739c\")"],"names":[],"sourceRoot":""}