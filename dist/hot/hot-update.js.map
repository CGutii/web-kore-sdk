{"version":3,"file":"hot/hot-update.js","mappings":"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","sources":["webpack://kore-web-sdk/./src/templatemanager/templates/tableTemplate/tableTemplate.ts","webpack://kore-web-sdk/webpack/runtime/getFullHash"],"sourcesContent":["\r\nimport helpers from '../../../utils/helpers';\r\nimport './tableTemplate.scss';\r\nclass TableChartTemplate {\r\n\r\n    renderMessage(msgData: any) {\r\n        let me: any = this;\r\n        let $ = me.hostInstance.$;\r\n        let helpersObj = helpers;\r\n\r\n        if (msgData?.message?.[0]?.component?.payload?.template_type === \"table\") {\r\n            me.messageHtml = $(me.getTemplateString()).tmpl({\r\n                'msgData': msgData,\r\n                'helpers': helpersObj.helpers\r\n            });\r\n            me.bindEvents();\r\n            return me.messageHtml;\r\n        }\r\n    }\r\n    bindEvents() {\r\n        let me: any = this;\r\n        let $ = me.hostInstance.$;\r\n        setTimeout(() => {\r\n            const acc = document.getElementsByClassName('accordionRow');\r\n            for (var i = 0; i < acc.length; i++) {\r\n                let accordian: any = acc[i];\r\n                accordian.onclick = function (e: any) {\r\n                    let selectedAcc = e.currentTarget;\r\n                    selectedAcc.classList.toggle('open');\r\n                };\r\n            }\r\n            const showFullTableModal = document.getElementsByClassName('showMore');\r\n            for (var j = 0; j < showFullTableModal.length; j++) {\r\n                let element: any = showFullTableModal[j];\r\n                element.onclick = function (e: any) {\r\n                    let selectedTarget = e.currentTarget;\r\n                    const parentli = selectedTarget.parentElement;\r\n                   // const tableChartDiv =  $(parentli).closest('.tableChart'); can be uncommented if using tableChartDiv\r\n                    $('#dialog').empty();\r\n                    $('#dialog').html($(parentli).find('.tablechartDiv').html());\r\n                    $('.hello').clone().appendTo('.goodbye');\r\n                    const modal: any = document.getElementById('myPreviewModal');\r\n                    $('.largePreviewContent').empty();\r\n                    // $(\".largePreviewContent\").html($(parentli).find('.tablechartDiv').html());\r\n                    console.log($(parentli).find('.tablechartDiv'));\r\n\r\n                   $(parentli).clone().appendTo('.largePreviewContent');\r\n                    modal.style.display = 'block';\r\n                    // Get the <span> element that closes the modal\r\n                    const span: any = document.getElementsByClassName('closeElePreview')[0];\r\n                    // When the user clicks on <span> (x), close the modal\r\n                    span.onclick = function () {\r\n                        modal.style.display = 'none';\r\n                        $('.largePreviewContent').removeClass('addheight');\r\n                    };\r\n                };\r\n            }\r\n        }, 350);\r\n    }\r\n    getTemplateString() {\r\n        var tableChartTemplate = '<script id=\"chat_table_tmpl\" type=\"text/x-jqury-tmpl\"> \\\r\n        {{if msgData.message}} \\\r\n            <li data-time=\"${msgData.createdOnTimemillis}\" id=\"${msgData.messageId || msgItem.clientMessageId}\"\\\r\n                class=\"{{if msgData.type === \"bot_response\"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon tablechart\"> \\\r\n                {{if msgData.createdOn}}<div aria-live=\"off\" class=\"extra-info\">${helpers.formatDate(msgData.createdOn)}</div>{{/if}} \\\r\n                {{if msgData.icon}}<div aria-live=\"off\" class=\"profile-photo extraBottom\"> <div class=\"user-account avtar\" style=\"background-image:url(${msgData.icon})\"></div> </div> {{/if}} \\\r\n                {{if msgData.message[0].component.payload.text}}<div class=\"messageBubble tableChart\">\\\r\n                    <span>{{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, \"bot\")}}</span>\\\r\n                </div>{{/if}}\\\r\n                <div class=\"tablechartDiv {{if msgData.message[0].component.payload.table_design && msgData.message[0].component.payload.table_design == \"regular\"}}regular{{else}}hide{{/if}}\">\\\r\n                    <div style=\"overflow-x:auto; padding: 0 8px;\">\\\r\n                        <table cellspacing=\"0\" cellpadding=\"0\">\\\r\n                            <tr class=\"headerTitle\">\\\r\n                                {{each(key, tableHeader) msgData.message[0].component.payload.columns}} \\\r\n                                    <th {{if tableHeader[1]}}style=\"text-align:${tableHeader[1]};\"{{/if}}>${tableHeader[0]}</th>\\\r\n                                {{/each}} \\\r\n                            </tr>\\\r\n                            {{each(key, tableRow) msgData.message[0].component.payload.elements}} \\\r\n                                {{if tableRow.Values.length>1}}\\\r\n                                    <tr {{if key > 4}}class=\"hide\"{{/if}}>\\\r\n                                        {{each(cellkey, cellValue) tableRow.Values}} \\\r\n                                            <td  {{if cellkey === tableRow.Values.length-1}}colspan=\"2\"{{/if}} class=\" {{if key == 0}} addTopBorder {{/if}}\" {{if msgData.message[0].component.payload.columns[cellkey][1]}}style=\"text-align:${msgData.message[0].component.payload.columns[cellkey][1]};\" {{/if}} title=\"${cellValue}\">${cellValue}</td>\\\r\n                                        {{/each}} \\\r\n                                    </tr>\\\r\n                                {{/if}}\\\r\n                            {{/each}} \\\r\n                        </table>\\\r\n                    </div>\\\r\n                    {{if msgData.message[0].component.payload.elements.length > 5 && msgData.message[0].component.payload.table_design && msgData.message[0].component.payload.table_design == \"regular\"}}<div class=\"showMore\">Show more</div>{{/if}}\\\r\n                </div>\\\r\n                 <div class=\"accordionTable {{if msgData.message[0].component.payload.table_design && msgData.message[0].component.payload.table_design == \"regular\"}}hide{{else}}responsive{{/if}}\">\\\r\n                    {{each(key, tableRow) msgData.message[0].component.payload.elements}} \\\r\n                        {{if key < 4}}\\\r\n                            <div class=\"accordionRow\">\\\r\n                                {{each(cellkey, cellValue) tableRow.Values}} \\\r\n                                    {{if cellkey < 2}}\\\r\n                                        <div class=\"accordionCol\">\\\r\n                                            <div class=\"colTitle hideSdkEle\">${msgData.message[0].component.payload.columns[cellkey][0]}</div>\\\r\n                                            <div class=\"colVal\">${cellValue}</div>\\\r\n                                        </div>\\\r\n                                    {{else}}\\\r\n                                        <div class=\"accordionCol hideSdkEle\">\\\r\n                                            <div class=\"colTitle\">${msgData.message[0].component.payload.columns[cellkey][0]}</div>\\\r\n                                            <div class=\"colVal\">${cellValue}</div>\\\r\n                                        </div>\\\r\n                                    {{/if}}\\\r\n                                {{/each}} \\\r\n                                <span class=\"fa fa-caret-right tableBtn\"></span>\\\r\n                            </div>\\\r\n                        {{/if}}\\\r\n                    {{/each}} \\\r\n                    <div class=\"showMore\">Show more</div>\\\r\n                </div>\\\r\n            </li> \\\r\n        {{/if}} \\\r\n    </scipt>';\r\n        return tableChartTemplate;\r\n    }\r\n\r\n}\r\n\r\nexport default TableChartTemplate;","__webpack_require__.h = () => (\"592f52760e43234ae010\")"],"names":[],"sourceRoot":""}